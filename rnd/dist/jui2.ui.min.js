/*! jui2 29-06-2016 Copyright Deddy Lasmono Putro */

var jui2=jui2||{ui:{},lang:{}};!function(a){Array.prototype._reduce=function(a){"use strict";if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"==typeof a){var b,c=Object(this),d=c.length>>>0,e=0;if(2==arguments.length)b=arguments[1];else{for(;d>e&&!(e in c);)e++;if(e>=d)throw new TypeError("Reduce of empty array with no initial value");b=c[e++]}for(;d>e;e++)e in c&&(b=a(b,c[e],e,c));return b}},jui2.path="./dist/",jui2.ctrlPressed=!1,jui2.loadExtension=function(){a.getJSON(jui2.path+"extension/").done(function(a){for(i in a)a[i]=jui2.path+"extension/"+a[i]+"/"+a[i]+".js";head.load(a)})},jui2.lang=jui2.lang||{},jui2.ui=jui2.ui||{},jui2.random=function(a,b){var c,d,e="",f="";for(c={a:"abcdefghijklmnopqrstuvwxyz",A:"ABCDEFGHIJKLMNOPQRSTUVWXYZ","#":"0123456789","!":"~`!@#$%^&*()_+-={}[]:\";'<>?,./|\\"},d=b.length;d--;)f+=c[b[d]];for(d=a;d>0;--d)e+=f[Math.round(Math.random()*(f.length-1))];return e},jui2.findHighestZIndex=function(){return Math.max.apply(null,a.map(a("body > *"),function(b,c){return"absolute"==a(b).css("position")?parseInt(a(b).css("z-index"))||1:void 0}))},jui2.clearNullFromJson=function(a){jui2.iterateJson(a,function(a){if("object"==typeof a)for(var b in a)a[b]||0!=a[b]&&(a[b]="")})},jui2.iterateJson=function(a,b){for(var c in a)b(a[c]),"object"==typeof a[c]&&jui2.iterateJson(a[c],b)},jui2.confirm=function(b,c,d){a("body").append(jui2.tmpl.confirm({label:b})),a(".j-confirm j-button").eq(0).click(function(){c.call(this),a(".j-confirm").remove()}),a(".j-confirm j-button").eq(1).click(function(){d.call(this),a(".j-confirm").remove()})},a.fn.jui2Serialize=function(){value={},this.find("[role=textField],[role=timeField],[role=uploadField],[role=textArea],[role=dateField],[role=comboField],[role=datePicker],[role=passwordField],[role=radioField]").each(function(){var b=a(this),c=b.attr("role"),d=b.attr("name")||b.attr("id"),e="";"textArea"==c&&(e=a(b.find("iframe")[0].contentWindow.document.body).html().trim()),value[d]="textArea"==c&&"<br>"!=e&&""!=jui2.escapeHtmlEntities(e.replace("&#x2010;","-").replace("&#x2013;","-").replace("&#x9;","").replace(/&nbsp;/g," ").replace(/\s\s+/g," ").replace(/(^<br>|<br>$)/g,""))&&jui2.escapeHtmlEntities(jui2.cleanWordPaste(e).replace("&#x2010;","-").replace("&#x2013;","-").replace("&#x9;","").replace(/&nbsp;/g," ").replace(/\s\s+/g," ").replace(/(^<br>|<br>$)/g,""))||"comboField"==c&&b.find("input[type=hidden]").val()||"radioField"==c&&b.find("input:checked").val()||"timeField"==c&&b.find("input").eq(0).val()+":"+b.find("input").eq(1).val()||b.find("input").val(),"textArea"==c&&"<br>"==value[d]&&(value[d]=""),"textArea"==c&&value[d]&&(value[d]=jui2.escapeHtmlEntities(he.encode(value[d],{allowUnsafeSymbols:!1}).replace("&#x2010;","-").replace("&#x2013;","-").replace("&#x9;","").replace(/&nbsp;/g," ").replace(/\s\s+/g," ")))});return this.find("j-datefield, j-combofield").each(function(b,c){var d=a(c),e=d.attr("name")||d.attr("id");value[e]=d.val()}),value=a.extend(value,a(this).getValues()),value},a.fn.overlappedSize=function(b){var c=a(b),d=this.offset(),e=c.offset(),f=this.outerWidth(),g=c.outerWidth(),h=this.outerHeight(),i=c.outerHeight(),j=Math.max(Math.min(d.left+f,e.left+g)-Math.max(d.left,e.left),0),k=Math.max(Math.min(d.top+h,e.top+i)-Math.max(d.top,e.top),0);return{width:j,height:k}},a.calcDistance=function(a,b){var c=0,d=0;return c=b.x-a.x,c*=c,d=b.y-a.y,d*=d,Math.sqrt(c+d)},a.fn.centerPoint=function(){var a=this.offset();return{x:a.left+this.outerWidth()/2,y:a.top+this.outerHeight()/2}},a.fn.nearestDistance=function(b){var c=this.outerWidth(),d=this.outerHeight(),e=this.offset(),f={x:e.left,y:e.top},g={x:e.left,y:e.top+d},h={x:e.left+c,y:e.top},i={x:e.left+c,y:e.top+d},j=e.top+d,k=e.left+c;return el=a(b),elOuterHeight=el.outerHeight(),elOuterWidth=el.outerWidth(),offset2=el.offset(),topLeft2={x:offset2.left,y:offset2.top},bottomLeft2={x:offset2.left,y:offset2.top+elOuterHeight},topRight2={x:offset2.left+elOuterWidth,y:offset2.top},bottomRight2={x:offset2.left+elOuterWidth,y:offset2.top+elOuterHeight},bottom2=offset2.top+elOuterHeight,right2=offset2.left+elOuterWidth,distance=[],k>offset2.left&&!(e.left>right2)&&(j<offset2.top&&distance.push(offset2.top-j),bottom2<e.top&&distance.push(e.top-bottom2)),j>offset2.top&&!(e.top>bottom2)&&(k<offset2.left&&distance.push(offset2.left-k),right2<e.left&&distance.push(e.left-right2)),j<offset2.top?distance.push(a.calcDistance(i,topLeft2),a.calcDistance(i,topRight2),a.calcDistance(g,topLeft2),a.calcDistance(g,topRight2)):bottom2<e.top&&distance.push(a.calcDistance(bottomRight2,f),a.calcDistance(bottomRight2,h),a.calcDistance(bottomLeft2,f),a.calcDistance(bottomLeft2,h)),k<offset2.left?distance.push(a.calcDistance(i,topLeft2),a.calcDistance(i,bottomLeft2),a.calcDistance(h,topLeft2),a.calcDistance(h,bottomLeft2)):right2<e.left&&distance.push(a.calcDistance(bottomRight2,f),a.calcDistance(bottomRight2,g),a.calcDistance(topRight2,f),a.calcDistance(topRight2,g)),Math.min.apply(null,distance)},a.fn.nearest=function(b){var c,d,e,f=!1,g=this,h=a(),i=!1;this.offset(),this.outerWidth(),this.outerHeight();return a(b||"*:visible").not(this.get(0)).each(function(b,j){f?(c=g.overlappedSize(j),c=c.width*c.height,c>i?(h=a(j),i=c):i==c&&(d=h.last(),e=a(j),dist2=a.calcDistance(g.centerPoint(),e.centerPoint()),dist1=a.calcDistance(g.centerPoint(),d.centerPoint()),dist2<dist1?h=e:dist1==dist2&&(h=h.add(j)))):g.isOverlap(j)?(c=g.overlappedSize(j),c=c.width*c.height,h=a(j),i=c,h.add(j),f=!0):i?g.nearestDistance(j)<i?(h=a(j),i=g.nearestDistance(j)):i==g.nearestDistance(j)&&(d=h.last(),e=a(j),dist2=a.calcDistance(g.centerPoint(),e.centerPoint()),dist1=a.calcDistance(g.centerPoint(),d.centerPoint()),dist2<dist1?h=e:dist1==dist2&&(h=h.add(j))):(i=g.nearestDistance(j),h=a(j))}),h},a.fn.inViewport=function(){var a=this.getBoundingClientRect();return a.top>=0&&a.left>=0&&a.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&a.right<=(window.innerWidth||document.documentElement.clientWidth)},a.fn.outerHTML=function(a){return a?this.before(a).remove():jQuery("<p>").append(this.eq(0).clone()).html()},a.fn.touchTop=function(){return a(this).offset().top<0},a.fn.touchBottom=function(){var b=a(window);return this.offset().top+this.height()>=b.height()+b.scrollTop()},a.fn.getValues=function(){var b={};return this.find("j-textfield, j-textarea, j-wysiwyg, j-passwordfield, j-combofield, j-datefield, j-numberfield, j-editor, j-timefield").filter(function(){var b=a(this);return void 0!==(b.attr("name")||b.attr("id"))}).each(function(c,d){var e=a(d),f=e.attr("name")||e.attr("id");b[f]=e.val()}),b},a.getRGB=function(a){var b,c,d,e;return a.match(/rgb/gi)?(e=a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),b=e[1],c=e[2],d=e[3],{R:b,G:c,B:d}):(b=a.substring(1,3),c=a.substring(3,5),d=a.substring(5,7),{R:parseInt(b,16),G:parseInt(c,16),B:parseInt(d,16)})},a.idealTextColor=function(b){var c=105,d=a.getRGB(b),e=.299*d.R+.587*d.G+.114*d.B;return c>255-e?"#000000":"#ffffff"},a.fn.justtext=function(){var a=this.clone(),b=a.children().remove().end().text();return a.remove(),b},a.fn.center=function(){var b=a(window),c=b.height(),d=b.width(),e=this.outerHeight(!1),f=this.outerWidth(!1);return this.css("position","absolute"),"fixed"==this.parent().css("position")?(this.css("top",Math.max(0,(c-e)/2)+"px"),this.css("left",Math.max(0,(d-f)/2)+"px")):(this.css("top",Math.max(0,(c-e)/2+b.scrollTop())+"px"),this.css("left",Math.max(0,(d-f)/2+b.scrollLeft())+"px")),this},a.fn.isOverlap=function(b){var c,d=b instanceof jQuery?b[0].getBoundingClientRect():b instanceof HTMLCollection?b.getBoundingClientRect():a(b)[0].getBoundingClientRect();return this.is(":visible")?c=this[0].getBoundingClientRect():(this.css("opacity",0).show(),c=this[0].getBoundingClientRect(),this.hide().css("opacity","")),!(c.right<d.left||c.left>d.right||c.bottom<d.top||c.top>d.bottom)},a.fn.isInside=function(b){var c=this[0].getBoundingClientRect(),d=b instanceof jQuery?b[0].getBoundingClientRect():b instanceof HTMLCollection?b.getBoundingClientRect():a(b)[0].getBoundingClientRect();return d.right>c.right&&d.left<c.left||d.bottom>c.bottom||d.top<c.top},a.fn.touching=function(b){var c=this;return a(b||"*:visible").filter(function(){return c.isOverlap(this)})},a.fn.hasScrollBar=function(){return this.get(0).scrollHeight>this.outerHeight()},a.fn.checkField=function(){var b=[];return a.each(this,function(c,d){(""==a(d).val()||void 0==a(d).val())&&b.push(a(d))}),0!=b.length?b:!0}}(jQuery),function(a,b,c){"$:nomunge";function d(){e=b[h](function(){f.each(function(){var b=a(this),c=b.width(),d=b.height(),e=a.data(this,j);(c!==e.w||d!==e.h)&&b.trigger(i,[e.w=c,e.h=d])}),d()},g[k])}var e,f=a([]),g=a.resize=a.extend(a.resize,{}),h="setTimeout",i="resize",j=i+"-special-event",k="delay",l="throttleWindow";g[k]=250,g[l]=!0,a.event.special[i]={setup:function(){if(!g[l]&&this[h])return!1;var b=a(this);f=f.add(b),a.data(this,j,{w:b.width(),h:b.height()}),1===f.length&&d()},teardown:function(){if(!g[l]&&this[h])return!1;var b=a(this);f=f.not(b),b.removeData(j),f.length||clearTimeout(e)},add:function(b){function d(b,d,f){var g=a(this),h=a.data(this,j);h.w=d!==c?d:g.width(),h.h=f!==c?f:g.height(),e.apply(this,arguments)}if(!g[l]&&this[h])return!1;var e;return a.isFunction(b)?(e=b,d):(e=b.handler,void(b.handler=d))}}}(jQuery,this),function(a){jui2.lang.day={en:{sun:{"short":"Sun","long":"Sunday"},mon:{"short":"Mon","long":"Monday"},tue:{"short":"Tue","long":"Tuesday"},wed:{"short":"Wed","long":"Wednesday"},thu:{"short":"Thu","long":"Thursday"},fri:{"short":"Fri","long":"Friday"},sat:{"short":"Sat","long":"Saturday"}}}}(jQuery),function(a){jui2.lang.month={en:{jan:{"short":"Jan","long":"January"},feb:{"short":"Feb","long":"February"},mar:{"short":"Mar","long":"March"},apr:{"short":"Apr","long":"April"},may:{"short":"May","long":"May"},jun:{"short":"Jun","long":"June"},jul:{"short":"Jul","long":"July"},aug:{"short":"Aug","long":"August"},sep:{"short":"Sep","long":"September"},oct:{"short":"Oct","long":"October"},nov:{"short":"Nov","long":"November"},dec:{"short":"Dec","long":"December"}}}}(jQuery),function(a){jui2.drag={mouseDown:!1,draggedEl:!1,handler:!1,clientX:0,clientY:0,horizontalDrag:!0,verticalDrag:!0,parent:!1,mouseMove:!1},a(document).ready(function(){a("body").on("mousedown",function(b){if(jui2.drag.mouseDown=!0,jui2.drag.horizontalDrag=!0,jui2.drag.verticalDrag=!0,jui2.drag.mouseMove=!1,jui2.drag.parent=!1,a(b.target).attr("drag"))jui2.drag.draggedEl=a(b.target);else{var c=a(b.target).parents("[drag]");c.length>0&&(jui2.drag.draggedEl=c.eq(0))}var d=jui2.drag.draggedEl;if(jui2.drag.draggedEl)if("relative"==d.parent().css("position")&&(jui2.drag.parent=!0),"false"==d.attr("horizontalDrag")&&(jui2.drag.horizontalDrag=!1),"false"==d.attr("verticalDrag")&&(jui2.drag.verticalDrag=!1),"true"==d.attr("drag").toLowerCase())jui2.drag.handler=d.add(d.find("*"));else{var e=d.find(d.attr("drag"));e.length>0&&(jui2.drag.handler=e)}if(jui2.drag.handler&&(jui2.drag.clientX=b.pageX-d.offset().left,jui2.drag.clientY=b.pageY-d.offset().top,jui2.drag.handler&&(jui2.drag.handler[0]==b.target||a.inArray(b.target,jui2.drag.handler)>-1))){var f=d.parents().filter(function(){return a(this).hasScrollBar()});(0===f.length||"HTML"==f.prop("tagName"))&&(f=a(window)),d.css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),jui2.drag.parent?a(b.target).parent().append("<j-drag></j-drag>"):a("body").append("<j-drag></j-drag>");var g=a("j-drag"),h=b.clientX+f.scrollLeft(),i=b.clientY+f.scrollTop();g.css({width:d.outerWidth(!1),height:d.outerHeight(!1),"z-index":jui2.findHighestZIndex()}).offset({top:i-jui2.drag.clientY,left:h-jui2.drag.clientX}),d.triggerHandler("dragstart",[{x:d.offset().left,y:d.offset().top}])}}).on("mouseup",function(b){if(jui2.drag.handler&&jui2.drag.mouseDown&&a("j-drag").length>0&&jui2.drag.mouseMove){var c=jui2.drag.draggedEl,d=c.parents().filter(function(){return a(this).hasScrollBar()}),e=a("j-drag");(0===d.length||"HTML"==d.prop("tagName"))&&(d=a(window));var f=b.clientX+d.scrollLeft(),g=b.clientY+d.scrollTop(),h=e.offset();jui2.drag.verticalDrag?jui2.drag.horizontalDrag?(c.offset({top:g-jui2.drag.clientY,left:f-jui2.drag.clientX}),c.triggerHandler("dragend",[{x:f-jui2.drag.clientX,y:g-jui2.drag.clientY}])):(c.offset({top:g-jui2.drag.clientY,left:h.left}),c.triggerHandler("dragend",[{x:h.left,y:g-jui2.drag.clientY}])):(c.offset({top:h.top,left:f-jui2.drag.clientX}),c.triggerHandler("dragend",[{x:h.left,y:h.top}])),c.css({"-webkit-touch-callout":"","-webkit-user-select":"","-khtml-user-select":"","-moz-user-select":"","-ms-user-select":"","user-select":""})}jui2.drag.mouseDown=!1,jui2.drag.draggedEl=!1,jui2.drag.handler=!1,a("j-drag").remove()}).on("mousemove",function(b){if(jui2.drag.handler&&jui2.drag.mouseDown){var c=jui2.drag.draggedEl;jui2.drag.mouseMove=!0;var d=c.parents().filter(function(){return a(this).hasScrollBar()});(0===d.length||"HTML"==d.prop("tagName"))&&(d=a(window));var e=b.clientX+d.scrollLeft(),f=b.clientY+d.scrollTop(),g=a("j-drag"),h=g.offset();jui2.drag.verticalDrag?jui2.drag.horizontalDrag?(g.offset({top:f-jui2.drag.clientY,left:e-jui2.drag.clientX}),c.triggerHandler("dragmove",[{x:e-jui2.drag.clientX,y:f-jui2.drag.clientY}])):(g.offset({top:f-jui2.drag.clientY,left:h.left}),c.triggerHandler("dragmove",[{x:h.left,y:f-jui2.drag.clientY}])):(g.offset({top:h.top,left:e-jui2.drag.clientX}),c.triggerHandler("dragmove",[{x:h.left,y:h.top}]))}})})}(jQuery),function(a){jui2.lang.day={en:{sun:{"short":"Sun","long":"Sunday"},mon:{"short":"Mon","long":"Monday"},tue:{"short":"Tue","long":"Tuesday"},wed:{"short":"Wed","long":"Wednesday"},thu:{"short":"Thu","long":"Thursday"},fri:{"short":"Fri","long":"Friday"},sat:{"short":"Sat","long":"Saturday"}}}}(jQuery),function(a){jui2.lang.month={en:{jan:{"short":"Jan","long":"January"},feb:{"short":"Feb","long":"February"},mar:{"short":"Mar","long":"March"},apr:{"short":"Apr","long":"April"},may:{"short":"May","long":"May"},jun:{"short":"Jun","long":"June"},jul:{"short":"Jul","long":"July"},aug:{"short":"Aug","long":"August"},sep:{"short":"Sep","long":"September"},oct:{"short":"Oct","long":"October"},nov:{"short":"Nov","long":"November"},dec:{"short":"Dec","long":"December"}}}}(jQuery),function($){jui2.nextChar=function(a){return String.fromCharCode(a.charCodeAt(0)+1)},jui2.keycodes={backspace:8,tab:9,enter:13,enter:16,ctrl:17,alt:18,"pause/break":19,capslock:20,esc:27,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,printscreen:44,insert:45,ins:45,"delete":46,del:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,".":190},jui2.keycodes.bind=function(el,keycodes){keycodes=keycodes.replace(/\s+/g,""),keycodes='["'+keycodes.replace(/,/g,'","').replace(/\"\[/g,'["').replace(/(\]\")/g,'"]')+'"]',keycodes=keycodes.replace(/(\]\")/g,'"]'),keycodes=eval(keycodes);var tmp=[];$.each(keycodes,function(a,b){if("object"==typeof b)if(isNaN(b[0])){for(var c=b[0].lowerCase(),d=b[1].lowerCase();c!=d;)tmp.push(jui2.keycodes[c]),c=jui2.nextChar(c);tmp.push(jui2.keycodes[c])}else for(var e=parseInt(b[0]);e<=parseInt(b[1]);e++)tmp.push(jui2.keycodes[e]);else tmp.push(jui2.keycodes[b])});var ctrlDown=!1,ctrlKey=17,vKey=86,cKey=67,xKey=88;$(el).keydown(function(a){if(a.keyCode==ctrlKey)ctrlDown=!0;else{if(ctrlDown&&(a.keyCode==vKey||a.keyCode==cKey||a.keyCode==xKey))return;if($.inArray(a.keyCode,tmp)>=0)return;a.preventDefault()}}).keyup(function(a){a.keyCode==ctrlKey&&(ctrlDown=!1)})}}(jQuery),jui2.method={disable:function(a){self=a||this,self.className+=" j-disable"},enable:function(a){self=a||this,self.className=self.className.replace(/(?:^|\s)j-disable(?!\S)/g,"")}},function(a){jui2.attrChange={disabled:function(b,c,d){if(null!=d){if(jui2.method.disable(b),$el=a(b),["J-TABLE","J-GANTT"].indexOf($el.prop("tagName"))<0){$el.data("_events",a.extend(!0,{},$el.data("events"),jQuery._data($el[0],"events"))),$el.data("events",[]),jQuery._data($el[0],"events",[]);try{$el.unbind()}catch(e){}}}else null==d&&(jui2.method.enable(b),$el=a(b),["J-TABLE","J-GANTT"].indexOf($el.prop("tagName"))<0&&(a.each($el.data("_events"),function(b,c){a.each(c,function(a,b){$el.on(b.type,b.handler,b.data,b.selector)})}),$el.data("events",a.extend(!0,{},$el.data("_events"))),jQuery._data($el[0],"events",a.extend(!0,{},$el.data("_events")))))},icon:function(b,c,d){b.iconPosition&&(a(b).children(".j-ui-icon").remove(),null!=d&&b.insertAdjacentHTML(b.iconPosition,'<i class="j-ui-icon fa '+d+'"></i> '))},width:function(a,b,c){a.style.width=c},height:function(b,c,d){var e=a(b);b.style.height=d,"J-TABLE"==e.prop("tagName")&&e.triggerHandler("afterdraw.height")},title:function(b,c,d){var e=a(b);e.find(".j-title").remove();var f=a(b).children("table");null!=d&&b.insertAdjacentHTML("afterbegin",'<div class="j-title">'+d+"</div>"),"J-TABLE"==b.tagName&&(marginTop=0,f.prevAll().each(function(b,c){"J-TOOLBAR"==a(c).prop("tagName")?marginTop+=37:marginTop+=a(c).outerHeight(!0)}),f.css("margin-top",marginTop))},resize:function(b,c,d){var e=a(b),f=e.next().prop("tagName");"true"==d.toLowerCase()?("J-LAYOUT-NO-RESIZER"==f&&e.next().remove(),"J-LAYOUT-RESIZER"!=f&&a('<j-layout-resizer class="j-drag"></j-layout-resizer>').insertAfter(e)):("J-LAYOUT-RESIZER"==f&&e.next().remove(),"J-LAYOUT-NO-RESIZER"!=f&&a("<j-layout-no-resizer></j-layout-no-resizer>").insertAfter(e))},cols:function(b,c,d){var e=a(b);null!=d?e.find("textarea").attr("cols",d):e.find("textarea").removeAttr("cols")},rows:function(b,c,d){var e=a(b);null!=d?e.find("textarea").attr("rows",d):e.find("textarea").removeAttr("rows")},readonly:function(b,c,d){var e=a(b);null!=d?e.children("input, textarea").attr("readonly",!0):e.children("input, textarea").removeAttr("readonly")},placeholder:function(b,c,d){var e=a(b);null!=d?e.children("input").attr("placeholder",d):e.children("input").removeAttr("placeholder")}}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(b){var c,d=a(this),e=this;if(this.enabledAttrChange=this.enabledAttrChange||[],b&&void 0!==b.extension&&(c=b.extension,c.length>0))for(var f in c)c[f](this);d.attr("onafterdraw")&&d.on("afterdraw",function(a){window[d.attr("onafterdraw")].call(this,a)}),this.attrChangedCb=function(b,c,d,g){if(b){e.enabledAttrChange=a.unique(e.enabledAttrChange.concat(b));for(f in e.attributes){var c=e.attributes[f].nodeName,g=e.attributes[f].nodeValue,h=e.tagName.toLowerCase()+"_"+c;jui2.attrChange[h]?jui2.attrChange[h](e,!1,g):jui2.attrChange[c]&&e.enabledAttrChange.indexOf(c)>-1&&jui2.attrChange[c](e,!1,g)}}else{var h=e.tagName.toLowerCase()+"_"+c;jui2.attrChange[h]?jui2.attrChange[h](e,d,g):jui2.attrChange[c]&&jui2.attrChange[c](e,d,g)}},d.attr("id")||d.attr("id","j-"+jui2.random(8,"aA#")),this.juiid=jui2.random(8,"aA#"),b&&(b.extension||(b.extension=[]))},jui2.ui.base={widget:document.registerElement("j-base",{prototype:b}),proto:b,extension:[]}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){jui2.ui.base.proto.createdCallback.call(this,jui2.ui.button);var b=a(this);this.iconPosition="afterBegin",b.attr("tabindex",0).addClass("j-transition1 j-border-box j-focus-highlight1"),""==this.innerHTML.trim()&&(this.innerHTML=""),b.keyup(function(a){13==a.keyCode&&(a.preventDefault(),b.click())}),this.attrChangedCb(["disabled","icon"]);for(i in jui2.method)this[i]=jui2.method[i]},b.attributeChangedCallback=function(a,b,c){this.attrChangedCb(!1,a,b,c)},jui2.ui.button={widget:document.registerElement("j-button",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){a(this).detach().appendTo("body"),jui2.ui.base.proto.createdCallback.call(this,jui2.ui.modal);var b=jui2.findHighestZIndex(),c=a(this);c.css("z-index","-Infinity"==b?100:b);for(i in jui2.method)this[i]=jui2.method[i];c.append('<div class="j-modal-body" style="overflow:auto;position:relative;height:100%"></div>'),c.children(":not(.j-modal-title)").appendTo(a(this).children(".j-modal-body")),c.on("afterresize",function(){c.children(".j-modal-body").outerHeight(parseInt(c.height())-parseInt(c.children(".j-modal-title").outerHeight(!0)))});for(i in this.attributes){var d=this.attributes[i].nodeName,e=this.attributes[i].nodeValue;jui2.attrChange[this.tagName.toLowerCase()+"_"+d]?jui2.attrChange[this.tagName.toLowerCase()+"_"+d](this,!1,e):jui2.attrChange[d]&&this.enabledAttrChange.indexOf(d)>-1&&jui2.attrChange[d](this,!1,e)}a(this).attr("snappos")||a(this).attr("snapto")||"false"==a(this).attr("center")||a(this).center()},b.attributeChangedCallback=function(a,b,c){jui2.attrChange[this.tagName.toLowerCase()+"_"+a]?jui2.attrChange[this.tagName.toLowerCase()+"_"+a](this,b,c):jui2.attrChange[a]&&this.enabledAttrChange.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.modal={widget:document.registerElement("j-modal",{prototype:b}),proto:b,extension:[]},jui2.attrChange["j-modal_width"]=function(b,c,d){d?a(b).css("width",d):a(b).css("width","")},jui2.attrChange["j-modal_height"]=function(b,c,d){d?a(b).css("height",d):a(b).css("height","")},jui2.attrChange["j-modal_title"]=function(b,c,d){var e=a(b);d?(e.children(".j-modal-title").remove(),e.prepend('<div class="j-modal-title">'+d+'<div class="j-modal-window-controls"><i class="fa fa-times"></i></div></div>'),e.find("> .j-modal-title .fa-times").click(function(){"hide"==e.attr("remove")?e.hide():e.remove()}),e.children(".j-modal-body").outerHeight(parseInt(e.height())-parseInt(e.children(".j-modal-title").outerHeight(!0)))):e.children(".j-modal-title").remove()},jui2.attrChange["j-modal_snapto"]=function(b,c,d){if(d){var e=a(b);if(e.attr("snappos")){var f=e.attr("snappos");if("topleft to bottomleft"==f)var g=a(d).offset(),h=g.left,i=g.top+a(d).outerHeight(!0);else if("bottomleft to topleft"==d)var g=a(snapto).offset(),h=g.left,i=g.top-e.outerHeight(!0);var j=jui2.findHighestZIndex();j="-Infinity"==j?100:j,e.css({top:i,left:h,"z-index":j})}}},jui2.attrChange["j-modal_snappos"]=function(b,c,d){if(d){var e=a(b);if(e.attr("snapto")){var f=e.attr("snapto");if("topleft to bottomleft"==d)var g=a(f).offset(),h=g.left,i=g.top+a(f).outerHeight(!0);else if("bottomleft to topleft"==d)var g=a(f).offset(),h=g.left,i=g.top-e.outerHeight(!0);var j=jui2.findHighestZIndex();j="-Infinity"==j?100:j,e.css({top:i,left:h,"z-index":j})}}},jui2.attrChange["j-modal_drag"]=function(b,c,d){"true"==d&&a(b).attr("drag",".j-modal-title")},jui2.attrChange["j-modal_resize"]=function(b,c,d){"true"==d?a(b).append("<j-resize></j-resize>"):a(b).children("j-resize").remove()}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(b,c){jui2.ui.base.proto.createdCallback.call(this,jui2.ui.textField),this.iconPosition="beforeend";var b=b||"",c=c||"text",d=a(this);""==this.innerHTML.trim()&&(this.innerHTML=b);var e=this.getAttribute("value")||"";this.innerHTML=jui2.tmpl.textField({label:this.innerHTML,type:c}),d.addClass("j-input").children().eq(1).attr("value",e),this.removeAttribute("value"),this.getAttribute("icon")&&this.insertAdjacentHTML("beforeend",'<i class="j-ui-icon fa '+this.getAttribute("icon")+'"></i>'),d.children().eq(0).click(function(){a(this).next().focus()});for(i in jui2.method)this[i]=jui2.method[i];this.attrChangedCb(["disabled","icon","placeholder","readonly"]),Object.defineProperty(this.__proto__,"value",{configurable:!0,get:function(){return a(this).children("input")[0]?a(this).children("input")[0].value:""},set:function(b){return a(this).children("input")[0]&&(a(this).children("input")[0].value=b),a(this).children("input")[0].value}});var f=!0;if(this.noInherit&&-1!=this.noInherit.indexOf("value")&&(f=!1),this.value&&f){var e=this.value;delete this.value,d.val(e)}else f&&delete this.value},b.attributeChangedCallback=function(a,b,c){this.attrChangedCb(!1,a,b,c)},jui2.ui.textField={widget:document.registerElement("j-textfield",{prototype:b}),proto:b}}(jQuery),function($){var proto=Object.create(HTMLElement.prototype);proto.createdCallback=function(label,type){jui2.ui.base.proto.createdCallback.call(this,jui2.ui.radioField),this.iconPosition="beforeend";var label=label||"",type=type||"radio",$self=$(this),radios=eval(this.innerHTML.match(/\[(.*)\]/)[0]);""==this.innerHTML.trim()&&(this.innerHTML=label),label=this.innerHTML.split("[")[0];var tmpValue=this.getAttribute("value")||"";$self.empty().append(jui2.tmpl.radioField({id:this.juiid,label:label,type:type,radios:radios})),$self.addClass("j-input").children().eq(1).attr("value",tmpValue),this.removeAttribute("value"),this.getAttribute("icon")&&this.insertAdjacentHTML("beforeend",'<i class="j-ui-icon fa '+this.getAttribute("icon")+'"></i>'),$self.children().eq(0).click(function(){$(this).next().focus()});for(i in jui2.method)this[i]=jui2.method[i];this.attrChangedCb(["disabled","icon"]),Object.defineProperty(this.__proto__,"value",{configurable:!0,get:function(){return $(this).children("input")[0]?$(this).children(":checked").val():""},set:function(a){return $(this).children("input")[0]&&$(this).children("input").filter("[value="+a+"]").prop("checked",!0),$(this).children(":checked").val()}});var extend=!0;if(this.noInherit&&-1!=this.noInherit.indexOf("value")&&(extend=!1),this.value&&extend){var tmpValue=this.value;delete this.value,$self.val(tmpValue)}else extend&&delete this.value;$self.children("input").eq(0).remove(),$self.children("label").eq(1).remove()},proto.attributeChangedCallback=function(a,b,c){this.attrChangedCb(!1,a,b,c)},jui2.ui.radioField={widget:document.registerElement("j-radiofield",{prototype:proto}),proto:proto}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){jui2.ui.textField.proto.createdCallback.call(this,""),jui2.keycodes.bind(this,"tab,enter,backspace,escape,.,[0,9],delete,[96,111]")},b.attributeChangedCallback=function(a,b,c){this.attrChangedCb(!1,a,b,c)},jui2.ui.numberField={widget:document.registerElement("j-numberfield",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){jui2.ui.textField.proto.createdCallback.call(this,"","password")},b.attributeChangedCallback=function(a,b,c){this.attrChangedCb(!1,a,b,c)},jui2.ui.passwordField={widget:document.registerElement("j-passwordfield",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){this.setAttribute("icon","fa-angle-down");var b,c,d,e=a(this),f=e.children("j-table").detach();this.noInherit=["value"],jui2.ui.textField.proto.createdCallback.call(this,""),d=this.juiid,e.append(f).children("j-table").wrap("<div></div>"),c=e.children("div"),b=e.find("j-table"),e.attr("pk")||e.attr("pk","0"),b.bind("clickout",function(f){var g=a(f.target);f.target!=e[0]&&g.parents("j-combofield")[0]!=e[0]&&0==g.parents("[belongto=j-comboField]").length&&(b.detach().appendTo(c),a("#j-comboField-"+d).remove(),c.hide())}),e.delegate(e.children().not("j-table"),"click",function(g){var h=a(g.target),i=b.find("> j-pagination > .j-itemPerPage");i.length>0&&(i.remove(),b.find("> j-pagination > span:contains(items per page)").remove()),h.hasClass("fa-remove")?e.val(""):h.parents("div:not(j-table > div)")[0]!=c[0]&&g.target!=c[0]&&(c.toggle(),"block"==c.css("display")?(0==a("#j-comboField-"+d).length&&a("body").append('<j-modal search="'+e.attr("search")+'" belongto="j-comboField" snapto="#'+e.attr("id")+' > input" snappos="topleft to bottomleft" id="j-comboField-'+d+'"></j-modal>'),b[0].generateData(),b.detach().appendTo("#j-comboField-"+d),b.show(),e.find("j-toolbar j-textfield").focus(),f.find("table").removeAttr("style")):(b.detach().appendTo(c),a("#j-comboField-"+d).remove()))}),b.delegate("td","click",function(b){var f=a(this),g=f.parents("j-table").eq(0),h=e.attr("pk"),i=g[0].data,j=i[f.parent().index()][h];for(var k in i)i[k][h]==j&&e.val(i[k][h]);g.detach().appendTo(c),a("#j-comboField-"+d).remove(),c.hide(),e.triggerHandler("select",[e.val()]),g.find("tr").removeClass("j-active")}),b.prepend(jui2.tmpl.comboToolbar()),e.find("j-toolbar j-textfield").on("keydown",function(c){if(13==c.keyCode){var e=b.find("j-loader"),f=b.find("j-toolbar j-textfield");e.length>0?(e[0].param.sSearch=f.val(),b[0].generateData()):a("#j-comboField-"+d+" tbody tr").show().not(":contains("+f.val()+")").hide()}}),e.on("keydown",function(f){8==f.keyCode&&(e.val(""),b.detach().appendTo(c),a("#j-comboField-"+d).remove(),c.hide())});var g=e.attr("value")||this.value||"";jui2.keycodes.bind(e.children("input"),"tab"),Object.defineProperty(this.__proto__,"value",{configurable:!0,get:function(){return a(this).attr("data-value")},set:function(b){var c=a(this);if(""==b)c.removeAttr("data-value"),c.children("input")[0].value="",this.setAttribute("icon","fa-angle-down");else{c.attr("data-value",b);var d,e=a("#j-comboField-"+a(this)[0].juiid).find("j-table");e[0]||(e=c.find("> div > j-table"));for(d in e[0].data)if(e[0].data[d][a(this).attr("pk")]==b){var f=e[0].data[d].slice(),g=[];e.find("> .j-table-body > table > thead > tr > th").filter(function(){return"none"!=a(this).css("display")}).each(function(b,c){g[g.length]=f[a(c).index()]}),c.children("input")[0].value=g.join(", ")}""!=c.children("input")[0].value.trim()&&this.setAttribute("icon","fa-remove")}}});var h=!0,j=!1;e.find("> div > j-table").on("afterdraw",function(){if(value=e.attr("data-value")?e.attr("data-value"):g,e.attr("data-value")&&(e.val(e.attr("data-value")),value=e.attr("data-value")),""!=g&&void 0!=g&&(e.val(g),value=g),null!=this.data&&this.data.length>0){if(1==b[0].data.length){j=!0,h=!1;var c=b[0].data[0].slice(),d=[];e.attr("data-value",this.data[0][e.attr("pk")]),a(this).find("> .j-table-body > table > thead > tr > th").filter(function(){return"none"!=a(this).css("display")}).each(function(b,e){d[d.length]=c[a(e).index()]}),e.children("input")[0].value=d.join(", ")}else for(i in this.data)if(this.data[i][e.attr("pk")]==value){j=!0,h=!1;var c=this.data[i].slice(),d=[];a(this).find("> .j-table-body > table > thead > tr > th").filter(function(){return"none"!=a(this).css("display")}).each(function(b,e){d[d.length]=c[a(e).index()]}),e.children("input")[0].value=d.join(", ")}j&&0==h||0==a(this).find("j-loader").length?(e.find("> div > j-table").unbind("afterdraw"),g=void 0,a(this).find("j-loader").length>0&&(a(this).find("j-loader")[0].param.pk="")):(h=!1,j=!0,a(this).find("j-loader")[0].param.pk=value,e.find("> div > j-table")[0].generateData())}}),delete this.value,e.triggerHandler("afterdraw")},b.getSelectedRecord=function(){var b,c=a(this).attr("data-value"),d=a(this).find("j-table");for(b in d[0].data)if(d[0].data[b][a(this).attr("pk")]==c)return d[0].data[b]},b.attributeChangedCallback=function(a,b,c){var d=["disabled","icon","placeholder","readonly"],e=jui2.attrChange;e[a]&&d.indexOf(a)>-1&&e[a](this,b,c)},jui2.ui.comboField={widget:document.registerElement("j-combofield",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(b){jui2.ui.base.proto.createdCallback.call(this,jui2.ui.dateField);var c,d=a(this),e=this,f=this.juiid,g=(d.prop("tagName"),"MMMM YYYY");this.setAttribute("icon","fa-calendar"),jui2.ui.textField.proto.createdCallback.call(this,""),d.attr("format")||d.attr("format","DD/MM/YYYY");var h=moment(d.val(),d.attr("format")).format(g);if("Invalid date"==h&&(h=moment().format(g)),b?d.append(jui2.tmpl[b]({day:jui2.lang.day.en,month:h})):d.append(jui2.tmpl.calendar({day:jui2.lang.day.en,month:h})),c=d.children("table"),c.find(".fa-chevron-left").parent().click(function(){e.prevMonth(c)}),c.find(".fa-chevron-right").parent().click(function(){
e.nextMonth(c)}),c.find("tfoot j-button").click(function(){d.val(moment().format(d.attr("format"))),c.detach().appendTo(d),a("#j-dateField-"+f).remove(),c.hide(),d.triggerHandler("select",[d.val()])}),d.unbind("clickout").bind("clickout",function(b){b.target!=d[0]&&0==a(b.target).parents("#"+d.attr("id")).length&&0==a(b.target).parents("[belongto=j-dateField]").length&&(c.detach().appendTo(d),a("#j-dateField-"+f).remove(),c.hide())}),c.delegate("tbody td","click",function(b){b.stopPropagation();var e=parseInt(this.innerHTML),h=a(this);if(h.index()<7&&h.parent().parent().parent().parent().hasClass("j-modal-body")){var i=c.find("thead tr:first-child th:nth-child(2)");0==h.parent().index()?h.nextAll().filter(function(a){return parseInt(this.innerHTML)<e}).length>0&&i.text(moment(i.text(),g).subtract(1,"month").format(g)):h.parent().index()==h.parent().siblings().length&&h.prevAll().filter(function(a){return parseInt(this.innerHTML)>e}).length>0&&i.text(moment(i.text(),i).add(1,"month").format(i)),d.val(moment(("00"+e).slice(-2)+" "+i.text(),"DD MMMM YYYY").format(d.attr("format"))),c.detach().appendTo(d),a("#j-dateField-"+f).remove(),c.hide(),d.triggerHandler("select",[d.val()])}}),d.delegate(d.children().not("table"),"click",function(b){if(a(b.target).parents("table")[0]!=c[0]&&b.target!=c[0])if(c.toggle(),c.is(":visible")){0==a("#j-dateField-"+f).length&&a("body").append('<j-modal belongto="j-dateField" snapto="#'+d.attr("id")+' > input" snappos="topleft to bottomleft" id="j-dateField-'+f+'" height="240px"></j-modal>'),setTimeout(function(){var b=a("#j-dateField-"+f);b.touchBottom()&&(b.attr("snappos","bottomleft to topleft"),setTimeout(function(){b.touchTop()&&b.attr("snappos","topleft to bottomleft")},250))},250),c.detach().appendTo("#j-dateField-"+f);var e,g,h=[],i=[],j=0,k=d.attr("format");for(e=moment(d.val(),k).endOf("month").endOf("week"),("Invalid date"==e||"Invalid date"==e.format(k))&&(e=moment().endOf("month").endOf("week")),g=moment(d.val(),k).startOf("month").startOf("week"),("Invalid date"==g||"Invalid date"==g.format(k))&&(g=moment().startOf("month").startOf("week"));g.format("DD/MM/YYYY")!=e.format("DD/MM/YYYY");)i[i.length]=g.format("D"),j++,g.add(1,"day"),7==j&&(j=0,h[h.length]=i,i=[]);i[i.length]=g.format("D"),g.add(1,"day"),i.length>0&&(h[h.length]=i),c.find("> tbody").empty().append(jui2.tmpl.calendarBody({date:h})),d.triggerHandler("calendarshow",[c])}else c.detach().appendTo(d),a("#j-dateField-"+f).remove()}),jui2.keycodes.bind(this,"tab"),this.value||""==this.value){if(""!=this.value.trim()){var j=this.value;a(this).val(j)}delete this.value}d.on("keydown",function(b){8==b.keyCode&&(d.val(""),c.detach().appendTo(d),a("#j-dateField-"+f).remove(),c.hide())}),this.enabledAttrChange=a.unique(this.enabledAttrChange.concat(["disabled","icon","placeholder","readonly"]));for(i in this.attributes){var k=this.attributes[i].nodeName,l=this.attributes[i].nodeValue;jui2.attrChange[this.tagName.toLowerCase()+"_"+k]?jui2.attrChange[this.tagName.toLowerCase()+"_"+k](this,!1,l):jui2.attrChange[k]&&this.enabledAttrChange.indexOf(k)>-1&&jui2.attrChange[k](this,!1,l)}},b.prevMonth=function(a){var b,c,d=[],e=[],f=0,g=a,h="MMMM YYYY";for(b=moment(a.find("tr:first-child th:nth-child(2)").text(),h).subtract(1,"month").endOf("month").endOf("week"),c=moment(a.find("tr:first-child th:nth-child(2)").text(),h).subtract(1,"month").startOf("month").startOf("week");c.format("DD/MM/YYYY")!=b.format("DD/MM/YYYY");)e[e.length]=c.format("D"),f++,c.add(1,"day"),7==f&&(f=0,d[d.length]=e,e=[]);e[e.length]=c.format("D"),c.add(1,"day"),e.length>0&&(d[d.length]=e),g.find("thead tr:first-child th:nth-child(2)").text(moment(a.find("tr:first-child th:nth-child(2)").text(),h).subtract(1,"month").format(h)),g.find("> tbody").empty().append(jui2.tmpl.calendarBody({date:d}))},b.nextMonth=function(a){var b,c,d=[],e=[],f=0,g=a,h="MMMM YYYY";for(b=moment(a.find("tr:first-child th:nth-child(2)").text(),h).add(1,"month").endOf("month").endOf("week"),c=moment(a.find("tr:first-child th:nth-child(2)").text(),h).add(1,"month").startOf("month").startOf("week");c.format("DD/MM/YYYY")!=b.format("DD/MM/YYYY");)e[e.length]=c.format("D"),f++,c.add(1,"day"),7==f&&(f=0,d[d.length]=e,e=[]);e[e.length]=c.format("D"),c.add(1,"day"),e.length>0&&(d[d.length]=e),g.find("thead tr:first-child th:nth-child(2)").text(moment(a.find("tr:first-child th:nth-child(2)").text(),h).add(1,"month").format(h)),g.find("> tbody").empty().append(jui2.tmpl.calendarBody({date:d}))},b.attributeChangedCallback=function(a,b,c){var d=this.tagName,e=jui2.attrChange,f=d.toLowerCase()+"_"+a;e[f]?e[f](this,b,c):e[a]&&this.enabledAttrChange.indexOf(a)>-1&&e[a](this,b,c)},jui2.ui.dateField={widget:document.registerElement("j-datefield",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){a(this).attr("format")||a(this).attr("format","DD/MM/YYYY hh:mm"),jui2.ui.dateField.proto.createdCallback.call(this);var b,c=a(this);this.juiid;b=c.children("table"),c.find("table").css("display","none"),c.on("calendarshow",function(a,d){d.find(".j-datetime-item").remove(),d.find("thead tr:first-child").append('<th rowspan="2" class="j-datetime-item j-border-bot3" style="text-align: center; width: 100px;">Time</th>'),d.find("tbody tr:first-child").append('<td rowspan="5" class="j-datetime-item"></td>');var e=c.val(),f=""!=e?moment(e,c.attr("format")).format("hh:mm").split(":"):moment().format("hh:mm").split(":");d.find("tbody tr:first-child .j-datetime-item").append(jui2.tmpl.dateTime({hour:f[0],minute:f[1]})),this.timeControl(d),d.parent().width()<250?d.parent().css("width",b.width()+100):d.parent().css("width",b.width())}),b.undelegate("td","click"),b.delegate("td","click",function(d){d.stopPropagation();var e=parseInt(this.innerHTML),f=a(this),g=b.find("tbody tr:first-child .j-datetime-item .j-datetime-hour"),h=b.find("tbody tr:first-child .j-datetime-item .j-datetime-minute");if(f.index()<7&&f.parent().parent().parent().parent().hasClass("j-modal-body")){0==f.parent().index()?f.nextAll().filter(function(a){return parseInt(this.innerHTML)<e}).length>0&&b.find("thead tr:first-child th:nth-child(2)").text(moment(b.find("thead tr:first-child th:nth-child(2)").text(),"MMMM YYYY").subtract(1,"month").format("MMMM YYYY")):f.parent().index()==f.parent().siblings().length&&f.prevAll().filter(function(a){return parseInt(this.innerHTML)>e}).length>0&&b.find("thead tr:first-child th:nth-child(2)").text(moment(b.find("thead tr:first-child th:nth-child(2)").text(),"MMMM YYYY").add(1,"month").format("MMMM YYYY")),c.val(moment(("00"+e).slice(-2)+" "+b.find("thead tr:first-child th:nth-child(2)").text()+" "+g.val()+":"+h.val(),"DD MMMM YYYY hh:mm").format(c.attr("format")));var i=b.parent().parent();b.detach().appendTo(c),i.remove(),b.hide(),c.triggerHandler("select",[c.val()])}})},b.timeControl=function(a){var b=a.find("tbody tr:first-child .j-datetime-item table tr:first-child i"),c=a.find("tbody tr:first-child .j-datetime-item table tr:nth-child(3) i"),d=a.find("tbody tr:first-child .j-datetime-item .j-datetime-hour"),e=a.find("tbody tr:first-child .j-datetime-item .j-datetime-minute");b.eq(0).click(function(){var a=parseInt(d.val());a++,24==a&&(a=0),d.val(a)}),b.eq(1).click(function(){var a=parseInt(e.val());a++,60==a&&(a=0),e.val(a)}),c.eq(0).click(function(){var a=parseInt(d.val());a--,-1==a&&(a=23),d.val(a)}),c.eq(1).click(function(){var a=parseInt(e.val());a--,-1==a&&(a=59),e.val(a)})},b.prevMonth=function(a){var b=a.find("tbody tr:first-child .j-datetime-item").clone();jui2.ui.dateField.proto.prevMonth.call(this,a),a.find("tbody tr:first-child").append(b),this.timeControl(a)},b.nextMonth=function(a){var b=a.find("tbody tr:first-child .j-datetime-item").clone();jui2.ui.dateField.proto.nextMonth.call(this,a),a.find("tbody tr:first-child").append(b),this.timeControl(a)},b.attributeChangedCallback=function(a,b,c){var d=this.tagName,e=jui2.attrChange,f=d.toLowerCase()+"_"+a;e[f]?e[f](this,b,c):e[a]&&this.enabledAttrChange.indexOf(a)>-1&&e[a](this,b,c)},jui2.ui.dateTimeField={widget:document.registerElement("j-datetimefield",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.generateData=function(b){var c=a(this).parent();c.attr("disabled","disabled");var d=this.param,e=this,f=a(b);d.sEcho++,d.rand=jui2.random(8,"aA#"),this.getAttribute("src")?a.getJSON(this.getAttribute("src"),d).done(function(c){d.sEcho==c.sEcho&&(d.totalPage=Math.ceil(d.iTotalRecords/d.iDisplayLength),jui2.clearNullFromJson(c.aaData),b.data=c.aaData,e.targetGenerateData.call(b),f.find("> div > table > thead > tr > th").filter(function(a,b){return""===b.innerHTML}).hide().each(function(b,c){f.find("> div > table > tbody > tr > td:nth-child("+(parseInt(a(c).index())+1)+")").hide()}),d.iTotalRecords=c.iTotalRecords,e.afterDrawCall())}).always(function(){c.removeAttr("disabled")}):this.getAttribute("fn")&&window[this.getAttribute("fn")](d,function(c){d.sEcho==c.sEcho&&(d.totalPage=Math.ceil(d.iTotalRecords/d.iDisplayLength),jui2.clearNullFromJson(c.aaData),b.data=c.aaData,e.targetGenerateData.call(b),f.find("> div > table > thead > tr > th").filter(function(a,b){return""===b.innerHTML}).hide().each(function(b,c){f.find("> div > table > tbody > tr > td:nth-child("+(parseInt(a(c).index())+1)+")").hide()}),d.iTotalRecords=c.iTotalRecords,e.afterDrawCall())},function(){c.removeAttr("disabled")})},b.setParam=function(a,b){this.param[a]=b},b.createdCallback=function(b,c){var d=this;if(this.afterDrawMethods={},this.param={sEcho:-1,iDisplayLength:d.getAttribute("size")||10,iDisplayStart:0,iSortCol:0,sSearch:"",sSortDir:"desc"},"j-table"==this.getAttribute("type")){var e=a(this).parent();this.target=e[0],this.targetGenerateData=this.target.generateData,this.target.generateData=function(){d.generateData.call(d,this)},this.target.generateData()}a(this).triggerHandler("created")},b.afterDrawCall=function(){var b=this;a.each(this.afterDrawMethods,function(a,c){c.call(b)})},jui2.ui.loader={widget:document.registerElement("j-loader",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.generateData=function(){var b=a(this),c=b.children(".j-table-body").children("table").eq(0),d=c.children("tbody"),e=this,f=c.children("thead");if(d.children("tr").remove(),this.viewData=this.data,b.triggerHandler("beforedraw"),d.append(jui2.tmpl.dataViewData({data:this.viewData,type:this.type})),this.afterDrawCombo&&"function"==typeof this.afterDrawCombo&&this.afterDrawCombo(),this.drop&&this.drop.length>0)for(i in this.drop)this.drop[i].getAttribute&&null!=this.drop[i].getAttribute("target")&&d.find(" > tr > td:nth-child("+(parseInt(this.drop[i].getAttribute("target"))+1)+")").html(this.drop.eq(i).outerHTML());"J-COMBOFIELD"==b.parent().parent().prop("tagName")&&b.find("j-resize").remove();var g=f.find(" > tr:not(.j-custom-header)").eq(0).find(" > th").last().index()+1+(f.find(" > tr:not(.j-custom-header)").eq(0).find(" > th[colspan]").map(function(){return parseInt(a(this).attr("colspan"))-1}).get()[0]||0);return g>0&&d.find(" > tr > td:nth-child(n+"+(g+1)+")").remove(),g=f.find(" > tr:not(.j-custom-header)").eq(0).find(" > th").last().index()+1+(f.find(" > tr:not(.j-custom-header)").eq(0).find(" > th[colspan]").map(function(){return parseInt(a(this).attr("colspan"))-1}).get()[0]||0),g>0&&d.find(" > tr > td:nth-child(n+"+(g+1)+")").remove(),f.find(" > tr:not(.j-custom-header)").eq(0).find(" > th").filter(function(){return""==a(this).text().trim()}).each(function(b,c){c=a(c),d.find(" > tr > td:nth-child("+(parseInt(c.index())+1)+")").hide().attr("hide","true"),c.hide()}),b.triggerHandler("self.afterdraw"),b.triggerHandler("afterdraw.height"),0==this.afterdrawCheck&&1==this.firstDraw?(this.firstDraw=!1,this.afterdrawIntervalCount=0,this.afterdrawInterval=setInterval(function(){var c,d=jQuery._data(e,"events"),f=1;"J-DATAVIEW"==b.prop("tagName")&&(f=0),void 0!=d&&d.afterdraw&&d.afterdraw.length>f&&(e.afterdrawCheck=!0,b.triggerHandler("afterdraw"),e.getAttribute("onafterdraw")&&(c=e.getAttribute("onafterdraw"),"function"==typeof window[c]&&window[c]()),clearInterval(e.afterdrawInterval)),a.contains(document.documentElement,b.get(0))||clearInterval(e.afterdrawInterval)},250)):(clearInterval(this.afterdrawInterval),b.triggerHandler("afterdraw")),this},b.createdCallback=function(b){jui2.ui.base.proto.createdCallback.call(this,jui2.ui.dataview),this.afterdrawCheck=!1,this.firstDraw=!0;var c,d=(a(this),/<(.|\n)*?>(.|\n)*?<\/(.|\n)*?>/gi),e=a("<div>"+this.innerHTML+"</div>");e.children().remove(),c=""==e[0].innerHTML.trim().replace(d,"")?c||[]:c||JSON.parse(e[0].innerHTML.replace(d,"")),e.remove(),this.data||(this.data=c),this.type=b?b:"dataview",this.innerHTML=jui2.tmpl.dataView(),this.generateData();for(i in jui2.method)this[i]=jui2.method[i];var f=["disabled","width","height"];for(i in this.attributes){var g=this.attributes[i].nodeName,h=this.attributes[i].nodeValue;jui2.attrChange[g]&&f.indexOf(g)>-1&&jui2.attrChange[g](this,"",h)}Object.defineProperty(this.__proto__,"record",{configurable:!0,get:function(){return this.data},set:function(a){this.data=a,this.generateData()}}),a(this).triggerHandler("created")},b.attributeChangedCallback=function(a,b,c){var d=["disabled","width","height"];jui2.attrChange[a]&&d.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.dataview={widget:document.registerElement("j-dataview",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.generateData=jui2.ui.dataview.proto.generateData,b.createdCallback=function(){jui2.ui.base.proto.createdCallback.call(this,jui2.ui.table);var b,c,d,e,f=a(this),g=(this.drop=f.children("j-drop").detach().attr("type","j-table"),this.loader=f.children("j-loader").detach().attr("type","j-table")),h=this.header=f.children("j-custom-header").detach().attr("type","j-table"),i=this.pagination=f.children("j-pagination").detach(),j=this.toolbar=f.children('j-toolbar[position="bottom"]').detach(),k=this.toolbar=f.children("j-toolbar").detach(),l=/<(.|\n)*?>(.|\n)*?<\/(.|\n)*?>/gi,m=a("<div>"+this.innerHTML+"</div>");m.children().remove(),b=""==m[0].innerHTML.trim().replace(l,"")?[]:JSON.parse(m[0].innerHTML.replace(l,"")),m.remove(),this.aaData=b;var n=b.shift(),o={flex:0,"-webkit-box-flex":0,"-webkit-flex":0,display:"block"};this.data=a.extend(!0,[],b),f.on("afterdraw.height",function(){var b=a(this);b&&(b.attr("style")&&b.attr("style").match(/height/gi)?0==b.attr("style").match(/height/gi).length&&"undefined"==typeof b.attr("height")&&b.css(o):"undefined"==typeof b.attr("height")&&b.css(o))}),f.on("self.afterdraw",function(){e=f.find("> .j-table-body > table:first-child > thead"),d=f.find("> .j-table-body > table:first-child > tbody");var b=e.find(" > tr > th").filter(function(){return""===a(this).text().trim()}).index();d.find(" > tr > td:nth-child("+(b+1)+")").hide(),d.find("> tr").click(function(){var b=a(this),c=b.find("td:visible").last().find("input[type=radio]");f.triggerHandler("itemclick",[f[0].data[b.index()]]),0==jui2.ctrlPressed?b.addClass("j-active").siblings().removeClass("j-active"):b.hasClass("j-active")?b.removeClass("j-active"):b.addClass("j-active"),c.length>0&&c.prop("checked",!0)}),e.find(" > tr > th .j-table-sort").off("click").click(function(){if(f[0].loader.length>0){var b=f[0].loader[0].param,c=a(this).parent().parent().index();b.iSortCol==c&&"asc"==b.sSortDir?b.sSortDir="desc":b.sSortDir="asc",b.iSortCol=c,f[0].generateData()}})}),jui2.ui.dataview.proto.createdCallback.call(this,"table"),a(this.children[0]).children().prepend(jui2.tmpl.tableHeader({columns:n})),e=f.find("> .j-table-body > table:first-child > thead"),d=f.find("> .j-table-body > table:first-child > tbody"),a(this.children[0]).children().find("j-resize").on("afterresize",function(){var b=a(this),c=b.parent().outerWidth();b.parent().parent().width(c),b.css("left",""),b.find(">j-table-fixedheader th div").filter(function(){return a(this).text().trim()==b.parent().text().trim()}).css("width","").parent().width(c),e.find(" > tr > th > div").each(function(b,c){a(c).css("width","")})}).on("beforeresize",function(){var b=e.find(" > tr > th > div"),c=b.map(function(b,c){return a(c).width()}).get();b.each(function(b,d){var e=a(d);e.width(c[b])})});var p=0;e.find(" > tr > th").filter(function(b,c){return""===a(c).text()||" "===a(c).text()}).hide().each(function(b,c){d.find(" > tr > td:nth-child("+(parseInt(a(c).index())+1)+")").hide(),p++}),f.append(g),f.append(h),i&&f.append(i),k&&k.insertBefore(f.children(".j-table-body")),j&&j.insertAfter(f.children(".j-table-body"));for(c in jui2.method)this[c]=jui2.method[c];var q=["title"];for(c in this.attributes){var r=this.attributes[c].nodeName,s=this.attributes[c].nodeValue;jui2.attrChange[r]&&q.indexOf(r)>-1&&jui2.attrChange[r](this,"",s)}this.attrChangedCb(["disabled","width","height","title"]),Object.defineProperty(this.__proto__,"selectedIndex",{configurable:!0,get:function(){var b=[];return a(this).find("> .j-table-body > table > tbody > tr.j-active").each(function(c,d){b.push(a(d).index())}),b}}),Object.defineProperty(this.__proto__,"selectedRecord",{configurable:!0,get:function(){var b=[],c=this;return a(this).find("> .j-table-body > table > tbody > tr.j-active").each(function(d,e){b.push(c.data[a(e).index()])}),b}}),Object.defineProperty(this.__proto__,"value",{configurable:!0,get:function(){var b=[],c=this;return a(this).find("> .j-table-body > table > tbody > tr.j-active").each(function(d,e){b.push(c.data[a(e).index()])}),b}})},b.attributeChangedCallback=function(a,b,c){this.attrChangedCb(!1,a,b,c)},jui2.ui.table={widget:document.registerElement("j-table",{prototype:b}),proto:b,extension:[]},a(window).keydown(function(a){17==a.keyCode&&(jui2.ctrlPressed=!0)}).keyup(function(a){17==a.keyCode&&(jui2.ctrlPressed=!1)})}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.draw=function(){var b=a(this),c=a(b.attr("target")).children(".j-table-body"),d=this.column,e=c.find("> table").clone(!0),f=0,g=0;if(b.empty().append(e),b.find("th").each(function(e,h){-1==d.indexOf(e)?(b.find("table > tbody > tr > td:nth-child("+(e-f+1)+")").remove(),b.find("table > colgroup").eq(e-f).remove(),a(h).remove(),f++):(a(h).outerWidth(c.find("thead > tr > th").eq(e).outerWidth()),g+=c.find("thead > tr > th").eq(e).outerWidth())}),c.children("table").find("td:nth-child(1)").each(function(c,d){var e=b.find("table > tbody > tr:nth-child("+(c+1)+") > td:first-child");a(d).height()-9<=9&&""==e.text().trim()&&b.find("table > tbody > tr:nth-child("+(c+1)+") > td:first-child").html("&nbsp"),e.css("height",a(d).css("height"))}),b.children("table").css("width",g),b.parent().children("j-table-pivot-top").length>0){0==b.parent().children("j-table-pivot-intersection").length&&b.parent().append("<j-table-pivot-intersection></j-table-pivot-intersection>");var h=b.parent().children("j-table-pivot-intersection");h.empty().append(b.parent().children("j-table-pivot-top").find("table").clone(!0)),h.find("tr td:nth-child(n+"+(b.parent().children("j-table-pivot-left").find("tr:first-child > td").length+1)+")").remove(),h.find("tr th:nth-child(n+"+(b.parent().children("j-table-pivot-left").find("tr:first-child > td").length+1)+")").remove(),h.find("colgroup").remove(),h.children().css("width",b.children().css("width"))}},b.createdCallback=function(){var b,c=a(this),d=a(c.attr("target")).children(".j-table-body");b=""==this.innerHTML.trim()?[]:JSON.parse(this.innerHTML),this.column=b,a(this).appendTo(d);var e=0;d.scroll(function(){var b=a(this).scrollLeft();b!=e?(c.css("z-index",jui2.findHighestZIndex()==-(1/0)?100:jui2.findHighestZIndex()),c.parent().children("j-table-pivot-intersection").css("z-index",jui2.findHighestZIndex()==-(1/0)?100:jui2.findHighestZIndex())):c.css("z-index",""),e=b,c.css("left",a(this).scrollLeft()),c.parent().children("j-table-pivot-intersection").css("left",a(this).scrollLeft()),c.css("top","-"+a(this).scrollTop())}),a(c.attr("target")).on("afterdraw",function(){a(this).find("> .j-table-body > j-table-pivot-left")[0].draw()})},b.attributeChangedCallback=function(a,b,c){},jui2.ui.tablePivotLeft={widget:document.registerElement("j-table-pivot-left",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.draw=function(){var b=a(this),c=a(b.attr("target")).children(".j-table-body"),d=this.column,e=c.children("table").clone(!0),f=0;if(b.empty().append(e),b.children().css("width",c.css("width")),b.find("tbody > tr").each(function(e,g){-1==d.indexOf(e)?(b.find("table > tbody > tr:nth-child("+(e-f+1)+")").remove(),f++):a(g).children().css("height",c.find("> table > tbody > tr:nth-child("+(e-f+1)+") > td").eq(0).css("height"))}),b.children("table").css("width",c.children("table").outerWidth()),b.parent().children("j-table-pivot-left").length>0){0==b.parent().children("j-table-pivot-intersection").length&&b.parent().append("<j-table-pivot-intersection></j-table-pivot-intersection>");var g=b.parent().children("j-table-pivot-intersection");g.empty().append(b.find("table").clone(!0)),g.find("tr td:nth-child(n+"+(b.parent().children("j-table-pivot-left").find("tr:first-child > td").length+1)+")").remove(),g.find("tr th:nth-child(n+"+(b.parent().children("j-table-pivot-left").find("tr:first-child > td").length+1)+")").remove(),g.find("colgroup").remove(),g.children().css("width",b.parent().children("j-table-pivot-left").children().css("width"))}},b.createdCallback=function(){var b,c=a(this),d=a(c.attr("target")).children(".j-table-body");b=""==this.innerHTML.trim()?[]:JSON.parse(this.innerHTML),this.column=b,a(this).appendTo(d);var e=0;d.scroll(function(){var b=a(this).scrollTop();b!=e?(c.css("z-index",jui2.findHighestZIndex()==-(1/0)?100:jui2.findHighestZIndex()),c.parent().children("j-table-pivot-intersection").css("z-index",jui2.findHighestZIndex()==-(1/0)?100:jui2.findHighestZIndex())):c.css("z-index",""),e=b,c.css("left","-"+a(this).scrollLeft()),c.css("top",a(this).scrollTop()),c.parent().children("j-table-pivot-intersection").css("top",a(this).scrollTop())}),a(c.attr("target")).on("afterdraw",function(){a(this).find("> .j-table-body > j-table-pivot-top")[0].draw()})},b.attributeChangedCallback=function(a,b,c){},jui2.ui.tablePivotTop={widget:document.registerElement("j-table-pivot-top",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.show=function(){var b=a(this),c=a(b.attr("target"));b.appendTo(c),c.children().not(".j-title").hide(),b.css("display","")},b.hide=function(){var b=a(this),c=a(b.attr("target"));b.hide(),c.children().not(this).show()},b.createdCallback=function(){var b=a(this);for(i in jui2.method)this[i]=jui2.method[i];var c={cancel:b.attr("cancel")||"Cancel",submit:b.attr("submit")||"Submit"};this.innerHTML=jui2.tmpl.tableForm(c),b.find(".j-table-form-cancel").click(function(){a(this).parent().parent()[0].hide()}),b.hide()},b.attributeChangedCallback=function(a,b,c){},jui2.ui.tableForm={widget:document.registerElement("j-table-form",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){var b=a(this),c=a(b.attr("target")),d=b.html();this.form=d;for(i in jui2.method)this[i]=jui2.method[i];var e={cancel:b.attr("cancel")||"Cancel",submit:b.attr("submit")||"Submit"};this.form+=jui2.tmpl.tableInPlaceForm(e),b.hide(),b.appendTo(c),c.nodoubletapzoom(),c.on("self.afterdraw",function(d){c.find("> .j-table-body > table > tbody > tr > "+b.attr("clicktarget")).on("dblclick doubletap",function(d){var e=a(this).parent();0==e.find(".j-table-inplace-form").length&&(e.children().hide(),e.append('<td class="j-table-inplace-form" colspan="'+e.children().length+'">'+b[0].form+"</td>"),e.children(".j-table-inplace-form").find("*").not("j-toolbar").each(function(b,d){var f=a(d);f.attr("recordno")&&f.val(c[0].data[e.index()][f.attr("recordno")])}),e.find(".j-table-form-cancel").on("click",function(){var c=a(this).parent().parent();c.parent().children(":not([hide=true])").show(),b.triggerHandler("cancel",[c]),c.remove()}),e.find(".j-table-form-submit").on("click",function(){var c=a(this).parent().parent();c.parent().children(":not([hide=true])").show(),b.triggerHandler("submit",[c])}),e.children(".j-table-inplace-form").width(c.find("> .j-table-body > table").width()),b.triggerHandler("afterdraw",[c[0].data[e.index()]]))})})},b.attributeChangedCallback=function(a,b,c){},jui2.ui.tableInPlaceForm={widget:document.registerElement("j-table-inplace-form",{prototype:b}),proto:b}}(jQuery),function($){jui2.ui.tableCustom=function(self){var $self=$(self),jCustom=$self.find("> j-custom").detach(),$table,tmpData=[],colgroup=[],th;$self.on("beforedraw",function(){if($table=$self.find("> .j-table-body > table:first-child"),tmpData=[],jCustom)if(0==$table.find(" > colgroup").length&&jCustom.length>0&&(th=$table.find(" > thead > tr:last-child th"),th.each(function(a,b){var c,d=$(b),e=jCustom.filter("[target='"+a+"']"),f=d.width();0==e.length&&(c=jCustom.eq(a).attr("target"),("undefined"==typeof c||c===!1)&&(e=jCustom.eq(a))),e.length>0&&(f=e.attr("width"),""!=b.innerHTML&&d.width(f))}),$table.css("table-layout","fixed")),jCustom.length>0){var dataLoop=$self[0].viewData;for(z in dataLoop)if(dataLoop.hasOwnProperty(z)){tmpData[z]=[];for(i in dataLoop[z])if(dataLoop[z].hasOwnProperty(i)){var cst=jCustom.filter("[target='"+i+"']");if(0==cst.length){var attr=jCustom.eq(i).attr("target");("undefined"==typeof attr||attr===!1)&&(cst=jCustom.eq(i))}cst.length>0&&""!=cst.html().trim()?(cst[0].fn||(cst[0].fn=eval("fn = "+cst.html().replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"))),tmpData[z][i]=cst[0].fn(dataLoop[z])):tmpData[z][i]=dataLoop[z][i]}}}else tmpData=$self[0].viewData;else tmpData=$self[0].viewData;$self[0].viewData=tmpData})},jui2.ui.table.extension.push(jui2.ui.tableCustom)}(jQuery),function(a){jui2.ui.tableWrap=function(b){b.enabledAttrChange.push("word-wrap"),jui2.attrChange["word-wrap"]=function(b,c,d){"true"==d?(b.tableWrap=function(){a(b).find("> .j-table-body > table > thead > tr > th").each(function(c,d){a(b).find("> .j-table-body > table > colgroup > col").eq(c).width(a(d).outerWidth())}),a(b).find("> .j-table-body > table > tbody > tr > td").css({"word-wrap":"break-word","white-space":"normal"})},b.tableWrap(),a(b).on("self.afterdraw",b.tableWrap)):(a(b).find("> .j-table-body > table > tbody > tr > td").css({"word-wrap":"","white-space":""}),a(b).unbind("self.afterdraw",b.tableWrap))}},jui2.ui.table.extension.push(jui2.ui.tableWrap)}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(b,c){this.className+=" fa fa-plus-square-o";var d=this;"j-table"==this.getAttribute("type")&&a(this).parent().click(function(){var b=a(this).parent().next(),c=a(this).parent().find('> td > j-drop[type="j-table"].fa-minus-square-o').not(a(this).children());if(c.length>0&&(b.remove(),c.removeClass("fa-minus-square-o").addClass("fa-plus-square-o"),b=a(this).parent().next()),b.hasClass("j-drop"))b.remove(),a(d).removeClass("fa-minus-square-o").addClass("fa-plus-square-o");else{var e=a(this).parent(),f=a('<tr class="j-drop"><td colspan="'+e.children().length+'"></td></tr>').insertAfter(e);window[d.getAttribute("onclick")](f,e.parent().parent().parent().parent()[0].aaData[e.index()-e.prevAll(".j-drop").length]||e.parent().parent().parent().parent()[0].data[e.index()-e.prevAll(".j-drop").length]),a(d).removeClass("fa-plus-square-o").addClass("fa-minus-square-o")}}).css("cursor","pointer")},b.attributeChangedCallback=function(a,b,c){var d=[];jui2.attrChange[a]&&d.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.drop={widget:document.registerElement("j-drop",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){jui2.ui.base.proto.createdCallback.call(this,jui2.ui.toolbar),a(this).addClass("j-horizontal-flex"),this.attrChangedCb()},b.attributeChangedCallback=function(a,b,c){this.attrChangedCb(!1,a,b,c)},jui2.ui.toolbar={widget:document.registerElement("j-toolbar",{prototype:b}),proto:b,extension:[]}}(jQuery),function(a){jui2.ui.toolbarScroll=function(b){b.enabledAttrChange.push("toolbarscroll"),jui2.attrChange.toolbarscroll=function(c,d,e){if("true"==e.toLowerCase()){a(b).on("DOMNodeInserted",function(){var c=a(b).find("> *:not(.toolbarscroll-left):not(.toolbarscroll-right)");c.css("margin","0px 2px"),c.first().css("margin-left","20px")}),a(c).css({position:"relative"}),a(c).scrollLeft(0),a(c).append('<j-button class="toolbarscroll-left" style="margin: 0px; left: 0px;position: absolute;top: 0px; height: 100%; border: 0px; border-right: 1px solid #d8d8d8; padding-top: 8px; width: 20px; background: inherit; text-align: center;" icon="fa-caret-left"></j-button>'),a(c).append('<j-button class="toolbarscroll-right" style="margin: 0px; right: 0px;position: absolute;top: 0px; height: 100%; border: 0px; border-left: 1px solid #d8d8d8; padding-top: 8px; width: 20px; background: inherit; text-align: center;" icon="fa-caret-right"></j-button>'),a(c).append('<div class="toolbarscroll-right-space" style="padding-right: 16px;">&nbsp</div>'),a(c).children(".toolbarscroll-left").css("left",a(c).scrollLeft()),a(c).children(".toolbarscroll-right").css("right","-"+a(c).scrollLeft().toString()+"px");var f,g,h;a(c).children(".toolbarscroll-left").bind("mousedown",function(){g=250,(h=function(){a(c).scrollLeft(a(c).scrollLeft()-20),a(c).scrollLeft()<0&&a(c).scrollLeft(0),a(c).children(".toolbarscroll-left").css("left",a(c).scrollLeft()),a(c).children(".toolbarscroll-right").css("right","-"+a(c).scrollLeft().toString()+"px"),g>0&&(g-=50),f=setTimeout(h,g)})()}),a(c).children(".toolbarscroll-right").bind("mousedown",function(){g=250,(h=function(){a(c).scrollLeft(a(c).scrollLeft()+20);var b=c.scrollWidth-a(c).width()+40;a(c).scrollLeft()>b&&a(c).scrollLeft(b),a(c).children(".toolbarscroll-left").css("left",a(c).scrollLeft()),a(c).children(".toolbarscroll-right").css("right","-"+a(c).scrollLeft().toString()+"px"),g>0&&(g-=50),f=setTimeout(h,g)})()}),a(c).on("DOMMouseScroll mousewheel",function(b){var d=0;if(b.originalEvent.wheelDelta&&(d=b.originalEvent.wheelDelta),b.originalEvent.deltaY&&(d=b.originalEvent.deltaY),b.originalEvent.detail&&(d=b.originalEvent.detail),d>0){a(c).scrollLeft(a(c).scrollLeft()+20);var e=c.scrollWidth-a(c).width()+40;a(c).scrollLeft()>e&&a(c).scrollLeft(e),a(c).children(".toolbarscroll-left").css("left",a(c).scrollLeft()),a(c).children(".toolbarscroll-right").css("right","-"+a(c).scrollLeft().toString()+"px")}else a(c).scrollLeft(a(c).scrollLeft()-20),a(c).scrollLeft()<0&&a(c).scrollLeft(0),a(c).children(".toolbarscroll-left").css("left",a(c).scrollLeft()),a(c).children(".toolbarscroll-right").css("right","-"+a(c).scrollLeft().toString()+"px");return!1}),a("body").bind("mouseup",function(){clearTimeout(f)})}else{var i=a(b).find("> *:not(.toolbarscroll-left):not(.toolbarscroll-right)");i.css("margin","0px 2px")}}},jui2.ui.toolbar.extension.push(jui2.ui.toolbarScroll)}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){var b=a(this),c=this;jui2.ui.base.proto.createdCallback.call(this,jui2.ui.tooltip);for(i in jui2.method)this[i]=jui2.method[i];this.target=a(b.attr("target")),this.tooltip=b.attr("tooltip"),this.currentEl=!1,a("body").on("mousemove."+b.attr("id"),a.throttle(250,function(d){var e=c.target.is(d.target),f=a(d.target);if(0==e){var f=c.target.filter(f.parents());f.length>0&&(e=!0)}if(e){if(c.currentEl[0]!=f[0]){c.currentEl=f;var g,h=f.offset();a(".j-tooltip").remove(),a("body").append('<j-modal class="j-tooltip" center="false"></j-modal>'),"string"==typeof c.tooltip?a(".j-tooltip").append(c.tooltip):c.tooltip(a(".j-tooltip")),g=h.left+a(".j-tooltip").outerWidth()>a(window).width()?h.left-a(".j-tooltip").outerWidth():h.left+f.outerWidth()/2-a(".j-tooltip").outerWidth()/2,a(".j-tooltip").offset({left:g,top:h.top-a(".j-tooltip").outerHeight()})}0==b.closest("body").length&&a("body").off("mousemove."+b.attr("id"));
}else a(".j-tooltip").remove()})),this.enabledAttrChange=a.unique(this.enabledAttrChange.concat([]));var d=jui2.attrChange;for(i in this.attributes){var e=this.attributes[i].nodeName,f=this.attributes[i].nodeValue,g=this.tagName.toLowerCase()+"_"+e;d[g]?d[g](this,!1,f):d[e]&&this.enabledAttrChange.indexOf(e)>-1&&d[e](this,!1,f)}},b.setText=function(b){var c,d=this.currentEl.offset(),e=a(".j-tooltip");e.empty().append(b),c=d.left+e.outerWidth()>a(window).width()?d.left-e.outerWidth():d.left+this.currentEl.outerWidth()/2-e.outerWidth()/2,e.offset({left:c,top:d.top-e.outerHeight()})},b.attributeChangedCallback=function(a,b,c){var d=this.tagName.toLowerCase()+"_"+a,e=jui2.attrChange;e[d]?e[d](this,b,c):e[a]&&this.enabledAttrChange.indexOf(a)>-1&&e[a](this,b,c)},jui2.ui.tooltip={widget:document.registerElement("j-tooltip",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){this.innerHTML=jui2.tmpl.scroll();var b=a(this).parent();"j-table"==b.prop("tagName").toLowerCase()&&(a(this).children().children().outerWidth(a(this).prev().outerWidth(!0)),a(this).outerWidth(a(this).prev().outerWidth(!0)),a(this).children().outerWidth(b.width()),b.children("j-scroll").children().scroll(function(a){b.scrollLeft(b.children("j-scroll").children().scrollLeft()),b.children().not("table, j-scroll").css("left",b.children("j-scroll").children().scrollLeft()),b.children("j-scroll").children().css("left",b.children("j-scroll").children().scrollLeft())}),a(this).height(b.children("j-scroll").children().height()),b.scrollLeft("0px"))},jui2.ui.scroll={widget:document.registerElement("j-scroll",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(b,c){var d=this,e=a(this);jui2.ui.toolbar.proto.createdCallback.call(this),e.addClass("j-bg1 j-border-top1 j-horizontal-flex j-pad1 j-min-height border-box"),this.innerHTML=jui2.tmpl.pagination();var f=null;if(f=null!=this.getAttribute("target")?a(this.getAttribute("target"))[0]:a(this).parent().children("j-loader")[0]){var e=a(d),g=((e.outerHeight(!0)+6).toString()+"px",f.param);e.children(".fa-angle-left").click(function(){g.iDisplayStart=parseInt(g.iDisplayStart),g.iDisplayLength=parseInt(g.iDisplayLength),e.parent().attr("disabled","disabled"),g.iDisplayStart-=g.iDisplayLength,g.iDisplayStart<0&&(g.iDisplayStart=0),f.target.generateData()}),e.parent().resize(function(){a(this).children("j-pagination").outerWidth(a(this).width())}),e.children(".fa-refresh").click(function(){f.target.generateData()}),e.children(".fa-angle-right").click(function(){e.parent().attr("disabled","disabled"),g.iDisplayStart=parseInt(g.iDisplayStart),g.iDisplayLength=parseInt(g.iDisplayLength),g.iTotalRecords=parseInt(g.iTotalRecords),g.iDisplayStart+=g.iDisplayLength,g.iDisplayStart>=g.iTotalRecords&&(g.iDisplayStart-=g.iDisplayLength),f.target.generateData()}),e.children(".j-gotopage").on("keydown",function(b){13==b.keyCode&&(g.iDisplayLength=parseInt(g.iDisplayLength),g.iDisplayStart=a(this).val()*g.iDisplayLength-g.iDisplayLength,f.target.generateData())}),e.children(".j-itemPerPage").on("select",function(a,b){g.iDisplayLength=parseInt(b),f.target.generateData()}),f.afterDrawMethods.pagination=function(){e.children(".j-pageof").text(" of "+Math.ceil(g.iTotalRecords/g.iDisplayLength)),e.children(".j-gotopage").val(Math.ceil(g.iDisplayStart/g.iDisplayLength)+1);var a=g.iTotalRecords+" items ";"NaN items "==a&&(a=""),e.children(".j-total").text(g.iTotalRecords+" items "),e.find(".j-itemPerPage j-toolbar").remove()},f.afterDrawMethods.pagination()}},b.attributeChangedCallback=function(a,b,c){var d=[];jui2.attrChange[a]&&d.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.pagination={widget:document.registerElement("j-pagination",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){a("<j-layout-no-resizer></j-layout-no-resizer>").insertAfter(this);var b=["resize"];for(i in this.attributes){var c=this.attributes[i].nodeName,d=this.attributes[i].nodeValue;jui2.attrChange[c]&&b.indexOf(c)>-1&&jui2.attrChange[c](this,"",d)}},b.attributeChangedCallback=function(a,b,c){var d=["resize"];jui2.attrChange[a]&&d.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.layoutContent={widget:document.registerElement("j-layout-content",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){a(this)},jui2.ui.layoutResizer={widget:document.registerElement("j-layout-resizer",{prototype:b}),proto:b},a(document).ready(function(){var b=a("body"),c=b[0];a.data(c,"jui2.drag.el",!1),b.on("mousedown",function(b){var d;a(b.target).hasClass("j-drag")&&(d=!0,a.data(c,"jui2.drag.el",a(b.target))),a(b.target).parents(".j-drag").length>0&&(d=!0,a.data(c,"jui2.drag.el",a(b.target).parents(".j-drag").eq(0)));var e=a.data(c,"jui2.drag.el");if(0!=e){e.addClass("j-dragging"),e.css("z-index",jui2.findHighestZIndex());var f=e.offset(),g=f.left,h=f.top;a.data(c,"jui2.drag.el.offset",{x:g,y:h}),a.data(c,"jui2.drag.pos",{x:0,y:0})}}).on("mousemove",function(d){var e=a.data(c,"jui2.drag.el");if(0!=a.data(c,"jui2.drag.el")){b.addClass("j-disable-select");var f=a.data(c,"jui2.drag.el.offset"),g=d.clientX+a(document).scrollLeft(),h=d.clientY+a(document).scrollTop(),i=g>f.x?parseInt(g)-parseInt(f.x):"-"+(parseInt(f.x)-parseInt(g)),j=h>f.y?parseInt(h)-parseInt(f.y):"-"+(parseInt(f.y)-parseInt(h));a.data(c,"jui2.drag.pos",{x:i,y:j}),"J-LAYOUT-RESIZER"==e.prop("tagName")?"J-LAYOUT-HORIZONTAL"==e.parent().prop("tagName")?(e.css("transform","translate3d( "+i+"px, 0px, 0px)"),b.css("cursor","w-resize")):(e.css("transform","translate3d(0px, "+j+"px,  0px)"),b.css("cursor","n-resize")):(e.trigger("jui2.drag",[{x:i,y:j},{x:g,y:h}]),e.css("transform","translate3d( "+i+"px, "+j+"px,  0px)"))}}).on("mouseup",function(d){var e=a.data(c,"jui2.drag.el");if(e){var f=a.data(c,"jui2.drag.pos"),g=d.clientX+a(document).scrollLeft(),h=d.clientY+a(document).scrollTop();if("J-LAYOUT-RESIZER"==e.prop("tagName"))if(b.css("cursor",""),"J-LAYOUT-HORIZONTAL"==e.parent().prop("tagName")){var i=parseInt(e.next().width());e.prev().width(parseInt(e.prev().width())+parseInt(f.x)).css("flex-grow","0"),1!=e.next().prop("resize")&&e.next().width(i-parseInt(f.x))}else{var j=parseInt(e.next().height());e.prev().height(parseInt(e.prev().height())+parseInt(f.y)).css("flex-grow","0"),1!=e.next().prop("resize")&&e.next().height(j-parseInt(f.y))}else e.trigger("jui2.drop",[{x:f.x,y:f.y},{x:g,y:h}]);e.css("transform",""),e.removeClass("j-dragging"),a.data(c,"jui2.drag.el",!1),b.removeClass("j-disable-select"),e.css("z-index","")}})})}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){jui2.ui.base.proto.createdCallback.call(this,jui2.ui.colorPicker);var b=a(this);this.setAttribute("icon","fa-square"),jui2.ui.textField.proto.createdCallback.call(this,""),b.bind("clickout",function(c){0==a(c.target).parents("j-colorPicker").length&&0==a(c.target).parents("[belongto=j-colorPicker]").length&&(a("#j-colorPicker-"+b.attr("id")).remove(),0==a(c.target).parents("j-colorpicker, [belongto=j-colorPicker]").length&&a(c.target).parents("j-colorpicker")[0]!=b[0]&&a("[belongto=j-colorPicker]").remove())}),b.click(function(c){if("J-BUTTON"==a(c.target).prop("tagName"))a("#j-colorPicker-"+b.attr("id")).remove();else if(b.find("canvas").length>0)0==a(c.target).parents(".j-canvas-pallete").length&&a("#j-colorPicker-"+b.attr("id")).remove();else{b.append('<div class="j-canvas-pallete"><canvas width="284" height="155"></canvas><div><div></div>Hex:<br/><input class="j-colorPallete-hex"></input><br/><br/><j-button>Pick</j-button></div></div>');var d,e,f=b.find("canvas"),g=f[0].getContext("2d"),h=function(c){var f=g.getImageData(d,e,1,1),h=a("#j-colorPicker-"+b.attr("id"));h.find(".j-canvas-pallete > div > div").css("background","#"+j(f.data[0])+j(f.data[1])+j(f.data[2]))},i=function(c){var f=g.getImageData(d,e,1,1),h=a("#j-colorPicker-"+b.attr("id"));h.find(".j-colorPallete-hex").val("#"+j(f.data[0])+j(f.data[1])+j(f.data[2])),h.find(".j-canvas-pallete > div > div").css("background",h.find(".j-colorPallete-hex").val()),h.find(".j-colorPallete-hex").attr("hex",h.find(".j-colorPallete-hex").val())},j=function(a){var b=a.toString(16);return 1==b.length?"0"+b:b},k=g.createLinearGradient(0,0,f.width(),0);k.addColorStop(0,"rgb(255,   0,   0)"),k.addColorStop(.15,"rgb(255,   0, 255)"),k.addColorStop(.33,"rgb(0,     0, 255)"),k.addColorStop(.49,"rgb(0,   255, 255)"),k.addColorStop(.67,"rgb(0,   255,   0)"),k.addColorStop(.84,"rgb(255, 255,   0)"),k.addColorStop(1,"rgb(255,   0,   0)"),g.fillStyle=k,g.fillRect(0,0,g.canvas.width,g.canvas.height),k=g.createLinearGradient(0,0,0,f.height()),k.addColorStop(0,"rgba(255, 255, 255, 1)"),k.addColorStop(.5,"rgba(255, 255, 255, 0)"),k.addColorStop(.5,"rgba(0,     0,   0, 0)"),k.addColorStop(1,"rgba(0,     0,   0, 1)"),g.fillStyle=k,g.fillRect(0,0,g.canvas.width,g.canvas.height);var l=jui2.findHighestZIndex();f.parent().css("z-index","-Infinity"==l?100:l),b.find(".j-colorPallete-hex").val("#ffffff"),b.find(".j-colorPallete-hex").attr("hex","#ffffff"),b.find("j-button").click(function(){var c=a("#j-colorPicker-"+b.attr("id"));b.val(c.find(".j-colorPallete-hex").attr("hex")),b.find("i").css("color",c.find(".j-colorPallete-hex").attr("hex")),a("#j-colorPicker-"+b.attr("id")).remove()}),f.mousemove(function(a){d=a.pageX-f.offset().left,e=a.pageY-f.offset().top,h(a)}),f.mouseout(function(c){var d=a("#j-colorPicker-"+b.attr("id"));d.find(".j-canvas-pallete > div > div").css("background",d.find(".j-colorPallete-hex").attr("hex")),d.find(".j-colorPallete-hex").val(d.find(".j-colorPallete-hex").attr("hex"))}),f.click(function(a){d=a.pageX-f.offset().left,e=a.pageY-f.offset().top,i(a)}),a("body").append('<j-modal belongto="j-colorPicker" snapto="#'+b.attr("id")+' > input" snappos="topleft to bottomleft" id="j-colorPicker-'+b.attr("id")+'"></j-modal>'),setTimeout(function(){a("#j-colorPicker-"+b.attr("id")).touchBottom()&&(a("#j-colorPicker-"+b.attr("id")).attr("snappos","bottomleft to topleft"),setTimeout(function(){a("#j-colorPicker-"+id).touchTop()&&a("#j-colorPicker-"+id).attr("snappos","topleft to bottomleft")},250))},250),f.parent().detach().appendTo("#j-colorPicker-"+b.attr("id"))}})},b.attributeChangedCallback=function(a,b,c){var d=["disabled","icon"];jui2.attrChange[a]&&d.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.colorPicker={widget:document.registerElement("j-colorPicker",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(b,c){jui2.ui.base.proto.createdCallback.call(this,jui2.ui.textArea),this.iconPosition="beforeend";var b=b||"",d=a(this),e=this.getAttribute("value")||"";""==this.innerHTML.trim()&&(this.innerHTML=b),this.innerHTML=jui2.tmpl.textArea({label:this.innerHTML}),d.addClass("j-input j-valign-top").children().eq(1).append(e),this.removeAttribute("value"),this.children[0].addEventListener("click",function(){a(this).next().focus()});for(i in jui2.method)this[i]=jui2.method[i];if(Object.defineProperty(this.__proto__,"value",{configurable:!0,get:function(){return a(this).children("textarea")[0]?a(this).children("textarea")[0].value:""},set:function(b){a(this).children("textarea")[0]&&(a(this).children("textarea")[0].value=b)}}),this.value){var e=this.value;delete this.value,d.val(e)}else delete this.value;this.attrChangedCb(["disabled","rows","cols","placeholder","readonly"])},b.attributeChangedCallback=function(a,b,c){this.attrChangedCb(!1,a,b,c)},jui2.ui.textArea={widget:document.registerElement("j-textarea",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){var b=this;jui2.ui.base.proto.createdCallback.call(this,jui2.ui.hslider);var c=a(this).children().detach();a(this).append(jui2.tmpl.hslider()).children("div").append(c);var d,e,f;a(this).children("i").first().bind("mousedown",function(){e=250,(f=function(){a(b).children("div").scrollLeft(a(b).children("div").scrollLeft()-20),e>0&&(e-=50),d=setTimeout(f,e)})()}),a(this).children("i").last().bind("mousedown",function(){e=250,(f=function(){a(b).children("div").scrollLeft(a(b).children("div").scrollLeft()+20),e>0&&(e-=50),d=setTimeout(f,e)})()}),a(this).children("div").on("DOMMouseScroll mousewheel",function(b){var c=0;return b.originalEvent.wheelDelta&&(c=b.originalEvent.wheelDelta),b.originalEvent.deltaY&&(c=b.originalEvent.deltaY),b.originalEvent.detail&&(c=b.originalEvent.detail),c>0?a(this).scrollLeft(a(this).scrollLeft()+20):a(this).scrollLeft(a(this).scrollLeft()-20),!1}),a("body").bind("mouseup",function(){clearTimeout(d)});for(i in jui2.method)this[i]=jui2.method[i]},b.attributeChangedCallback=function(a,b,c){jui2.attrChange[a]&&this.enabledAttrChange.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.hslider={widget:document.registerElement("j-hslider",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.addItem=function(b){""==b[1]?a(this).find("tbody").append('<tr item-id="'+b[2]+'" show-child="false"><td>'+b[0]+"</td></tr>"):a('<tr item-id="'+b[2]+'" item-parent="'+b[1]+'" show-child="false"><td>'+b[0]+"</td></tr>").insertAfter(a(this).find("tbody > tr[item-id="+b[1]+"]")).hide()},b.createdCallback=function(){jui2.ui.base.proto.createdCallback.call(this,jui2.ui.tree);var b,c=a(this),d=a("<div>"+this.innerHTML+"</div>");d.children().remove(),a(this).append("<table></table>"),b=""==d[0].innerHTML.trim().replace(/<(.|\n)*?>(.|\n)*?<\/(.|\n)*?>/gi,"")?[]:JSON.parse(d[0].innerHTML.replace(/<(.|\n)*?>(.|\n)*?<\/(.|\n)*?>/gi,"")),d.remove(),a.each(b,function(a,b){c[0].addItem(b)}),a(this).delegate("tr","click",function(b){var d=a(this);"false"==d.attr("show-child")?c.find("tr[item-parent="+d.attr("item-id")+"]").show():c.find("tr[item-parent="+d.attr("item-id")+"]").hide()}),this.attrChangedCb(["disabled"]);for(i in jui2.method)this[i]=jui2.method[i]},b.attributeChangedCallback=function(a,b,c){this.attrChangedCb(!1,a,b,c)},jui2.ui.tree={widget:document.registerElement("j-tree",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.generateData=jui2.ui.dataview.proto.generateData,b.createdCallback=function(){jui2.ui.base.proto.createdCallback.call(this,jui2.ui.gantt);var b=a(this),c=this.loader=b.children("j-loader").detach().attr("type","j-table"),d=this,e=/<(.|\n)*?>(.|\n)*?<\/(.|\n)*?>/gi;""==this.innerHTML.trim().replace(e,"")?data=[]:data=JSON.parse(this.innerHTML.trim().replace(e,"")),this.aaData=data;var f=["Task Name","&nbsp;","&nbsp;"];this.data=a.extend(!0,[],data),b.on("afterdraw",function(){b.find(">.j-table-body > table > tbody > tr > td:nth-child(2)").wrapInner('<div style="height: 100%;"></div>');var c=b.find(">.j-table-body > table > tbody > tr"),e=moment().subtract(1,"month").startOf("week"),f=moment().endOf("week").add(1,"month"),g=moment(),h="DD-MM-YYYY";c.each(function(d,g){var i=b[0].data[d][3];moment(i.startDate,h).subtract(2,"week").isBefore(e)&&(e=moment(i.startDate,h).subtract(1,"week")),moment(i.endDate,h).add(2,"week").isAfter(f)&&(f=moment(i.endDate,h).add(1,"week"));var j=c.filter(function(){return a(this).children("td:nth-child(3)").text().trim()==a(g).find(">td:first-child").text()});j.length>0&&(0==a(g).children("td:nth-child(2)").children().children("i.fa-plus").length&&a(g).children("td:nth-child(2)").children().prepend('<i class="fa fa-minus-square-o"></i>'),j.children("td:nth-child(2)").children().css("padding-left",parseInt(a(g).children("td:nth-child(2)").children().css("padding-left"))+30).parent().parent())}).append('<td class="j-gantt-grid-container"></td>');var i='<div style="height: 100%;position: relative">',j='<div style="height: 100%;position: relative">';for(gridWeek='<div style="height: 100%;position: relative">',gridMonth='<div style="height: 100%;position: relative">',week=0,weekWidth=0,month=0,monthWidth=0,weekDayCount=0,monthDayCount=0;!e.isAfter(f);)i+='<div class="j-gantt-grid '+e.format("DDMMYYYY")+'"></div>',j+='<div class="j-gantt-grid '+e.format("DDMMYYYY")+'"><span style="display:none">'+e.format("DD MMM YYYY")+"</span><span>"+e.format("DD MMM")+'</span><span style="display: none;">'+e.format("dd")+'</span><span style="display: none;">'+e.format("dd")[0]+"</span></div>",parseInt(e.format("W"))>week&&(0!=week&&(gridWeek=gridWeek.replace("{width}",weekWidth+"px").replace("{day}",weekDayCount),weekWidth=0,weekDayCount=0),week=parseInt(e.format("W")),gridWeek+='<div day="{day}" class="j-gantt-grid week'+week+'" style="width: {width}">'+week+"</div>"),weekWidth+=50,weekDayCount++,parseInt(e.format("M"))>month&&(0!=month&&(gridMonth=gridMonth.replace("{width}",monthWidth+"px").replace("{day}",monthDayCount),monthWidth=0,monthDayCount=0),month=parseInt(e.format("M")),gridMonth+='<div day="{day}" class="j-gantt-grid month'+month+'" style="width: {width}">'+e.format("MMM YYYY")+"</div>"),monthWidth+=50,monthDayCount++,e.add(1,"day");gridWeek=gridWeek.replace("{width}",weekWidth+"px").replace("{day}",weekDayCount),gridMonth=gridMonth.replace("{width}",monthWidth+"px").replace("{day}",monthDayCount),i+="</div>",j+="</div>",gridMonth+="</div>",b.find(">.j-table-body > table > thead > tr > th:last-child").empty().append(j),b.find(">.j-table-body > table > thead > tr > th:last-child").prepend(gridWeek),b.find(">.j-table-body > table > thead > tr > th:last-child").prepend(gridMonth),c.children("td:nth-child(3), td:first-child").hide(),c.children("td:nth-child(2)").show(),b.find(".j-gantt-grid-container").append(i),b.find(">.j-table-body > table > thead > tr > th:nth-child(2)").hide(),b.find(">.j-table-body > table > thead > tr > th:nth-child(3)").show(),b.find(">.j-table-body > table > tbody > tr:last-child").clone().appendTo(b.find(">.j-table-body > table > tbody")),b.find(">.j-table-body > table > tbody > tr:last-child").show().children().empty().css("padding","0px");var k=b.find(">.j-table-body > table > tbody > tr > td:nth-child(2)").map(function(){return this.scrollWidth}).get();maxScrollWidth=Math.max.apply(null,k),b.find(">.j-table-body > table > tbody > tr:last-child td:nth-child(2)").css({"font-size":0,"line-height":0}).append('<div class="j-gantt-task-scroll" style="overflow-x: auto; overflow-y: hidden;width: 100%; height: 20px; display: inline-block;"><div style="display:block;width:'+maxScrollWidth+'px;height:20px;"></div></div>');var l=b.find(">.j-table-body > table > tbody > tr:first-child td:last-child > div > div").map(function(){return parseInt(a(this).outerWidth())}).get(),m=l._reduce(function(a,b){return a+b},0);b.find(">.j-table-body > table > tbody > tr:last-child td:last-child").append('<div class="j-gantt-bar-scroll" style="overflow-x: auto; overflow-y: hidden;width: 100%; height: 20px; display: inline-block;"><div style="display:block;height:20px;width:'+m+'px;"></div></div>'),b.find(".j-gantt-task-scroll").scroll(function(){b.find(">.j-table-body > table > tbody > tr:not(:last-child) > td:nth-child(2) > div").css("margin-left","-"+a(this).scrollLeft()+"px")}),b.find(".j-gantt-bar-scroll").scroll(function(){b.find(">.j-table-body > table > tbody > tr:not(:last-child) > td:last-child > div, >.j-table-body > table > thead > tr > th:last-child > div").css("margin-left","-"+a(this).scrollLeft()+"px")}),b[0].addFlag("#F46670",g.format("DD-MM-YYYY"),"Today");var n=!1;c.each(function(e,f){var h=b[0].data[e][3],i=moment(h.startDate,"DD-MM-YYYY"),j=moment(h.endDate,"DD-MM-YYYY"),k=i.diff(j,"days"),l=c.find(".j-gantt-grid").outerWidth(),m=a('<div startDate="'+i.format("DDMMYYYY")+'" endDate="'+j.format("DDMMYYYY")+'" drag="true" verticalDrag="false" class="j-gantt-bar" style="width: '+l*(Math.abs(k)+1)+'px"><div class="j-gantt-progress j-gantt-progress-completed" style="display: inline-block;width:'+h.progress+'%"></div><span style="z-index: 1">'+h.progress+"%</span></div>"),o=b.find("."+i.format("DDMMYYYY")).offset(),p=b.find("."+i.format("DDMMYYYY")).parent().offset();void 0!=b[0].data[e][4]&&1==b[0].data[e][4]&&m.addClass("j-gantt-disable"),g.isAfter(j)&&m.attr("warning","Overdue "+g.diff(j,"days")+" days"),m.appendTo(a(f).children().last().children()).css({top:"2.5px",left:o.left-p.left}),0==n&&(n=o.left-p.left),o.left-p.left<n&&(n=o.left-p.left),a(f).is(":visible")&&d.updateBar(m)}),b.find(".j-gantt-bar-scroll").scrollLeft(n),b.find(".j-gantt-bar").on("dragend",function(b,c){var e=a(this).touching(".j-gantt-grid").eq(0),f=e.attr("class").split(" ")[1],g=a(this).touching(".j-gantt-grid").last().prev().attr("class").split(" ")[1];childPos=e.offset(),parentPos=e.parent().offset(),a(this).css({top:"2.5px",left:childPos.left-parentPos.left}).attr("startDate",f).attr("endDate",g),d.updateBar(this)})}),b.delegate(".fa-plus-square-o","click",function(){var c=a(this).parent().parent().parent();$showed=c.nextUntil(c.nextAll().filter(function(){var b=parseInt(a(this).children("td:nth-child(2)").children().css("padding-left")),d=parseInt(c.children("td:nth-child(2)").children().css("padding-left"));return d>=b})).filter(function(){return parseInt(a(this).children("td:nth-child(2)").children().css("padding-left"))==parseInt(c.children("td:nth-child(2)").children().css("padding-left"))+30}).show(),$showed.find(".j-gantt-bar").each(function(a,b){d.updateBar(b)}),a(this).removeClass("fa-plus-square-o").addClass("fa-minus-square-o");var e=b.find(">.j-table-body > table > tbody > tr > td:nth-child(2)").map(function(){return this.scrollWidth}).get(),f=Math.max.apply(null,e);b.find(".j-gantt-task-scroll > div").css("width",f)}),b.delegate(".fa-minus-square-o","click",function(){var c=a(this).parent().parent().parent(),d=parseInt(c.children("td:nth-child(2)").children().css("padding-left"));c.nextUntil(c.nextAll().filter(function(){var b=parseInt(a(this).children("td:nth-child(2)").children().css("padding-left"));return d>=b})).hide().find(".fa-minus-square-o").removeClass("fa-minus-square-o").addClass("fa-plus-square-o"),a(this).removeClass("fa-minus-square-o").addClass("fa-plus-square-o");var e=b.find(">.j-table-body > table > tbody > tr > td:nth-child(2)").map(function(){return this.scrollWidth}).get(),f=Math.max.apply(null,e)-200+10;b.find(".j-gantt-task-scroll > div").css("width",f)}),b.delegate(".j-gantt-bar","mouseover",function(c){var e=a("#j-gantt-tooltip"),f=!0;if(e.length>0&&(e[0].bar==c.target||e[0]==c.target||e[0].bar==a(c.target).parents(".j-gantt-bar")[0])&&(f=!1),f){var g,h=d.taskInfo(this),i=a(this).offset();a("#j-gantt-tooltip").remove(),b.append('<j-modal id="j-gantt-tooltip" center="false">'+h.tooltip+"</j-modal>"),g=c.pageX+a("#j-gantt-tooltip").outerWidth()>a(window).width()?c.pageX-a("#j-gantt-tooltip").outerWidth():c.pageX,a("#j-gantt-tooltip").offset({left:g,top:i.top-a("#j-gantt-tooltip").outerHeight()}),a("#j-gantt-tooltip")[0].bar=c.target}}),b.delegate(".j-gantt-grid","mouseenter",function(b){var c=a("#j-gantt-tooltip");c.length>0&&(c[0]==b.target||c[0].bar==b.target||c[0].bar==a(b.target).parents(".j-gantt-bar")[0]||a("#j-gantt-tooltip").remove())}),jui2.ui.dataview.proto.createdCallback.call(this),b.find("thead").remove(),b.append(c),this.enabledAttrChange=a.unique(this.enabledAttrChange.concat(["disabled","width","height","title"])),a(this.children[0]).children().prepend(jui2.tmpl.tableHeader({columns:f}));for(i in this.attributes){var g=this.attributes[i].nodeName,h=this.attributes[i].nodeValue;jui2.attrChange[this.tagName.toLowerCase()+"_"+g]?jui2.attrChange[this.tagName.toLowerCase()+"_"+g](this,!1,h):jui2.attrChange[g]&&this.enabledAttrChange.indexOf(g)>-1&&jui2.attrChange[g](this,!1,h)}},b.updateBar=function(b){var c=this.taskInfo(b),b=a(b),d=a(this);c.overdue>0?b.attr("warning","Overdue "+c.overdue+" days"):b.attr("warning",""),1==c.disable&&b.addClass("j-gantt-disable");var e=c.expectedProgress>c.progress?100-c.expectedProgress:100-c.progress,f=b.parent().parent().find(".j-gantt-grid").outerWidth();b.empty(),b.append('<span style="z-index: 1">'+c.progress+"%</span>"),b.outerWidth(f*(Math.abs(moment(c.startDate,"DD-MM-YYYY").diff(moment(c.endDate,"DD-MM-YYYY"),"days"))+1)),b.prepend('<div class="j-gantt-progress j-gantt-progress-completed" style="display: inline-block;width:'+c.progress+'%"></div>'),b.prepend('<div class="j-gantt-progress" style="display: inline-block; width: '+(c.expectedProgress-c.progress)+"%; left: "+c.progress+'%; background: #f46670"></div>'),b.prepend('<div class="j-gantt-progress" style="display: inline-block; width: '+e+'%; right: 0; left: unset; background: #c7d8f7"></div>'),b.parent().parent().parent().children("td:nth-child(2)").find(".fa-minus-square-o, .fa-plus-square-o").length>0&&b.append('<div class="j-gantt-milestone"></div>'),childPos=d.find("."+moment(c.startDate,"DD-MM-YYYY").format("DDMMYYYY")).offset(),parentPos=d.find("."+moment(c.startDate,"DD-MM-YYYY").format("DDMMYYYY")).parent().offset(),b.css({top:"2.5px",left:childPos.left-parentPos.left})},b.taskInfo=function(b){var b=a(b),c=this.data[b.parent().parent().parent().index()];c[3].startDate=moment(a(b).attr("startDate"),"DDMMYYYY").format("DD-MM-YYYY"),c[3].endDate=moment(a(b).attr("endDate"),"DDMMYYYY").format("DD-MM-YYYY");var d=b.parent().children("."+moment(c[3].startDate,"DD-MM-YYYY").format("DDMMYYYY")).nextUntil("."+moment(c[3].endDate,"DD-MM-YYYY").format("DDMMYYYY")).length+2,e=moment().startOf("day").diff(moment(c[3].endDate,"DD-MM-YYYY"),"days"),f=c[3].progress;elapsedDays=moment().diff(moment(c[3].startDate,"DD-MM-YYYY"),"days"),expectedProgress=100/d*(elapsedDays+1),disable=0,b.hasClass("j-gantt-disable")&&(disable=1),expectedProgress>100&&(expectedProgress=100);var g={overdue:e,progress:Math.round(f),startDate:c[3].startDate,endDate:c[3].endDate,expectedProgress:expectedProgress,elapsedDay:elapsedDays,name:c[1],realData:c,disable:disable};return g.tooltip="function"==typeof this.tooltip?this.tooltip(g):g.name,g},b.addFlag=function(b,c,d){var e=moment(c,"DD-MM-YYYY").format("DDMMYYYY"),f=a.idealTextColor(b);d=d?'<div style="color:'+f+'">'+d+"</div>":"";var g=a(this).find(".j-gantt-grid-container ."+e);g.eq(0).append('<div class="j-gantt-flag" style="background:'+b+'">'+d+"</div>"),g.not(g.eq(0)).append('<div class="j-gantt-flag" style="background:'+b+'"></div>')},b.zoomOut=function(){var b=this,c=a(this).find("> .j-table-body > table > tbody > tr .j-gantt-grid");if(c.outerWidth()/2%1==0){c.outerWidth(c.outerWidth()/2);var d=a(this).find("> .j-table-body > table > thead div:nth-child(3) .j-gantt-grid");d.outerWidth(d.outerWidth()/2),a(this).find("> .j-table-body > table > thead div:nth-child(2) .j-gantt-grid").each(function(b,d){a(d).outerWidth(parseInt(a(d).attr("day"))*c.outerWidth())}),a(this).find("> .j-table-body > table > thead div:nth-child(1) .j-gantt-grid").each(function(b,d){a(d).outerWidth(parseInt(a(d).attr("day"))*c.outerWidth())});var e=a(this).find("> .j-table-body > table > tbody > tr .j-gantt-bar-scroll > div");e.outerWidth(e.outerWidth()/2),a(this).find("> .j-table-body > table > tbody > tr .j-gantt-bar").each(function(a,c){b.updateBar(c)});var c=d.filter(function(){return a(this).children(":visible").text().match("W")});0==c.length&&(c=d),c[0].offsetWidth<=c[0].scrollWidth&&d.children(":visible").hide().next().show(),0==d.eq(0).children(":visible").length&&d.parent().css("height","0px")}},b.zoomIn=function(){var b=this,c=a(this).find("> .j-table-body > table > tbody > tr .j-gantt-grid");c.outerWidth(2*c.outerWidth());var d=a(this).find("> .j-table-body > table > thead div:nth-child(3) .j-gantt-grid");d.outerWidth(2*d.outerWidth()),a(this).find("> .j-table-body > table > thead div:nth-child(2) .j-gantt-grid").each(function(b,d){a(d).outerWidth(parseInt(a(d).attr("day"))*c.outerWidth())}),a(this).find("> .j-table-body > table > thead div:nth-child(1) .j-gantt-grid").each(function(b,d){a(d).outerWidth(parseInt(a(d).attr("day"))*c.outerWidth())});var e=a(this).find("> .j-table-body > table > tbody > tr .j-gantt-bar-scroll > div");e.outerWidth(2*e.outerWidth()),a(this).find("> .j-table-body > table > tbody > tr .j-gantt-bar").each(function(a,c){b.updateBar(c)}),d[0].offsetWidth>d[0].scrollWidth&&(0==d.children(":visible").length?d.children("span:last-child").show():d.children(":visible").prev().length>0&&d.children(":visible").hide().prev().show()),d[0].offsetWidth<=d[0].scrollWidth&&(d.children(":visible").next().length>0?d.children(":visible").hide().next().show():d.children().hide()),d.eq(0).children(":visible").length>0&&d.parent().css("height","")},b.attributeChangedCallback=function(a,b,c){jui2.attrChange[this.tagName.toLowerCase()+"_"+a]?jui2.attrChange[this.tagName.toLowerCase()+"_"+a](this,b,c):jui2.attrChange[a]&&this.enabledAttrChange.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.gantt={widget:document.registerElement("j-gantt",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(b,c){jui2.ui.base.proto.createdCallback.call(this,jui2.ui.comboField);var d=this.juiid;this.iconPosition="beforeend";var e,f,b=b||"",c=c||"text",g=a(this);""==this.innerHTML.trim()&&(this.innerHTML=b);var h=this.getAttribute("value")||"";this.innerHTML=jui2.tmpl.timeField({label:this.innerHTML,type:c}),a(this).children().eq(1).attr("value",h),a(this).append(jui2.tmpl.timeFieldBody()),this.removeAttribute("value"),this.getAttribute("icon")&&this.insertAdjacentHTML("beforeend",'<i class="j-ui-icon fa '+this.getAttribute("icon")+'"></i>'),document.addEventListener?this.children[0].addEventListener("click",function(){a(this).next().focus()}):document.attachEvent&&this.children[0].attachEvent("onclick",function(){a(this).next().focus()}),jui2.keycodes.bind(this,"tab,enter,backspace,escape,[0,9],delete,[96,111]");for(i in jui2.method)this[i]=jui2.method[i];f=a(this).children("div"),e=a(this).find("table"),e.bind("clickout",function(b){b.target!=g[0]&&a(b.target).parents("j-timeField")[0]!=g[0]&&0==a(b.target).parents("[belongto=j-timeField]").length&&(e.detach().appendTo(f),a("#j-timeField-"+d).remove(),f.hide())}),g.delegate(g.children().not("j-table"),"click",function(b){var c=a(b.target);c.hasClass("fa-remove")?g.val(""):c.parents("div:not(j-table > div)")[0]!=f[0]&&b.target!=f[0]&&(f.toggle(),"block"==f.css("display")?(0==a("#j-timeField-"+d).length&&a("body").append('<j-modal belongto="j-timeField" snapto="#'+g.attr("id")+' > input" snappos="topleft to bottomleft" id="j-timeField-'+d+'"></j-modal>'),e.detach().appendTo("#j-timeField-"+d),e.show(),f.show(),e.removeAttr("style")):(e.detach().appendTo(f),a("#j-timeField-"+d).remove(),f.hide()))}),e.find(".j-timeField-setTime").click(function(){g.find("input").eq(0).val(e.find(".j-active").eq(0).text()),g.find("input").eq(1).val(e.find(".j-active").eq(1).text()),e.detach().appendTo(f),a("#j-timeField-"+d).remove(),f.hide(),g.triggerHandler("select",[g.val()]),e.find("td").removeClass("j-active")}),e.delegate("td","click",function(b){a(this).parents("table").eq(0);a("[belongto=j-timeField] table tr:nth-child(2) td, [belongto=j-timeField] > table tr:nth-child(3) td").is(a(this))&&a("[belongto=j-timeField] table tr:nth-child(2) td, [belongto=j-timeField] > table tr:nth-child(3) td").removeClass("j-active"),a("[belongto=j-timeField] table tr:nth-child(5) td").is(a(this))&&a("[belongto=j-timeField] table tr:nth-child(5) td").removeClass("j-active"),a("[belongto=j-timeField] table tr:nth-child(6) td, [belongto=j-timeField] > table tr:nth-child(1) td, [belongto=j-timeField] > table tr:nth-child(4) td").is(a(this))||a(this).addClass("j-active")}),Object.defineProperty(this.__proto__,"value",{configurable:!0,get:function(){return a(this).children("input")[0]?a(this).children("input")[0].value+":"+a(this).children("input")[1].value:""},set:function(b){return a(this).children("input")[0]&&(a(this).children("input")[0].value=b.split(":")[0],a(this).children("input")[1].value=b.split(":")[1]),a(this).children("input")[0].value+":"+a(this).children("input")[1].value;
}});var j=!0;if(this.noInherit&&-1!=this.noInherit.indexOf("value")&&(j=!1),this.value&&j){var h=this.value;delete this.value,a(this).val(h)}else j&&delete this.value},b.attributeChangedCallback=function(a,b,c){var d=["disabled","icon","placeholder","readonly"];jui2.attrChange[a]&&d.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.timeField={widget:document.registerElement("j-timefield",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){var b,c,d=this;jui2.ui.base.proto.createdCallback.call(this,jui2.ui.resize),a(this).attr("drag","true").on("dragstart",function(e,f){b=f.x,c=f.y,a(d).triggerHandler("beforeresize"),a("j-drag").css({height:a(d).parent().outerHeight(!1),width:a(d).parent().outerWidth(!1)}).offset(a(d).parent().offset()),"horizontal"==a(d).attr("direction")&&a("j-drag").css({cursor:"ew-resize !important"})}).on("dragmove",function(e,f){"horizontal"==a(d).attr("direction")?a("j-drag").css({width:a(d).parent().outerWidth(!1)+(f.x-b)}).offset(a(d).parent().offset()):a("j-drag").css({width:a(d).parent().outerWidth(!1)+(f.x-b),height:a(d).parent().outerHeight(!1)+(f.y-c)}).offset(a(d).parent().offset())}).on("dragend",function(c,e){if("horizontal"==a(d).attr("direction"))a(d).parent().outerWidth(a(d).parent().outerWidth(!1)+(e.x-b)),a(d).css({top:"",bottom:""}).triggerHandler("afterresize");else{var f=a(d).parent();a(d).parent().outerHeight(parseInt(a("j-drag").innerHeight())-parseInt(f.css("margin-top"))-parseInt(f.css("margin-bottom"))-parseInt(f.css("padding-top"))-parseInt(f.css("padding-bottom"))).outerWidth(parseInt(a("j-drag").innerWidth())-parseInt(f.css("margin-left"))-parseInt(f.css("margin-right"))-parseInt(f.css("padding-left"))-parseInt(f.css("padding-right"))).triggerHandler("afterresize")}});for(i in this.attributes){var e=this.attributes[i].nodeName,f=this.attributes[i].nodeValue;jui2.attrChange[this.tagName.toLowerCase()+"_"+e]?jui2.attrChange[this.tagName.toLowerCase()+"_"+e](this,!1,f):jui2.attrChange[e]&&this.enabledAttrChange.indexOf(e)>-1&&jui2.attrChange[e](this,!1,f)}},b.attributeChangedCallback=function(a,b,c){jui2.attrChange[this.tagName.toLowerCase()+"_"+a]?jui2.attrChange[this.tagName.toLowerCase()+"_"+a](this,b,c):jui2.attrChange[a]&&this.enabledAttrChange.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.resize={widget:document.registerElement("j-resize",{prototype:b}),proto:b,extension:[]}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(b,c){jui2.ui.base.proto.createdCallback.call(this,jui2.ui.wysiwyg),this.iconPosition="beforeend";var b=b||"";""==this.innerHTML.trim()&&(this.innerHTML=b);var d=this.getAttribute("value")||"";this.innerHTML=jui2.tmpl.textArea({label:this.innerHTML}),a(this).addClass("j-input j-valign-top").children().eq(1).attr("value",d),this.removeAttribute("value"),this.getAttribute("icon")&&this.insertAdjacentHTML("beforeend",'<i class="j-ui-icon fa '+this.getAttribute("icon")+'"></i>'),document.addEventListener?this.children[0].addEventListener("click",function(){a(this).next().focus()}):document.attachEvent&&this.children[0].attachEvent("onclick",function(){a(this).next().focus()});for(i in jui2.method)this[i]=jui2.method[i];var e="mce-"+a(this).attr("id")+jui2.random("5","#");a(this).children("textarea").attr("id",e),tinymce.init({selector:"#"+e,plugins:["advlist autolink lists loadexcel link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste code"],toolbar:"insertfile undo redo | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image",width:350,forced_root_block:!1,resize:"both",force_br_newlines:!0,force_p_newlines:!1}),Object.defineProperty(this.__proto__,"value",{configurable:!0,get:function(){return a(this).find("iframe").contents().find("body").html()},set:function(b){return a(this).find("iframe").contents().find("body").html(b),a(this).find("iframe").contents().find("body").html()}});var f=!0;if(this.noInherit&&-1!=this.noInherit.indexOf("value")&&(f=!1),this.value&&f){var d=this.value;delete this.value,a(this).val(d)}else f&&delete this.value},b.attributeChangedCallback=function(a,b,c){var d=["disabled","icon"];jui2.attrChange[a]&&d.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.wysiwyg={widget:document.registerElement("j-wysiwyg",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){jui2.ui.base.proto.createdCallback.call(this,jui2.ui.tableFilter);var b,c=a(this),d=a("<div>"+this.innerHTML+"</div>");b=""==d[0].innerHTML.trim().replace(/<(.|\n)*?>(.|\n)*?<\/(.|\n)*?>/gi,"")?"":d[0].innerHTML.trim().replace(/<(.|\n)*?>(.|\n)*?<\/(.|\n)*?>/gi,""),d.remove(),c.empty().append(jui2.tmpl.tableFilter({filterList:b,filterSource:c.attr("filter-source")})),c.find(".j-table-filter-add").on("select",function(a,b){fields=c[0].add(parseInt(b)),""!=fields[0]&&0==c.find(".j-table-filter-body #"+b).length&&c.find(".j-table-filter-body").append('<tr id="'+b+'"><td width="100px"><input type="checkbox" checked/> '+fields[0]+" </td><td>"+fields[1]+"</td></tr>")}),c.find(".j-table-filter-filter").on("select",function(a,b){c.get(0).removeFilter();var d=this.getSelectedRecord(),e=d[2].split(";");for(e=e.slice(0,-1),i=0;i<e.length;i++){var f=e[i].split("=");c[0].load&&(fields=c[0].load(f[0],f[1])),c.find(".j-table-filter-body").append('<tr><td width="100px"><input type="checkbox" checked/> '+fields[0]+" </td><td>"+fields[1]+"</td></tr>")}});for(i in jui2.method)this[i]=jui2.method[i];this.enabledAttrChange=a.unique(this.enabledAttrChange.concat([]));for(i in this.attributes){var e=this.attributes[i].nodeName,f=this.attributes[i].nodeValue,g=this.tagName.toLowerCase()+"_"+e;jui2.attrChange[g]?jui2.attrChange[g](this,!1,f):jui2.attrChange[e]&&this.enabledAttrChange.indexOf(e)>-1&&jui2.attrChange[e](this,!1,f)}},b.removeFilter=function(){var b=a(this);b.find(".j-table-filter-tabFilter tr").remove()},b.attributeChangedCallback=function(a,b,c){var d=this.tagName.toLowerCase()+"_"+a;jui2.attrChange[d]?jui2.attrChange[d](this,b,c):jui2.attrChange[a]&&this.enabledAttrChange.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.tableFilter={widget:document.registerElement("j-table-filter",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){jui2.ui.base.proto.createdCallback.call(this,jui2.ui.progressbar),this.attrChangedCb(["disabled"]);var b=a(this);if(b.append("<div></div><div></div>"),b.attr("color")){var c=a.getRGB(b.attr("color"));b.css("background-color","rgba("+c.R+", "+c.G+", "+c.B+", 0.2)"),b.children().css("background-color",b.attr("color"))}for(i in jui2.method)this[i]=jui2.method[i]},b.attributeChangedCallback=function(a,b,c){this.attrChangedCb(!1,a,b,c)},b.progress=function(b){clearTimeout(a(this).stop().data("timer")),"indeterminate"!=a(this).attr("type")&&a(this).children().width(parseInt(b)+"%")},b.reset=function(){clearTimeout(a(this).stop().data("timer")),a(this).removeAttr("type"),this.progress(0)},b.complete=function(){var b=a(this).children();a(this).removeAttr("type"),b.width("100%"),a.data(this,"timer",setTimeout(function(){b.width(0)},1e3))},jui2.ui.progressbar={widget:document.registerElement("j-progressbar",{prototype:b}),proto:b}}(jQuery),function($){var proto=Object.create(HTMLElement.prototype);proto.createdCallback=function(label,type){var self=this;if("j-table"==this.getAttribute("type")){var target=$(this).parent(),regxp=/<(.|\n)*?>(.|\n)*?<\/(.|\n)*?>/gi,data,html="";data=""==this.innerHTML.trim().replace(regxp,"")?data||[]:data||eval(this.innerHTML.replace(regxp,"")),$.each(data,function(a,b){html+='<tr class="j-custom-header">',$.each(b,function(a,b){html+='<th rowspan="'+(b.rowspan||1)+'" colspan="'+(b.colspan||1)+'" class="j-border-bot1 j-bg1 j-no-wrap j-border-right1"><div class="j-pad1">'+b.text+"</div></th>"}),html+="</tr>"}),target.find("> .j-table-body > table > thead").prepend(html),this.innerHTML=""}},jui2.ui.customHeader={widget:document.registerElement("j-custom-header",{prototype:proto}),proto:proto}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){jui2.ui.textArea.proto.createdCallback.call(this,"","text"),a(this).find("textarea").wysiwyg({toolbar:"top-selection",buttons:{bold:{title:"Bold (Ctrl+B)",image:"",hotkey:"b"},italic:{title:"Italic (Ctrl+I)",image:"",hotkey:"i"},underline:{title:"Underline (Ctrl+U)",image:"",hotkey:"u"},strikethrough:{title:"Strikethrough (Ctrl+S)",image:"",hotkey:"s"},forecolor:{title:"Text color",image:""},highlight:{title:"Background color",image:""},subscript:{title:"Subscript",image:"",showselection:!0},superscript:{title:"Superscript",image:"",showselection:!0},removeformat:{title:"Remove format",image:""}}}),Object.defineProperty(this.__proto__,"value",{configurable:!0,get:function(){return a(this).find(".wysiwyg-editor")[0]?a(this).find(".wysiwyg-editor").html():""},set:function(b){a(this).find(".wysiwyg-editor")[0]&&a(this).find(".wysiwyg-editor").html(b)}})},b.attributeChangedCallback=function(a,b,c){var d=this.tagName.toLowerCase()+"_"+a;jui2.attrChange[d]?jui2.attrChange[d](this,b,c):jui2.attrChange[a]&&this.enabledAttrChange.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.editor={widget:document.registerElement("j-editor",{prototype:b}),proto:b}}(jQuery);
//# sourceMappingURL=jui2.ui.min.js.map