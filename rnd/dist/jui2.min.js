/*! jui2 05-10-2015 Copyright Deddy Lasmono Putro */

var jui2=jui2||{ui:{},lang:{}};jui2.lang=jui2.lang||{},jui2.ui=jui2.ui||{},jui2.random=function(a,b){var c,d,e="",f="";for(c={a:"abcdefghijklmnopqrstuvwxyz",A:"ABCDEFGHIJKLMNOPQRSTUVWXYZ","#":"0123456789","!":"~`!@#$%^&*()_+-={}[]:\";'<>?,./|\\"},d=b.length;d--;)f+=c[b[d]];for(d=a;d>0;--d)e+=f[Math.round(Math.random()*(f.length-1))];return e},jui2.findHighestZIndex=function(){return Math.max.apply(null,$.map($("body > *"),function(a){return"absolute"==$(a).css("position")?parseInt($(a).css("z-index"))||1:void 0}))},jui2.clearNullFromJson=function(a){jui2.iterateJson(a,function(a){if("object"==typeof a)for(var b in a)a[b]||0!=a[b]&&(a[b]="")})},jui2.iterateJson=function(a,b){for(var c in a)b(a[c]),"object"==typeof a[c]&&jui2.iterateJson(a[c],b)},jQuery.fn.outerHTML=function(a){return a?this.before(a).remove():jQuery("<p>").append(this.eq(0).clone()).html()},jQuery.fn.getValues=function(){var a={};return $(this).find("j-textfield, j-textarea, j-passwordfield, j-combofield, j-datefield, j-numberfield").filter(function(){return void 0!==($(this).attr("name")||$(this).attr("id"))}).each(function(b,c){var d=$(c).attr("name")||$(c).attr("id");a[d]=$(c).val()}),a},jQuery.fn.justtext=function(){return $(this).clone().children().remove().end().text()},function(a){a.fn.hasScrollBar=function(){return this.get(0).scrollHeight>this.outerHeight()}}(jQuery),function(a,b,c){"$:nomunge";function d(){e=b[h](function(){f.each(function(){var b=a(this),c=b.width(),d=b.height(),e=a.data(this,j);(c!==e.w||d!==e.h)&&b.trigger(i,[e.w=c,e.h=d])}),d()},g[k])}var e,f=a([]),g=a.resize=a.extend(a.resize,{}),h="setTimeout",i="resize",j=i+"-special-event",k="delay",l="throttleWindow";g[k]=250,g[l]=!0,a.event.special[i]={setup:function(){if(!g[l]&&this[h])return!1;var b=a(this);f=f.add(b),a.data(this,j,{w:b.width(),h:b.height()}),1===f.length&&d()},teardown:function(){if(!g[l]&&this[h])return!1;var b=a(this);f=f.not(b),b.removeData(j),f.length||clearTimeout(e)},add:function(b){function d(b,d,f){var g=a(this),h=a.data(this,j);h.w=d!==c?d:g.width(),h.h=f!==c?f:g.height(),e.apply(this,arguments)}if(!g[l]&&this[h])return!1;var e;return a.isFunction(b)?(e=b,d):(e=b.handler,void(b.handler=d))}}}(jQuery,this),function(){jui2.lang.day={en:{sun:{"short":"Sun","long":"Sunday"},mon:{"short":"Mon","long":"Monday"},tue:{"short":"Tue","long":"Tuesday"},wed:{"short":"Wed","long":"Wednesday"},thu:{"short":"Thu","long":"Thursday"},fri:{"short":"Fri","long":"Friday"},sat:{"short":"Sat","long":"Saturday"}}}}(jQuery),function(){jui2.lang.month={en:{jan:{"short":"Jan","long":"January"},feb:{"short":"Feb","long":"February"},mar:{"short":"Mar","long":"March"},apr:{"short":"Apr","long":"April"},may:{"short":"May","long":"May"},jun:{"short":"Jun","long":"June"},jul:{"short":"Jul","long":"July"},aug:{"short":"Aug","long":"August"},sep:{"short":"Sep","long":"September"},oct:{"short":"Oct","long":"October"},nov:{"short":"Nov","long":"November"},dec:{"short":"Dec","long":"December"}}}}(jQuery),function($){jui2.nextChar=function(a){return String.fromCharCode(a.charCodeAt(0)+1)},jui2.keycodes={backspace:8,tab:9,enter:13,enter:16,ctrl:17,alt:18,"pause/break":19,capslock:20,esc:27,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,printscreen:44,insert:45,ins:45,"delete":46,del:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,".":190},jui2.keycodes.bind=function(el,keycodes){keycodes=keycodes.replace(/\s+/g,""),keycodes='["'+keycodes.replace(/,/g,'","').replace(/\"\[/g,'["').replace(/(\]\")/g,'"]')+'"]',keycodes=keycodes.replace(/(\]\")/g,'"]'),keycodes=eval(keycodes);var tmp=[];$.each(keycodes,function(a,b){if("object"==typeof b)if(isNaN(b[0])){for(var c=b[0].lowerCase(),d=b[1].lowerCase();c!=d;)tmp.push(jui2.keycodes[c]),c=jui2.nextChar(c);tmp.push(jui2.keycodes[c])}else for(var e=parseInt(b[0]);e<=parseInt(b[1]);e++)tmp.push(jui2.keycodes[e]);else tmp.push(jui2.keycodes[b])}),$(el).keydown(function(a){$.inArray(a.keyCode,tmp)>=0||a.preventDefault()})}}(jQuery),jui2.method={disable:function(a){self=a||this,self.className+=" j-disable"},enable:function(a){self=a||this,self.className=self.className.replace(/(?:^|\s)j-disable(?!\S)/g,"")}},jui2.attrChange={disabled:function(a,b,c){null!=c?(jui2.method.disable(a),$el=$(a),"J-TABLE"!=$el.prop("tagName")&&($el.data("_events",$.extend(!0,{},$el.data("events"))),$el.data("events",[]),$el.unbind())):null==c&&(jui2.method.enable(a),$el=$(a),"J-TABLE"!=$el.prop("tagName")&&($.each($el.data("_events"),function(a,b){$.each(b,function(a,b){$el.on(b.type,b.handler,b.data,b.selector)})}),$el.data("events",$.extend(!0,{},$el.data("_events")))))},icon:function(a,b,c){a.iconPosition&&($(a).children(".j-ui-icon").remove(),null!=c&&a.insertAdjacentHTML(a.iconPosition,'<i class="j-ui-icon fa '+c+'"></i>'))},width:function(a,b,c){a.style.width=c},height:function(a,b,c){a.style.height=c,"J-TABLE"==$(a).prop("tagName")&&$(a).triggerHandler("afterdraw.height")},title:function(a,b,c){var d=$(a);d.find(".j-title").remove();var e=$(a).children("table");null!=c&&a.insertAdjacentHTML("afterbegin",'<div class="j-title">'+c+"</div>"),"J-TABLE"==a.tagName&&(marginTop=0,e.prevAll().each(function(a,b){marginTop+="J-TOOLBAR"==$(b).prop("tagName")?37:$(b).outerHeight(!0)}),e.css("margin-top",marginTop))},resize:function(a,b,c){if("true"==c.toLowerCase()){var d=$(a);"J-LAYOUT-NO-RESIZER"==d.next().prop("tagName")&&d.next().remove(),"J-LAYOUT-RESIZER"!=d.next().prop("tagName")&&$('<j-layout-resizer class="j-drag"></j-layout-resizer>').insertAfter(d)}else{var d=$(a);"J-LAYOUT-RESIZER"==d.next().prop("tagName")&&d.next().remove(),"J-LAYOUT-NO-RESIZER"!=d.next().prop("tagName")&&$("<j-layout-no-resizer></j-layout-no-resizer>").insertAfter(d)}}},function(){var a=Object.create(HTMLElement.prototype);a.createdCallback=function(a){this.enabledAttrChange=this.enabledAttrChange||[];for(i in a.extension)a.extension[i](this);for(i in this.attributes){var b=this.attributes[i].nodeName,c=this.attributes[i].nodeValue;jui2.attrChange[b]&&this.enabledAttrChange.indexOf(b)>-1&&jui2.attrChange[b](this,"",c)}},jui2.ui.base={widget:document.registerElement("j-base",{prototype:a}),proto:a,extension:[]}}(jQuery),function(){var a=Object.create(HTMLElement.prototype);a.createdCallback=function(){this.iconPosition="afterBegin",this.enabledAttrChange=["disabled","icon"],""==this.innerHTML.trim()&&(this.innerHTML=""),this.getAttribute("icon")&&(this.innerHTML='<i class="fa '+this.getAttribute("icon")+'"></i> '+this.innerHTML);for(i in jui2.method)this[i]=jui2.method[i]},a.attributeChangedCallback=function(a,b,c){jui2.attrChange[a]&&this.enabledAttrChange.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.button={widget:document.registerElement("j-button",{prototype:a}),proto:a}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(b,c){this.iconPosition="beforeend";var b=b||"",c=c||"text";""==this.innerHTML.trim()&&(this.innerHTML=b),this.innerHTML=jui2.tmpl.textField({label:this.innerHTML,type:c}),this.getAttribute("icon")&&this.insertAdjacentHTML("beforeend",'<i class="j-ui-icon fa '+this.getAttribute("icon")+'"></i>'),document.addEventListener?this.children[0].addEventListener("click",function(){a(this).next().focus()}):document.attachEvent&&this.children[0].attachEvent("onclick",function(){a(this).next().focus()});for(i in jui2.method)this[i]=jui2.method[i];Object.defineProperty(this.__proto__,"value",{configurable:!0,get:function(){return a(this).children("input")[0]?a(this).children("input")[0].value:""},set:function(b){return a(this).children("input")[0]&&(a(this).children("input")[0].value=b),a(this).children("input")[0].value}});var d=!0;if(this.noInherit&&-1!=this.noInherit.indexOf("value")&&(d=!1),this.value&&d){var e=this.value;delete this.value,a(this).val(e)}else d&&delete this.value},b.attributeChangedCallback=function(a,b,c){var d=["disabled","icon"];jui2.attrChange[a]&&d.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.textField={widget:document.registerElement("j-textfield",{prototype:b}),proto:b}}(jQuery),function(){var a=Object.create(HTMLElement.prototype);a.createdCallback=function(){jui2.ui.textField.proto.createdCallback.call(this,"Numberfield"),jui2.keycodes.bind(this,"tab,enter,backspace,escape,.,[0,9],delete,[96,111]")},a.attributeChangedCallback=function(a,b,c){var d=["disabled","icon"];jui2.attrChange[a]&&d.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.numberField={widget:document.registerElement("j-numberfield",{prototype:a}),proto:a}}(jQuery),function(){var a=Object.create(HTMLElement.prototype);a.createdCallback=function(){jui2.ui.textField.proto.createdCallback.call(this,"Passwordfield","password")},a.attributeChangedCallback=function(a,b,c){var d=["disabled","icon"];jui2.attrChange[a]&&d.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.passwordField={widget:document.registerElement("j-passwordfield",{prototype:a}),proto:a}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){this.setAttribute("icon","fa-angle-down");var b,c=a(this).children("j-table").detach(),d=a(this);this.noInherit=["value"],jui2.ui.textField.proto.createdCallback.call(this,"Combofield"),a(this).append(c),a(this).children("j-table").wrap("<div></div>");var e=a(this).children("div");b=a(this).find("j-table"),d.attr("pk")||d.attr("pk","0"),d.bind("clickout",function(b){b.target!=d[0]&&a(b.target).parents("j-combofield")[0]!=d[0]&&e.hide()}),d.delegate(d.children().not("j-table"),"click",function(f){if(a(f.target).hasClass("fa-remove"))d.val("");else if(a(f.target).parents("div:not(j-table > div)")[0]!=e[0]&&f.target!=e[0]&&(e.toggle(),"block"==e.css("display"))){e.css("top",parseInt(d.css("height"))+d.offset().top).css("left",125+d.position().left+d.parents().filter(function(){return a(this).hasScrollBar()}).scrollLeft());var g=d.parents().filter(function(){return a(this).hasScrollBar()});g.length>0&&"HTML"!=g.eq(0).prop("tagName")&&e.css("top",parseInt(d.css("height"))+d.position().top+g.scrollTop()),e.css("top",parseInt(d.css("height"))+d.position().top+g.scrollTop()),b.show(),d.find("j-toolbar j-textfield").focus(),c.find("table").removeAttr("style");var h=jui2.findHighestZIndex();e.css("z-index","-Infinity"==h?100:h)}}),b.delegate("td","click",function(){var b=a(this).parents("j-table").eq(0),c=b[0].data[a(this).parent().index()][d.attr("pk")];for(var f in b[0].data)b[0].data[f][d.attr("pk")]==c&&d.val(b[0].data[f][d.attr("pk")]);e.hide(),a(this).triggerHandler("select",[d.val()]),b.find("tr").removeClass("j-active")}),b.prepend(jui2.tmpl.comboToolbar()),d.find("j-toolbar j-textfield").on("keydown",function(b){if(13==b.keyCode){var c=d.find("j-table j-loader");c.length>0&&(c[0].param.sSearch=d.find("j-toolbar j-textfield").val(),a("j-combofield j-table")[0].generateData())}});a(this).attr("value")||"";if(a(this).removeAttr("value"),jui2.keycodes.bind(a(this).children("input"),""),Object.defineProperty(this.__proto__,"value",{configurable:!0,get:function(){return a(this).attr("data-value")},set:function(b){if(""==b)a(this).removeAttr("data-value"),a(this).children("input")[0].value="",this.setAttribute("icon","fa-angle-down");else{a(this).attr("data-value",b);var c,d=a(this).find("j-table");for(c in d[0].data)if(d[0].data[c][a(this).attr("pk")]==b){var e=d[0].data[c].slice(),f=[];d.find("thead th").filter(function(){return"none"!=a(this).css("display")}).each(function(b,c){f.push(e[a(c).index()])}),a(this).children("input")[0].value=f.join(", ")}""!=a(this).children("input")[0].value.trim()&&this.setAttribute("icon","fa-remove")}}}),this.value){var f=this.value;a(this).find("> div > j-table").on("afterdraw",function(){d.val(f)}),delete this.value}delete this.value,d.triggerHandler("afterdraw")},b.getSelectedRecord=function(){var b,c=a(this).attr("data-value"),d=a(this).find("j-table");for(b in d[0].data)if(d[0].data[b][a(this).attr("pk")]==c)return d[0].data[b]},b.attributeChangedCallback=function(a,b,c){var d=["disabled","icon"];jui2.attrChange[a]&&d.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.comboField={widget:document.registerElement("j-combofield",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){var b,c=a(this),d=this;this.setAttribute("icon","fa-calendar"),jui2.ui.textField.proto.createdCallback.call(this,"Datefield"),c.attr("format")||c.attr("format","DD/MM/YYYY");var e=moment(c.val(),c.attr("format")).format("MMMM YYYY");if("Invalid date"==e&&(e=moment().format("MMMM YYYY")),c.append(jui2.tmpl.calendar({day:jui2.lang.day.en,month:e})),b=c.children("table"),b.find(".fa-chevron-left").parent().click(function(){d.prevMonth()}),b.find(".fa-chevron-right").parent().click(function(){d.nextMonth()}),c.bind("clickout",function(d){d.target!=c[0]&&a(d.target).parents("j-datefield")[0]!=c[0]&&b.hide()}),b.delegate("td","click",function(d){d.stopPropagation();var e=parseInt(this.innerHTML);0==a(this).parent().index()?a(this).nextAll().filter(function(){return parseInt(this.innerHTML)<e}).length>0&&b.find("thead tr:first-child th:nth-child(2)").text(moment(b.find("thead tr:first-child th:nth-child(2)").text(),"MMMM YYYY").subtract(1,"month").format("MMMM YYYY")):a(this).parent().index()==a(this).parent().siblings().length&&a(this).prevAll().filter(function(){return parseInt(this.innerHTML)>e}).length>0&&b.find("thead tr:first-child th:nth-child(2)").text(moment(b.find("thead tr:first-child th:nth-child(2)").text(),"MMMM YYYY").add(1,"month").format("MMMM YYYY")),c.val(moment(("00"+e).slice(-2)+" "+b.find("thead tr:first-child th:nth-child(2)").text(),"DD MMMM YYYY").format(c.attr("format"))),b.hide(),c.triggerHandler("select",[c.val()])}),c.delegate(c.children().not("table"),"click",function(d){if(a(d.target).parents("table")[0]!=b[0]&&d.target!=b[0]&&(b.toggle(),b.is(":visible"))){b.css("top",parseInt(c.css("height"))+c.offset().top).css("left",c.position().left+c.parents().filter(function(){return a(this).hasScrollBar()}).scrollLeft());var e=c.parents().filter(function(){return a(this).hasScrollBar()});e.length>0&&"HTML"!=e.eq(0).prop("tagName")&&b.css("top",parseInt(c.css("height"))+c.position().top+e.scrollTop()),b.css("top",parseInt(c.css("height"))+c.position().top+e.scrollTop());var f,g,h=jui2.findHighestZIndex(),i=[],j=[],k=0;for(b.css("z-index","-Infinity"==h?100:h),f=moment(c.val(),c.attr("format")).endOf("month").endOf("week"),("Invalid date"==f||"Invalid date"==f.format(c.attr("format")))&&(f=moment().endOf("month").endOf("week")),g=moment(c.val(),c.attr("format")).startOf("month").startOf("week"),("Invalid date"==g||"Invalid date"==g.format(c.attr("format")))&&(g=moment().startOf("month").startOf("week"));g.format("DD/MM/YYYY")!=f.format("DD/MM/YYYY");)j.push(g.format("D")),k++,g.add(1,"day"),7==k&&(k=0,i.push(j),j=[]);j.push(g.format("D")),g.add(1,"day"),j.length>0&&i.push(j),b.find("> tbody").empty().append(jui2.tmpl.calendarBody({date:i}))}}),jui2.keycodes.bind(this,""),this.value||""==this.value){if(""!=this.value.trim()){var f=this.value;a(this).val(f)}delete this.value}},b.prevMonth=function(){var b,c,d=[],e=[],f=0,g=a(this).children("table");for(b=moment(a(this).find("table tr:first-child th:nth-child(2)").text(),"MMMM YYYY").subtract(1,"month").endOf("month").endOf("week"),c=moment(a(this).find("table tr:first-child th:nth-child(2)").text(),"MMMM YYYY").subtract(1,"month").startOf("month").startOf("week");c.format("DD/MM/YYYY")!=b.format("DD/MM/YYYY");)e.push(c.format("D")),f++,c.add(1,"day"),7==f&&(f=0,d.push(e),e=[]);e.push(c.format("D")),c.add(1,"day"),e.length>0&&d.push(e),g.find("thead tr:first-child th:nth-child(2)").text(moment(a(this).find("table tr:first-child th:nth-child(2)").text(),"MMMM YYYY").subtract(1,"month").format("MMMM YYYY")),g.find("> tbody").empty().append(jui2.tmpl.calendarBody({date:d}))},b.nextMonth=function(){var b,c,d=[],e=[],f=0,g=a(this).children("table");for(b=moment(a(this).find("table tr:first-child th:nth-child(2)").text(),"MMMM YYYY").add(1,"month").endOf("month").endOf("week"),c=moment(a(this).find("table tr:first-child th:nth-child(2)").text(),"MMMM YYYY").add(1,"month").startOf("month").startOf("week");c.format("DD/MM/YYYY")!=b.format("DD/MM/YYYY");)e.push(c.format("D")),f++,c.add(1,"day"),7==f&&(f=0,d.push(e),e=[]);e.push(c.format("D")),c.add(1,"day"),e.length>0&&d.push(e),g.find("thead tr:first-child th:nth-child(2)").text(moment(a(this).find("table tr:first-child th:nth-child(2)").text(),"MMMM YYYY").add(1,"month").format("MMMM YYYY")),g.find("> tbody").empty().append(jui2.tmpl.calendarBody({date:d}))},b.attributeChangedCallback=function(a,b,c){var d=["disabled","icon"];jui2.attrChange[a]&&d.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.dateField={widget:document.registerElement("j-datefield",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.generateData=function(b){var c=a(this).parent();c.attr("disabled","disabled");var d=this.param,e=this;d.sEcho++,a.getJSON(this.getAttribute("src"),d).done(function(c){d.sEcho==c.sEcho&&(d.totalPage=Math.ceil(d.iTotalRecords/d.iDisplayLength),jui2.clearNullFromJson(c.aaData),b.data=c.aaData,e.targetGenerateData.call(b),a(b).find("> div > table > thead > tr > th").filter(function(a,b){return""===b.innerHTML}).hide().each(function(c,d){a(b).find("> div > table > tbody > tr > td:nth-child("+(parseInt(a(d).index())+1)+")").hide()}),d.iTotalRecords=c.iTotalRecords,e.afterDrawCall())}).always(function(){c.removeAttr("disabled")})},b.setParam=function(a,b){this.param[a]=b},b.createdCallback=function(){var b=this;if(this.afterDrawMethods={},this.param={sEcho:-1,iDisplayLength:b.getAttribute("size")||10,iDisplayStart:0,iSortCol_0:0,sSearch:"",sSortDir_0:""},"j-table"==this.getAttribute("type")){var c=a(this).parent();this.target=c[0],this.targetGenerateData=this.target.generateData,this.target.generateData=function(){b.generateData.call(b,this)},this.target.generateData()}},b.afterDrawCall=function(){var b=this;a.each(this.afterDrawMethods,function(a,c){c.call(b)})},b.attributeChangedCallback=function(a,b,c){var d=[];jui2.attrChange[a]&&d.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.loader={widget:document.registerElement("j-loader",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.generateData=function(){var b=a(this).children("div").children("table").children("tbody"),c=this;if(b.children("tr").remove(),this.viewData=this.data,a(this).triggerHandler("beforedraw"),b.append(jui2.tmpl.dataViewData({data:this.viewData})),this.afterDrawCombo&&"function"==typeof this.afterDrawCombo&&this.afterDrawCombo(),this.drop&&this.drop.length>0)for(i in this.drop)this.drop[i].getAttribute&&null!=this.drop[i].getAttribute("target")&&a(this).find("> div > table > tbody > tr > td:nth-child("+(parseInt(this.drop[i].getAttribute("target"))+1)+")").html(this.drop.eq(i).outerHTML());var d=a(this).find("> div > table > thead > tr > th").length;return d>0&&a(this).find("> div > table > tbody > tr > td:nth-child(n+"+(d+1)+")").remove(),a(this).find("> div > table th:empty").each(function(c,d){b.find("> tr > td:nth-child("+(parseInt(a(d).index())+1)+")").hide(),a(d).hide()}),a(this).triggerHandler("self.afterdraw"),a(this).triggerHandler("afterdraw.height"),0==this.afterdrawCheck&&1==this.firstDraw?(this.firstDraw=!1,this.afterdrawIntervalCount=0,this.afterdrawInterval=setInterval(function(){var b=jQuery._data(c,"events");void 0!=b&&b.afterdraw.length>1&&(c.afterdrawCheck=!0,a(c).triggerHandler("afterdraw"),c.getAttribute("onafterdraw")&&"function"==typeof window[c.getAttribute("onafterdraw")]&&window[c.getAttribute("onafterdraw")](),clearInterval(c.afterdrawInterval)),a.contains(document.documentElement,a(c).get(0))||clearInterval(c.afterdrawInterval)},250)):(clearInterval(this.afterdrawInterval),a(c).triggerHandler("afterdraw")),this},b.createdCallback=function(){jui2.ui.base.proto.createdCallback.call(this,jui2.ui.dataview),this.afterdrawCheck=!1,this.firstDraw=!0;var a;a=""==this.innerHTML.trim()?a||[]:a||JSON.parse(this.innerHTML.replace(/<(.|\n)*?>(.|\n)*?<\/(.|\n)*?>/gi,"")),this.data||(this.data=a),this.innerHTML=jui2.tmpl.dataView(),this.generateData();for(i in jui2.method)this[i]=jui2.method[i];var b=["disabled","width","height"];for(i in this.attributes){var c=this.attributes[i].nodeName,d=this.attributes[i].nodeValue;jui2.attrChange[c]&&b.indexOf(c)>-1&&jui2.attrChange[c](this,"",d)}Object.defineProperty(this.__proto__,"record",{configurable:!0,get:function(){return this.data},set:function(a){this.data=a,this.generateData()}})},b.attributeChangedCallback=function(a,b,c){var d=["disabled","width","height"];jui2.attrChange[a]&&d.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.dataview={widget:document.registerElement("j-dataview",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.generateData=jui2.ui.dataview.proto.generateData,b.createdCallback=function(){jui2.ui.base.proto.createdCallback.call(this,jui2.ui.table);var b,c,d=a(this),e=(this.drop=a(this).children("j-drop").detach().attr("type","j-table"),this.loader=a(this).children("j-loader").detach().attr("type","j-table")),f=this.pagination=a(this).children("j-pagination").detach(),g=this.toolbar=a(this).children('j-toolbar[position="bottom"]').detach(),h=this.toolbar=a(this).children("j-toolbar").detach();b=""==this.innerHTML.trim()?[]:JSON.parse(this.innerHTML.replace(/<(.|\n)*?>(.|\n)*?<\/(.|\n)*?>/gi,"")),this.aaData=b;var i=b.shift();this.data=a.extend(!0,[],b),d.on("afterdraw.height",function(){var b=a(this);b&&(b.attr("style")?b.attr("style").match(/height/gi)&&b.find("> .j-table-body").css(0==b.attr("style").match(/height/gi).length&&"undefined"==typeof b.attr("height")?{flex:0,"-webkit-box-flex":0,"-webkit-flex":0,display:"block"}:{flex:"","-webkit-box-flex":"","-webkit-flex":"",display:""}):void 0==b.attr("height")&&b.find("> .j-table-body").css({flex:"0","-webkit-box-flex":"0","-webkit-flex":"0",display:"block"}))}),d.on("self.afterdraw",function(){a(this).css("display","block");var b=d.find("> .j-table-body > table > thead > tr > th").filter(function(){return""===this.innerHTML}).index();d.find("> .j-table-body > table > tbody > tr > td:nth-child("+(b+1)+")").hide()}),jui2.ui.dataview.proto.createdCallback.call(this),a(this.children[0]).children().prepend(jui2.tmpl.tableHeader({columns:i}));var j=0;d.find("> div > table > thead > tr > th").filter(function(a,b){return""===b.innerHTML||" "===b.innerHTML}).hide().each(function(b,c){d.find("> div > table > tbody > tr > td:nth-child("+(parseInt(a(c).index())+1)+")").hide(),j++}),d.append(e),f&&d.append(f),h&&h.insertBefore(d.children("div")),g&&g.insertAfter(d.children("div"));for(c in jui2.method)this[c]=jui2.method[c];var k=["title"];for(c in this.attributes){var l=this.attributes[c].nodeName,m=this.attributes[c].nodeValue;jui2.attrChange[l]&&k.indexOf(l)>-1&&jui2.attrChange[l](this,"",m)}d.find("> div > table > tbody ").delegate("> tr","click",function(){a(this).addClass("j-active").siblings().removeClass("j-active")}),this.enabledAttrChange=a.unique(this.enabledAttrChange.concat(["disabled","width","height","title"]))},b.attributeChangedCallback=function(a,b,c){jui2.attrChange[a]&&this.enabledAttrChange.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.table={widget:document.registerElement("j-table",{prototype:b}),proto:b,extension:[]}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.draw=function(){var b=a(this),c=a(b.attr("target")).children(".j-table-body"),d=this.column,e=c.find("> table").clone(!0),f=0,g=0;if(b.empty().append(e),b.find("th").each(function(e,h){-1==d.indexOf(e)?(b.find("table > tbody > tr > td:nth-child("+(e-f+1)+")").remove(),b.find("table > colgroup").eq(e-f).remove(),a(h).remove(),f++):(a(h).outerWidth(c.find("thead > tr > th").eq(e).outerWidth()),g+=c.find("thead > tr > th").eq(e).outerWidth())}),c.children("table").find("td:nth-child(1)").each(function(c,d){var e=b.find("table > tbody > tr:nth-child("+(c+1)+") > td:first-child");a(d).height()-9<=9&&""==e.text().trim()&&b.find("table > tbody > tr:nth-child("+(c+1)+") > td:first-child").html("&nbsp"),e.css("height",a(d).css("height"))}),b.children("table").css("width",g),b.parent().children("j-table-pivot-top").length>0){0==b.parent().children("j-table-pivot-intersection").length&&b.parent().append("<j-table-pivot-intersection></j-table-pivot-intersection>");var h=b.parent().children("j-table-pivot-intersection");h.empty().append(b.parent().children("j-table-pivot-top").find("table").clone(!0)),h.find("tr td:nth-child(n+"+(b.parent().children("j-table-pivot-left").find("tr:first-child > td").length+1)+")").remove(),h.find("tr th:nth-child(n+"+(b.parent().children("j-table-pivot-left").find("tr:first-child > td").length+1)+")").remove(),h.find("colgroup").remove(),h.children().css("width",b.children().css("width"))}},b.createdCallback=function(){var b,c=a(this),d=a(c.attr("target")).children(".j-table-body");b=""==this.innerHTML.trim()?[]:JSON.parse(this.innerHTML),this.column=b,a(this).appendTo(d);var e=0;d.scroll(function(){var b=a(this).scrollLeft();b!=e?(c.css("z-index",jui2.findHighestZIndex()==-1/0?100:jui2.findHighestZIndex()),c.parent().children("j-table-pivot-intersection").css("z-index",jui2.findHighestZIndex()==-1/0?100:jui2.findHighestZIndex())):c.css("z-index",""),e=b,c.css("left",a(this).scrollLeft()),c.parent().children("j-table-pivot-intersection").css("left",a(this).scrollLeft()),c.css("top","-"+a(this).scrollTop())}),a(c.attr("target")).on("afterdraw",function(){a(this).find("> .j-table-body > j-table-pivot-left")[0].draw()})},b.attributeChangedCallback=function(){},jui2.ui.tablePivotLeft={widget:document.registerElement("j-table-pivot-left",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.draw=function(){var b=a(this),c=a(b.attr("target")).children(".j-table-body"),d=this.column,e=c.children("table").clone(!0),f=0;if(b.empty().append(e),b.children().css("width",c.css("width")),b.find("tbody > tr").each(function(e,g){-1==d.indexOf(e)?(b.find("table > tbody > tr:nth-child("+(e-f+1)+")").remove(),f++):a(g).children().css("height",c.find("> table > tbody > tr:nth-child("+(e-f+1)+") > td").eq(0).css("height"))}),b.children("table").css("width",c.children("table").outerWidth()),b.parent().children("j-table-pivot-left").length>0){0==b.parent().children("j-table-pivot-intersection").length&&b.parent().append("<j-table-pivot-intersection></j-table-pivot-intersection>");var g=b.parent().children("j-table-pivot-intersection");g.empty().append(b.find("table").clone(!0)),g.find("tr td:nth-child(n+"+(b.parent().children("j-table-pivot-left").find("tr:first-child > td").length+1)+")").remove(),g.find("tr th:nth-child(n+"+(b.parent().children("j-table-pivot-left").find("tr:first-child > td").length+1)+")").remove(),g.find("colgroup").remove(),g.children().css("width",b.parent().children("j-table-pivot-left").children().css("width"))}},b.createdCallback=function(){var b,c=a(this),d=a(c.attr("target")).children(".j-table-body");b=""==this.innerHTML.trim()?[]:JSON.parse(this.innerHTML),this.column=b,a(this).appendTo(d);var e=0;d.scroll(function(){var b=a(this).scrollTop();b!=e?(c.css("z-index",jui2.findHighestZIndex()==-1/0?100:jui2.findHighestZIndex()),c.parent().children("j-table-pivot-intersection").css("z-index",jui2.findHighestZIndex()==-1/0?100:jui2.findHighestZIndex())):c.css("z-index",""),e=b,c.css("left","-"+a(this).scrollLeft()),c.css("top",a(this).scrollTop()),c.parent().children("j-table-pivot-intersection").css("top",a(this).scrollTop())}),a(c.attr("target")).on("afterdraw",function(){a(this).find("> .j-table-body > j-table-pivot-top")[0].draw()})},b.attributeChangedCallback=function(){},jui2.ui.tablePivotTop={widget:document.registerElement("j-table-pivot-top",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.show=function(){var b=a(this),c=a(b.attr("target"));b.appendTo(c),c.children().not(".j-title").hide(),b.css("display","")},b.hide=function(){var b=a(this),c=a(b.attr("target"));b.hide(),c.children().not(this).show()},b.createdCallback=function(){var b=a(this);for(i in jui2.method)this[i]=jui2.method[i];var c={cancel:b.attr("cancel")||"Cancel",submit:b.attr("submit")||"Submit"};this.innerHTML=jui2.tmpl.tableForm(c),b.find(".j-table-form-cancel").click(function(){a(this).parent().parent()[0].hide()}),b.hide()},b.attributeChangedCallback=function(){},jui2.ui.tableForm={widget:document.registerElement("j-table-form",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){var b=a(this),c=a(b.attr("target")),d=b.html();this.form=d;for(i in jui2.method)this[i]=jui2.method[i];var e={cancel:b.attr("cancel")||"Cancel",submit:b.attr("submit")||"Submit"};this.form+=jui2.tmpl.tableInPlaceForm(e),a(this).hide(),b.appendTo(c),c.nodoubletapzoom(),c.on("afterdraw",function(){c.find("> .j-table-body > table > tbody > tr > "+b.attr("clicktarget")).on("dblclick doubletap",function(){var d=a(this).parent();0==d.find(".j-table-inplace-form").length&&(d.children().hide(),d.append('<td class="j-table-inplace-form" colspan="'+d.children().length+'">'+b[0].form+"</td>"),d.children(".j-table-inplace-form").find("*").not("j-toolbar").each(function(b,e){var f=a(e);f.attr("recordno")&&f.val(c[0].data[d.index()][f.attr("recordno")])}),d.find(".j-table-form-cancel").on("click",function(){var c=a(this).parent().parent();c.parent().children().show(),b.triggerHandler("cancel",[c]),c.remove()}),d.find(".j-table-form-submit").on("click",function(){var c=a(this).parent().parent();c.parent().children().show(),b.triggerHandler("submit",[c])}),d.children(".j-table-inplace-form").width(c.find("> .j-table-body > table").width()))})})},b.attributeChangedCallback=function(){},jui2.ui.tableInPlaceForm={widget:document.registerElement("j-table-inplace-form",{prototype:b}),proto:b}}(jQuery),function($){jui2.ui.tableCustom=function(self){var jCustom=$(self).find("> j-custom").detach(),tmpData=[],colgroup=[];$(self).on("beforedraw",function(){if(jCustom)if(0==$(self).find("> .j-table-body > table > colgroup").length&&jCustom.length>0&&(th=$(self).find("> .j-table-body > table > thead > tr:last-child th"),th.each(function(a,b){var c=jCustom.filter("[target='"+a+"']"),d=$(b).width();if(0==c.length){var e=jCustom.eq(a).attr("target");("undefined"==typeof e||e===!1)&&(c=jCustom.eq(a))}c.length>0&&(d=c.attr("width")),""!=b.innerHTML&&(colgroup+='<colgroup><col width="'+d+'"></col></colgroup>')}),$(self).find("> .j-table-body > table").prepend(colgroup).css("table-layout","fixed")),jCustom.length>0)for(z in self.viewData){tmpData[z]=[];for(i in self.viewData[z]){var cst=jCustom.filter("[target='"+i+"']");if(0==cst.length){var attr=jCustom.eq(i).attr("target");("undefined"==typeof attr||attr===!1)&&(cst=jCustom.eq(i))}cst.length>0&&""!=cst.html().trim()?(cst[0].fn||(cst[0].fn=eval("fn = "+cst.html().replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"))),tmpData[z][i]=cst[0].fn(self.viewData[z])):tmpData[z][i]=self.viewData[z][i]}}else tmpData=self.viewData;else tmpData=self.viewData;self.viewData=tmpData})},jui2.ui.table.extension.push(jui2.ui.tableCustom)}(jQuery),function(a){jui2.ui.tableWrap=function(b){b.enabledAttrChange.push("word-wrap"),jui2.attrChange["word-wrap"]=function(b,c,d){"true"==d?(b.tableWrap=function(){a(b).find("> .j-table-body > table > thead > tr > th").each(function(c,d){a(b).find("> .j-table-body > table > colgroup > col").eq(c).width(a(d).outerWidth())}),a(b).find("> .j-table-body > table > tbody > tr > td").css({"word-wrap":"break-word","white-space":"normal"})
},b.tableWrap(),a(b).on("self.afterdraw",b.tableWrap)):(a(b).find("> .j-table-body > table > tbody > tr > td").css({"word-wrap":"","white-space":""}),a(b).unbind("self.afterdraw",b.tableWrap))}},jui2.ui.table.extension.push(jui2.ui.tableWrap)}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){this.className+=" fa fa-plus-square-o";var b=this;"j-table"==this.getAttribute("type")&&a(this).parent().click(function(){var c=a(this).parent().next(),d=a(this).parent().find('> td > j-drop[type="j-table"].fa-minus-square-o').not(a(this).children());if(d.length>0&&(c.remove(),d.removeClass("fa-minus-square-o").addClass("fa-plus-square-o"),c=a(this).parent().next()),c.hasClass("j-drop"))c.remove(),a(b).removeClass("fa-minus-square-o").addClass("fa-plus-square-o");else{var e=a(this).parent(),f=a('<tr class="j-drop"><td colspan="'+e.children().length+'"></td></tr>').insertAfter(e);window[b.getAttribute("onclick")](f,e.parent().parent().parent().parent()[0].aaData[e.index()-e.prevAll(".j-drop").length]||e.parent().parent().parent().parent()[0].data[e.index()-e.prevAll(".j-drop").length]),a(b).removeClass("fa-plus-square-o").addClass("fa-minus-square-o")}}).css("cursor","pointer")},b.attributeChangedCallback=function(a,b,c){var d=[];jui2.attrChange[a]&&d.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.drop={widget:document.registerElement("j-drop",{prototype:b}),proto:b}}(jQuery),function(){var a=Object.create(HTMLElement.prototype);a.createdCallback=function(){jui2.ui.base.proto.createdCallback.call(this,jui2.ui.toolbar)},a.attributeChangedCallback=function(a,b,c){jui2.attrChange[a]&&this.enabledAttrChange.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.toolbar={widget:document.registerElement("j-toolbar",{prototype:a}),proto:a,extension:[]}}(jQuery),function(a){jui2.ui.toolbarScroll=function(b){b.enabledAttrChange.push("toolbarscroll"),jui2.attrChange.toolbarscroll=function(c,d,e){if("true"==e.toLowerCase()){a(b).on("DOMNodeInserted",function(){var c=a(b).find("> *:not(.toolbarscroll-left):not(.toolbarscroll-right)");c.css("margin","0px 2px"),c.first().css("margin-left","20px")}),a(c).css({position:"relative"}),a(c).scrollLeft(0),a(c).append('<j-button class="toolbarscroll-left" style="margin: 0px; left: 0px;position: absolute;top: 0px; height: 100%; border: 0px; border-right: 1px solid #d8d8d8; padding-top: 8px; width: 20px; background: inherit; text-align: center;" icon="fa-caret-left"></j-button>'),a(c).append('<j-button class="toolbarscroll-right" style="margin: 0px; right: 0px;position: absolute;top: 0px; height: 100%; border: 0px; border-left: 1px solid #d8d8d8; padding-top: 8px; width: 20px; background: inherit; text-align: center;" icon="fa-caret-right"></j-button>'),a(c).append('<div class="toolbarscroll-right-space" style="padding-right: 16px;">&nbsp</div>'),a(c).children(".toolbarscroll-left").css("left",a(c).scrollLeft()),a(c).children(".toolbarscroll-right").css("right","-"+a(c).scrollLeft().toString()+"px");var f,g,h;a(c).children(".toolbarscroll-left").bind("mousedown",function(){g=250,(h=function(){a(c).scrollLeft(a(c).scrollLeft()-20),a(c).scrollLeft()<0&&a(c).scrollLeft(0),a(c).children(".toolbarscroll-left").css("left",a(c).scrollLeft()),a(c).children(".toolbarscroll-right").css("right","-"+a(c).scrollLeft().toString()+"px"),g>0&&(g-=50),f=setTimeout(h,g)})()}),a(c).children(".toolbarscroll-right").bind("mousedown",function(){g=250,(h=function(){a(c).scrollLeft(a(c).scrollLeft()+20);var b=c.scrollWidth-a(c).width()+40;a(c).scrollLeft()>b&&a(c).scrollLeft(b),a(c).children(".toolbarscroll-left").css("left",a(c).scrollLeft()),a(c).children(".toolbarscroll-right").css("right","-"+a(c).scrollLeft().toString()+"px"),g>0&&(g-=50),f=setTimeout(h,g)})()}),a(c).on("DOMMouseScroll mousewheel",function(b){var d=0;if(b.originalEvent.wheelDelta&&(d=b.originalEvent.wheelDelta),b.originalEvent.deltaY&&(d=b.originalEvent.deltaY),b.originalEvent.detail&&(d=b.originalEvent.detail),d>0){a(c).scrollLeft(a(c).scrollLeft()+20);var e=c.scrollWidth-a(c).width()+40;a(c).scrollLeft()>e&&a(c).scrollLeft(e),a(c).children(".toolbarscroll-left").css("left",a(c).scrollLeft()),a(c).children(".toolbarscroll-right").css("right","-"+a(c).scrollLeft().toString()+"px")}else a(c).scrollLeft(a(c).scrollLeft()-20),a(c).scrollLeft()<0&&a(c).scrollLeft(0),a(c).children(".toolbarscroll-left").css("left",a(c).scrollLeft()),a(c).children(".toolbarscroll-right").css("right","-"+a(c).scrollLeft().toString()+"px");return!1}),a("body").bind("mouseup",function(){clearTimeout(f)})}else{var i=a(b).find("> *:not(.toolbarscroll-left):not(.toolbarscroll-right)");i.css("margin","0px 2px")}}},jui2.ui.toolbar.extension.push(jui2.ui.toolbarScroll)}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){this.innerHTML=jui2.tmpl.scroll();var b=a(this).parent();"j-table"==b.prop("tagName").toLowerCase()&&(a(this).children().children().outerWidth(a(this).prev().outerWidth(!0)),a(this).outerWidth(a(this).prev().outerWidth(!0)),a(this).children().outerWidth(b.width()),b.children("j-scroll").children().scroll(function(){b.scrollLeft(b.children("j-scroll").children().scrollLeft()),b.children().not("table, j-scroll").css("left",b.children("j-scroll").children().scrollLeft()),b.children("j-scroll").children().css("left",b.children("j-scroll").children().scrollLeft())}),a(this).height(b.children("j-scroll").children().height()),b.scrollLeft("0px"))},jui2.ui.scroll={widget:document.registerElement("j-scroll",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){var b=this;jui2.ui.toolbar.proto.createdCallback.call(this),this.innerHTML=jui2.tmpl.pagination();var c=null;if(c=null!=this.getAttribute("target")?a(this.getAttribute("target"))[0]:a(this).parent().children("j-loader")[0]){var d=a(b),e=((d.outerHeight(!0)+6).toString()+"px",c.param);d.children(".fa-angle-left").click(function(){e.iDisplayStart=parseInt(e.iDisplayStart),e.iDisplayLength=parseInt(e.iDisplayLength),d.parent().attr("disabled","disabled"),e.iDisplayStart-=e.iDisplayLength,e.iDisplayStart<0&&(e.iDisplayStart=0),c.target.generateData()}),d.parent().resize(function(){a(this).children("j-pagination").outerWidth(a(this).width())}),d.children(".fa-refresh").click(function(){c.target.generateData()}),d.children(".fa-angle-right").click(function(){d.parent().attr("disabled","disabled"),e.iDisplayStart=parseInt(e.iDisplayStart),e.iDisplayLength=parseInt(e.iDisplayLength),e.iTotalRecords=parseInt(e.iTotalRecords),e.iDisplayStart+=e.iDisplayLength,e.iDisplayStart>e.iTotalRecords&&(e.iDisplayStart-=e.iDisplayLength),c.target.generateData()}),d.children(".j-gotopage").on("keydown",function(b){13==b.keyCode&&(e.iDisplayLength=parseInt(e.iDisplayLength),e.iDisplayStart=a(this).val()*e.iDisplayLength-e.iDisplayLength,c.target.generateData())}),c.afterDrawMethods.pagination=function(){d.children(".j-pageof").text(" of "+Math.ceil(e.iTotalRecords/e.iDisplayLength)),d.children(".j-gotopage").val(Math.ceil(e.iDisplayStart/e.iDisplayLength)+1),d.children(".j-total").text(e.iTotalRecords+" items ")}}},b.attributeChangedCallback=function(a,b,c){var d=[];jui2.attrChange[a]&&d.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.pagination={widget:document.registerElement("j-pagination",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){a("<j-layout-no-resizer></j-layout-no-resizer>").insertAfter(this);var b=["resize"];for(i in this.attributes){var c=this.attributes[i].nodeName,d=this.attributes[i].nodeValue;jui2.attrChange[c]&&b.indexOf(c)>-1&&jui2.attrChange[c](this,"",d)}},b.attributeChangedCallback=function(a,b,c){var d=["resize"];jui2.attrChange[a]&&d.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.layoutContent={widget:document.registerElement("j-layout-content",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){a(this)},jui2.ui.layoutResizer={widget:document.registerElement("j-layout-resizer",{prototype:b}),proto:b},a(document).ready(function(){a.data(a("body")[0],"jui2.drag.el",!1),a("body").on("mousedown",function(b){var c;a(b.target).hasClass("j-drag")&&(c=!0,a.data(a("body")[0],"jui2.drag.el",a(b.target))),a(b.target).parents(".j-drag").length>0&&(c=!0,a.data(a("body")[0],"jui2.drag.el",a(b.target).parents(".j-drag").eq(0)));var d=a.data(a("body")[0],"jui2.drag.el");if(0!=d){d.addClass("j-dragging"),d.css("z-index",jui2.findHighestZIndex());var e=d.offset(),f=e.left,g=e.top;a.data(a("body")[0],"jui2.drag.el.offset",{x:f,y:g}),a.data(a("body")[0],"jui2.drag.pos",{x:0,y:0})}}),a("body").on("mousemove",function(b){var c=a.data(a("body")[0],"jui2.drag.el");if(0!=a.data(a("body")[0],"jui2.drag.el")){a("body").addClass("j-disable-select");var d=a.data(a("body")[0],"jui2.drag.el.offset"),e=b.clientX+a(document).scrollLeft(),f=b.clientY+a(document).scrollTop(),g=e>d.x?parseInt(e)-parseInt(d.x):"-"+(parseInt(d.x)-parseInt(e)),h=f>d.y?parseInt(f)-parseInt(d.y):"-"+(parseInt(d.y)-parseInt(f));a.data(a("body")[0],"jui2.drag.pos",{x:g,y:h}),"J-LAYOUT-RESIZER"==c.prop("tagName")?"J-LAYOUT-HORIZONTAL"==c.parent().prop("tagName")?(c.css("transform","translate3d( "+g+"px, 0px, 0px)"),a("body").css("cursor","w-resize")):(c.css("transform","translate3d(0px, "+h+"px,  0px)"),a("body").css("cursor","n-resize")):(c.trigger("jui2.drag",[{x:g,y:h},{x:e,y:f}]),c.css("transform","translate3d( "+g+"px, "+h+"px,  0px)"))}}),a("body").on("mouseup",function(b){var c=a.data(a("body")[0],"jui2.drag.el");if(c){var d=a.data(a("body")[0],"jui2.drag.pos"),e=b.clientX+a(document).scrollLeft(),f=b.clientY+a(document).scrollTop();if("J-LAYOUT-RESIZER"==c.prop("tagName"))if(a("body").css("cursor",""),"J-LAYOUT-HORIZONTAL"==c.parent().prop("tagName")){var g=parseInt(c.next().width());c.prev().width(parseInt(c.prev().width())+parseInt(d.x)),c.prev().css("flex-grow","0"),1!=c.next().prop("resize")&&c.next().width(g-parseInt(d.x))}else{var h=parseInt(c.next().height());c.prev().height(parseInt(c.prev().height())+parseInt(d.y)),c.prev().css("flex-grow","0"),1!=c.next().prop("resize")&&c.next().height(h-parseInt(d.y))}else c.trigger("jui2.drop",[{x:d.x,y:d.y},{x:e,y:f}]);c.css("transform",""),c.removeClass("j-dragging"),a.data(a("body")[0],"jui2.drag.el",!1),a("body").removeClass("j-disable-select"),c.css("z-index","")}})})}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){var b=a(this);this.setAttribute("icon","fa-square"),jui2.ui.textField.proto.createdCallback.call(this,"Color Picker"),b.bind("clickout",function(c){0==a(c.target).parents("j-colorPicker").length&&0==a(c.target).parents(".j-canvas-pallete").length&&b.find("canvas").parent().remove()}),b.click(function(c){if("J-BUTTON"==a(c.target).prop("tagName"))b.find("canvas").parent().remove();else if(b.find("canvas").length>0)0==a(c.target).parents(".j-canvas-pallete").length&&b.find("canvas").parent().remove();else{b.append('<div class="j-canvas-pallete"><canvas width="284" height="155"></canvas><div><div></div>Hex:<br/><input class="j-colorPallete-hex"></input><br/><br/><j-button>Pick</j-button></div></div>');var d,e,f=b.find("canvas"),g=f[0].getContext("2d"),h=function(){var a=g.getImageData(d,e,1,1);b.find(".j-colorPallete-hex").val("#"+j(a.data[0])+j(a.data[1])+j(a.data[2])),b.find(".j-canvas-pallete > div > div").css("background",b.find(".j-colorPallete-hex").val())},i=function(){var a=g.getImageData(d,e,1,1);b.find(".j-colorPallete-hex").val("#"+j(a.data[0])+j(a.data[1])+j(a.data[2])),b.find(".j-canvas-pallete > div > div").css("background",b.find(".j-colorPallete-hex").val()),b.find(".j-colorPallete-hex").attr("hex",b.find(".j-colorPallete-hex").val())},j=function(a){var b=a.toString(16);return 1==b.length?"0"+b:b},k=g.createLinearGradient(0,0,f.width(),0);k.addColorStop(0,"rgb(255,   0,   0)"),k.addColorStop(.15,"rgb(255,   0, 255)"),k.addColorStop(.33,"rgb(0,     0, 255)"),k.addColorStop(.49,"rgb(0,   255, 255)"),k.addColorStop(.67,"rgb(0,   255,   0)"),k.addColorStop(.84,"rgb(255, 255,   0)"),k.addColorStop(1,"rgb(255,   0,   0)"),g.fillStyle=k,g.fillRect(0,0,g.canvas.width,g.canvas.height),k=g.createLinearGradient(0,0,0,f.height()),k.addColorStop(0,"rgba(255, 255, 255, 1)"),k.addColorStop(.5,"rgba(255, 255, 255, 0)"),k.addColorStop(.5,"rgba(0,     0,   0, 0)"),k.addColorStop(1,"rgba(0,     0,   0, 1)"),g.fillStyle=k,g.fillRect(0,0,g.canvas.width,g.canvas.height);var l=jui2.findHighestZIndex();f.parent().css("z-index","-Infinity"==l?100:l),b.find(".j-colorPallete-hex").val("#ffffff"),b.find(".j-colorPallete-hex").attr("hex","#ffffff"),b.find("j-button").click(function(){b.val(b.find(".j-colorPallete-hex").attr("hex")),b.find("i").css("color",b.find(".j-colorPallete-hex").attr("hex")),b.find("canvas").parent().remove()}),f.mousemove(function(a){d=a.pageX-f.offset().left,e=a.pageY-f.offset().top,h(a)}),f.mouseout(function(){b.find(".j-canvas-pallete > div > div").css("background",b.find(".j-colorPallete-hex").attr("hex")),b.find(".j-colorPallete-hex").val(b.find(".j-colorPallete-hex").attr("hex"))}),f.click(function(a){d=a.pageX-f.offset().left,e=a.pageY-f.offset().top,i(a)})}})},b.attributeChangedCallback=function(a,b,c){var d=["disabled","icon"];jui2.attrChange[a]&&d.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.colorPicker={widget:document.registerElement("j-colorPicker",{prototype:b}),proto:b}}(jQuery),function(a){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(b,c){this.iconPosition="beforeend";var b=b||"";""==this.innerHTML.trim()&&(this.innerHTML=b),this.innerHTML=jui2.tmpl.textArea({label:this.innerHTML}),this.children[0].addEventListener("click",function(){a(this).next().focus()});for(i in jui2.method)this[i]=jui2.method[i];if(Object.defineProperty(this.__proto__,"value",{configurable:!0,get:function(){return a(this).children("textarea")[0]?a(this).children("textarea")[0].value:""},set:function(b){a(this).children("textarea")[0]&&(a(this).children("textarea")[0].value=b)}}),this.value){var d=this.value;delete this.value,a(this).val(d)}else delete this.value},b.attributeChangedCallback=function(a,b,c){var d=["disabled"];jui2.attrChange[a]&&d.indexOf(a)>-1&&jui2.attrChange[a](this,b,c)},jui2.ui.textArea={widget:document.registerElement("j-textarea",{prototype:b}),proto:b}}(jQuery);
//# sourceMappingURL=jui2.min.map