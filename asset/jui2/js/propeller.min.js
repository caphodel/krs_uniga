!function(a){var b="propeller",c={angle:0,speed:0,inertia:0,minimalInertia:.001,minimalAngleChange:.1,step:0,stepTransitionTime:0,stepTransitionEasing:"linear"},d=function(a,b){return"string"==typeof a&&(a=document.querySelectorAll(a)),"array"==typeof a?d.createMany(a,b):(this.element=a,this.active=!1,this.transiting=!1,this.update=this.update.bind(this),this.initOptions(b),this.initHardwareAcceleration(),this.initTransition(),this.addListeners(),void this.update())};d.createMany=function(a,b){for(var c=[],e=0;e<a.length;e++)c.push(new d(a[e],b));return c};var e=d.prototype;e.addListeners=function(){"ontouchstart"in document.documentElement?(this.element.addEventListener("touchstart",this.onRotationStart.bind(this)),this.element.addEventListener("touchmove",this.onRotated.bind(this)),this.element.addEventListener("touchend",this.onRotationStop.bind(this)),this.element.addEventListener("touchcancel",this.onRotationStop.bind(this)),this.element.addEventListener("dragstart",this.returnFalse)):(this.element.addEventListener("mousedown",this.onRotationStart.bind(this)),this.element.addEventListener("mousemove",this.onRotated.bind(this)),this.element.addEventListener("mouseup",this.onRotationStop.bind(this)),this.element.addEventListener("mouseleave",this.onRotationStop.bind(this)),this.element.addEventListener("dragstart",this.returnFalse)),this.element.ondragstart=this.returnFalse},e.onRotationStart=function(){this.initCoordinates(),this.initDrag(),this.active=!0},e.onRotationStop=function(){this.active=!1},e.onRotated=function(a){this.active===!0&&(a.stopPropagation(),a.preventDefault(),this.lastMouseEvent=void 0!==a.touches&&void 0!==a.touches[0]?{pageX:a.touches[0].pageX,pageY:a.touches[0].pageY}:{pageX:a.pageX,pageY:a.pageY})},e.update=function(){void 0!==this.lastMouseEvent&&this.active===!0&&this.updateAngleToMouse(this.lastMouseEvent),this.updateAngle(),this.applySpeed(),this.applyInertia(),this.updateCSSRotate(),window.requestAnimFrame(this.update)},e.updateCSSRotate=function(){if(Math.abs(this.lastAppliedAngle-this.angle)>=this.minimalAngleChange&&this.transiting===!1){this.element.style[d.cssPrefix+"transform"]="rotate("+this.angle+"deg) "+this.accelerationPostfix;{this.angle*Math.PI/180}this.lastAppliedAngle=this.angle,this.blockTransition(),void 0!==this.onRotate&&"function"==typeof this.onRotate&&this.onRotate.bind(this)()}},e.updateAngle=function(){this.angle=this.step>0?this.getAngleFromVirtual():this.virtualAngle},e.getAngleFromVirtual=function(){return Math.ceil(this.virtualAngle/this.step)*this.step},e.differenceBetweenAngles=function(a,b){var c=a*(Math.PI/180),d=b*(Math.PI/180),e=Math.atan2(Math.sin(c-d),Math.cos(c-d)),f=e*(180/Math.PI);return Math.round(100*f)/100},e.applySpeed=function(){this.inertia>0&&0!==this.speed&&this.active===!1&&(this.virtualAngle+=this.speed)},e.applyInertia=function(){this.inertia>0&&(this.speed=Math.abs(this.speed)>this.minimalInertia?this.speed*this.inertia:0)},e.updateAngleToMouse=function(a){var b=a.pageX-this.cx,d=a.pageY-this.cy,e=Math.atan2(b,d),f=e*(180/Math.PI)*-1+180;if(void 0===this.lastMouseAngle&&(this.lastElementAngle=this.virtualAngle,this.lastMouseAngle=f),this.stepTransitionTime!==c.stepTransitionTime)this.speed=this.mouseDiff=this.differenceBetweenAngles(f,this.lastMouseAngle),this.virtualAngle=this.lastElementAngle+this.mouseDiff,this.lastElementAngle=this.virtualAngle,this.lastMouseAngle=f;else{var g=this.virtualAngle;this.mouseDiff=f-this.lastMouseAngle,this.virtualAngle=this.lastElementAngle+this.mouseDiff;var h=this.virtualAngle;this.speed=this.differenceBetweenAngles(h,g)}},e.initCoordinates=function(){var a=this.getViewOffset();this.cx=a.x+this.element.offsetWidth/2,this.cy=a.y+this.element.offsetHeight/2},e.initDrag=function(){this.speed=0,this.lastMouseAngle=void 0,this.lastElementAngle=void 0,this.lastMouseEvent=void 0},e.initOptions=function(a){a=a||c,this.onRotate=a.onRotate||a.onrotate,this.step=a.step||c.step,this.stepTransitionTime=a.stepTransitionTime||c.stepTransitionTime,this.stepTransitionEasing=a.stepTransitionEasing||c.stepTransitionEasing,this.speed=a.speed||c.speed,this.inertia=a.inertia||c.inertia,this.minimalInertia=a.minimalInertia||c.minimalInertia,this.lastAppliedAngle=this.virtualAngle=this.angle=a.angle||c.angle,this.minimalAngleChange=this.step!==c.step?this.step:c.minimalAngleChange},e.initHardwareAcceleration=function(){this.accelerationPostfix="";var a,b=document.createElement("p"),c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(b,null);for(var e in c)void 0!==b.style[e]&&(b.style[e]="translate3d(1px,1px,1px)",a=window.getComputedStyle(b).getPropertyValue(c[e]));document.body.removeChild(b);var f=void 0!==a&&a.length>0&&"none"!==a;f===!0&&(this.accelerationPostfix="translateZ(0)",this.element.style[d.cssPrefix+"transform"]=this.accelerationPostfix)},e.initTransition=function(){if(this.stepTransitionTime!==c.stepTransitionTime){var a="all "+this.stepTransitionTime+"ms "+this.stepTransitionEasing;this.element.style[d.cssPrefix+"transition"]=a}},e.blockTransition=function(){if(this.stepTransitionTime!==c.stepTransitionTime){var a=this;setTimeout(function(){a.transiting=!1},this.stepTransitionTime),this.transiting=!0}},e.getViewOffset=function(){var a={x:0,y:0};return this.element&&this.addOffset(this.element,a,this.element.ownerDocument.defaultView),a},e.addOffset=function(a,b,c){var d=a.offsetParent;if(b.x+=a.offsetLeft-(d?d.scrollLeft:0),b.y+=a.offsetTop-(d?d.scrollTop:0),d){if(1==d.nodeType){var e=c.getComputedStyle(d,"");if("static"!=e.position){if(b.x+=parseInt(e.borderLeftWidth),b.y+=parseInt(e.borderTopWidth),"TABLE"==d.localName)b.x+=parseInt(e.paddingLeft),b.y+=parseInt(e.paddingTop);else if("BODY"==d.localName){var f=c.getComputedStyle(a,"");b.x+=parseInt(f.marginLeft),b.y+=parseInt(f.marginTop)}}else"BODY"==d.localName&&(b.x+=parseInt(e.borderLeftWidth),b.y+=parseInt(e.borderTopWidth));for(var g=a.parentNode;d!=g;)b.x-=g.scrollLeft,b.y-=g.scrollTop,g=g.parentNode;this.addOffset(d,b,c)}}else{if("BODY"==a.localName){var f=c.getComputedStyle(a,"");b.x+=parseInt(f.borderLeftWidth),b.y+=parseInt(f.borderTopWidth);var h=c.getComputedStyle(a.parentNode,"");b.x-=parseInt(h.paddingLeft),b.y-=parseInt(h.paddingTop)}a.scrollLeft&&(b.x+=a.scrollLeft),a.scrollTop&&(b.y+=a.scrollTop);var i=a.ownerDocument.defaultView;i&&i.frameElement&&this.addOffset(i.frameElement,b,i)}},e.returnFalse=function(){return!1},void 0!==a.$&&($.propeller={},$.propeller.propellers=[],$.fn[b]=function(a){return this.each(function(){if(!$.data(this,"plugin_"+b)){var c=new d(this,a);$.data(this,"plugin_"+b,c),$.propeller.propellers.push(c)}})}),"undefined"!=typeof document.body.style.transform?d.cssPrefix="":"undefined"!=typeof document.body.style.mozTransform?d.cssPrefix="-moz-":"undefined"!=typeof document.body.style.webkitTransform?d.cssPrefix="-webkit-":"undefined"!=typeof document.body.style.msTransform&&(d.cssPrefix="-ms-"),a.Propeller=d}(window),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e});