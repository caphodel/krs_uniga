/*! jui2 24-11-2015 Copyright Deddy Lasmono Putro */

var jui2;!function(a){var b,c=function(b){var c,d=a(b);for(c=0;c<d.length;c++)this[c]=d[c].hasAttribute("role")?d[c].jui2:d[c];return this.length=d.length,this};jui2=function(a){return new c(a)},jui2.fn=c.prototype={},b=function(a,b){var c,d,e="",f="";for(c={a:"abcdefghijklmnopqrstuvwxyz",A:"ABCDEFGHIJKLMNOPQRSTUVWXYZ","#":"0123456789","!":"~`!@#$%^&*()_+-={}[]:\";'<>?,./|\\"},d=b.length;d--;)f+=c[b[d]];for(d=a;d>0;--d)e+=f[Math.round(Math.random()*(f.length-1))];return e},jui2.random=b,jui2.lang={},jui2.findHighestZIndex=function(){return Math.max.apply(null,a.map(a("body > *"),function(b){return"absolute"==a(b).css("position")?parseInt(a(b).css("z-index"))||1:void 0}))},jui2.arrayToJson=function(a){var b=[];for(c in a){var c=c;b[c]={};for(z in a[c])b[c][z]=a[c][z]}return b},jui2.cleanWordPaste=function(a){return newString=a.replace(/<!--[\s\S]*?-->/g,"")},a.fn.jui2Serialize=function(){value={},this.find("[role=textField],[role=timeField],[role=uploadField],[role=textArea],[role=dateField],[role=comboField],[role=datePicker],[role=passwordField],[role=radioField]").each(function(){var b=a(this),c=b.attr("role"),d=b.attr("name")||b.attr("id"),e="";"textArea"==c&&(e=a(b.find("iframe")[0].contentWindow.document.body).html().trim()),value[d]="textArea"==c&&"<br>"!=e&&""!=jui2.escapeHtmlEntities(e.replace("&#x2010;","-").replace("&#x2013;","-").replace("&#x9;","").replace(/&nbsp;/g," ").replace(/\s\s+/g," ").replace(/(^<br>|<br>$)/g,""))&&jui2.escapeHtmlEntities(jui2.cleanWordPaste(e).replace("&#x2010;","-").replace("&#x2013;","-").replace("&#x9;","").replace(/&nbsp;/g," ").replace(/\s\s+/g," ").replace(/(^<br>|<br>$)/g,""))||"comboField"==c&&b.find("input[type=hidden]").val()||"radioField"==c&&b.find("input:checked").val()||"timeField"==c&&b.find("input").eq(0).val()+":"+b.find("input").eq(1).val()||b.find("input").val(),"textArea"==c&&"<br>"==value[d]&&(value[d]=""),"textArea"==c&&value[d]&&(value[d]=jui2.escapeHtmlEntities(he.encode(value[d],{allowUnsafeSymbols:!1}).replace("&#x2010;","-").replace("&#x2013;","-").replace("&#x9;","").replace(/&nbsp;/g," ").replace(/\s\s+/g," ")))});return this.find("j-datefield, j-combofield").each(function(b,c){var d=a(c),e=d.attr("name")||d.attr("id");value[e]=d.val()}),value=a.extend(value,a(this).getValues())},a.jui2Reset=function(b){a.each(jui2(b+" [role=textField],"+b+" [role=textArea],"+b+" [role=dateField],"+b+" [role=comboField],"+b+" [role=datePicker],"+b+" [role=passwordField],"+b+" [role=radioField]"),function(a,b){b&&b.reset&&b.reset()})},jui2.define=function(b,c){var d=a(c),e=d.attr("id");window[e]={},a.each(new b,function(a,b){window[e][a]=b}),d.on("remove",function(){window[e]=null})},jui2.iterateJson=function(a,b){for(var c in a)b(a[c]),"object"==typeof a[c]&&jui2.iterateJson(a[c],b)},jui2.clearNullFromJson=function(a){jui2.iterateJson(a,function(a){if("object"==typeof a)for(var b in a)a[b]||0!=a[b]&&(a[b]="")})},jui2.template=function(a,b){for(var c=!0,d=/{{(.*?)}}/gi;c;)c=d.exec(a),a=a.replace(c[0],b[c[1]]);return a},jui2.makeSure=function(a){return confirm(a)},jui2.extend=function(a,b,c){c=c||[];for(i in a.fn)-1==c.indexOf(i)&&(b.fn[i]=a.fn[i])},jui2.mask=function(b){var c=a(b);if(0==c.children(".j-mask").length){var d=a('<div class="j-mask"></div>').appendTo(b);d.width(c.outerWidth(!1)).height(c.outerHeight(!1)).offset(c.offset()),c.on("remove",function(){d.remove()}),d.each(function(b,c){var d=a(c).parent().offset(),e=a(c),f=e.parent();f[0].jui2mask=e,e.appendTo("body").offset(d),a("body").click(function(){e.offset(f.offset())}),a(".j-body").resize(function(){e.offset(f.offset())})})}},jui2.mask2=function(b){if(0==a(b).children(".jn-mask").length){var c=a('<div class="jn-mask" style="background: none repeat scroll 0 0 rgba(255, 255, 255, 0.8) !important; color: red; position: absolute; top: 0; bottom: 0px; right: 0px; left: 0px;"></div>').appendTo(b);a(b)[0].jui2mask=c}},jui2.unmask=function(b){a(b)[0].jui2mask&&a(b)[0].jui2mask.remove()},jui2.pin=function(b){var b=a.extend(!0,{element:"",target:"body",attachment:"top left",targetAttachment:"bottom left"},b),c=this;return c.attachment={left:"left",top:"top"},c.targetAttachment={left:"bottom",top:"top"},c.opt=b,c.element=a(b.element).css("position","absolute"),c.target=a(b.target),c.position=function(){c.top=c.target.offset().top,c.left=c.target.offset().left;var a=b.attachment,d=b.targetAttachment,e=c.element,f=c.target;-1!=a.search(/bottom/i)&&(c.top-=e.outerHeight(!1)),-1!=a.search(/right/i)&&(c.left-=e.outerWidth(!1)),-1!=a.search(/horizontalcenter/i)&&(c.left-=e.outerWidth(!1)/2),-1!=a.search(/verticalcenter/i)&&(c.top-=e.outerHeight(!1)/2),-1!=d.search(/bottom/i)&&(c.top+=f.outerHeight(!1)),-1!=d.search(/right/i)&&(c.left+=f.outerWidth(!1)),-1!=d.search(/horizontalcenter/i)&&(c.left+=f.outerWidth(!1)/2),-1!=d.search(/verticalcenter/i)&&(c.top+=f.outerHeight(!1)/2),c.left<0&&(c.left=0),c.top<0&&(c.top=0),c.element.offset({top:c.top,left:c.left})},c.setOptions=function(b){c.opt=a.extend(!0,c.opt,b)},c.position(),c},jui2.util={},jui2.modul={},jui2.ui=function(a,b){return jui2.modul[a](b)},jui2.notification=function(b,c,d){var d=d||!1;if("Notification"in window)if("granted"===Notification.permission)if(d)a.get(c,function(a){new Notification(b,{body:a})});else{new Notification(b,{body:c})}else"denied"!==Notification.permission&&Notification.requestPermission(function(e){if("permission"in Notification||(Notification.permission=e),"granted"===e)if(d)a.get(c,function(a){new Notification(b,{body:a})});else{new Notification(b,{body:c})}});else;},jui2.mouse={},jui2.arrayToExcel=function(b){var c="";a.each(b,function(a,b){c+="<tr><td>"+b.join("</td><td>")+"</td></tr>"}),window.open("data:application/vnd.ms-excel,"+encodeURIComponent('<table style="border-bottom:1px solid black; font-size:10px;"><style>.num{mso-number-format:"@";}</style>'+c+"</table>"))},jui2.isInView=function(b){var c=a(window).scrollTop(),d=c+a(window).height(),e=a(b).offset().top,f=e+a(b).height();return d>=f&&e>=c},jui2.help=!0,jui2.data={followHead:!1,followHeadShow:!1},jui2.escapeHtmlEntities=function(a){return a.replace(/[\u00A0-\u2666<>\&]/g,function(a){return a.charCodeAt(0)>=160?"&#"+a.charCodeAt(0)+";":a})},jui2.class={}}(jQuery),$(document).ready(function(){$(document).click(function(a){jui2.oms.sendToClients(a,"body")}),$(document).bind("mousemove",function(a){jui2.mouse.offset={x:a.clientX||a.pageX,y:a.clientY||a.pageY}}),$(document).bind("mousedown",function(a){switch(a=a||window.event,a.which){case 1:0==$(a.target).parents(".j-right-menu").length&&$(".j-right-menu").hide();break;case 2:$(".j-right-menu").hide()}}),window.onerror=function(a,b,c){$.each(jui2("[role=overlay]"),function(a,b){b.destroy()}),jui2.onerror&&jui2.onerror(a,b,c)}}),function(a){a.fn.hasScrollBar=function(){return this.get(0).scrollHeight>this.height()},a.fn.hasScrollBarHor=function(){return this.get(0).scrollWidth>this.width()},jQuery.fn.center=function(){var b=a(this),c=b.parent(),d=this;return d.css("position","absolute").css("top",Math.max(0,(c.height()-b.outerHeight(!0))/2+c.scrollTop())+"px").css("left",Math.max(0,(c.width()-b.outerWidth(!0))/2+c.scrollLeft())+"px"),d}}(jQuery),function(){jui2.lang.monthPicker={en:{jan:{"short":"Jan","long":"January"},feb:{"short":"Feb","long":"February"},mar:{"short":"Mar","long":"March"},apr:{"short":"Apr","long":"April"},may:{"short":"May","long":"May"},jun:{"short":"Jun","long":"June"},jul:{"short":"Jul","long":"July"},aug:{"short":"Aug","long":"August"},sep:{"short":"Sep","long":"September"},oct:{"short":"Oct","long":"October"},nov:{"short":"Nov","long":"November"},dec:{"short":"Dec","long":"December"}}}}(jQuery),function(a){jui2.oms={server:{},append:function(a,b,c){this.server[c]||jui2.oms.createServer(function(){},"body"),this.server[c].client[a]||(this.server[c].client[a]=b)},remove:function(a,b){this.server[b]&&delete this.server[b].client[a]},createServer:function(a,b){this.server[b]={fn:a,client:{}}},removeServer:function(a){delete this.server[a]},sendToClients:function(b,c){this.server[c]&&a.each(this.server[c].client,function(a,c){c(b)})},sendToClient:function(a,b){this.server[server].clients[b](a)},sendToServer:function(a,b){this.server[b].fn(a)}}}(jQuery),function(a){component=function(){},jui2.component=function(a){return new component(a)},jui2.component.fn=component.prototype,jui2.component.fn.disable=function(){return this.defaults.disabled||jui2.mask(this[0]),this.defaults.disabled=!0,this},jui2.component.fn.enable=function(){return jui2.unmask(this[0]),this.defaults.disabled=!1,this},jui2.component.fn.destroy=function(){a(this[0].id+"-help").length>0&&a(this[0].id+"-help").remove(),a(this[0]).remove(),this[0]=null},jui2.component.fn.click=function(a){return a?this.defaults.event.click=a:this.ev.click&&this.ev.click(),this}}(jQuery),function($){jui2.nextChar=function(a){return String.fromCharCode(a.charCodeAt(0)+1)},jui2.keycodes={backspace:8,tab:9,enter:13,enter:16,ctrl:17,alt:18,"pause/break":19,capslock:20,esc:27,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,printscreen:44,insert:45,ins:45,"delete":46,del:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,".":190,"-":173},jui2.keycodes.bind=function(el,keycodes){keycodes=keycodes.replace(/\s+/g,""),keycodes='["'+keycodes.replace(/,/g,'","').replace(/\"\[/g,'["').replace(/(\]\")/g,'"]')+'"]',keycodes=keycodes.replace(/(\]\")/g,'"]'),keycodes=eval(keycodes);var tmp=[];$.each(keycodes,function(a,b){if("object"==typeof b)if(isNaN(b[0])){for(var c=b[0].lowerCase(),d=b[1].lowerCase();c!=d;)tmp.push(jui2.keycodes[c]),c=jui2.nextChar(c);tmp.push(jui2.keycodes[c])}else for(var e=parseInt(b[0]);e<=parseInt(b[1]);e++)tmp.push(jui2.keycodes[e]);else tmp.push(jui2.keycodes[b])}),$(el).keydown(function(a){$.inArray(a.keyCode,tmp)>=0||a.preventDefault()})}}(jQuery),function(a){jui2.event={click:function(b,c,d){a(c).click(function(a){a.preventDefault,"function"==typeof b.defaults.event.click&&0==c.children(".jn-mask").length&&(d?b.defaults.event.click(a,d):b.defaults.event.click(a))}),b.onclick=function(a){this.defaults.event.click=a}},mouseenter:function(b,c,d){a(c).mouseenter(function(a){a.preventDefault,"function"==typeof b.defaults.event.mouseenter&&(b.defaults.disabled||(d?b.defaults.event.mouseenter(a,d):b.defaults.event.mouseenter(a)))}),b.onmouseenter=function(a){this.defaults.event.mouseenter=a}},mouseleave:function(b,c,d){a(c).mouseleave(function(a){a.preventDefault,"function"==typeof b.defaults.event.mouseleave&&(b.defaults.disabled||(d?b.defaults.event.mouseleave(a,d):b.defaults.event.mouseleave(a)))}),b.onmouseleave=function(a){this.defaults.event.mouseleave=a}}}}(jQuery),function(a){jui2.class.widget=P(function(b){b.events={},b.init=function(b){var b=this.defaults=a.extend({},{id:"j-"+jui2.random(8,"aA#"),template:"",target:!1,parent:!1,event:{}},b);if(this.events=b.events||{},b.target=a(b.target?"string"==typeof b.target?"#"+b.target:b.target:"#"+b.id),b.target.hasClass("j-widget"))return b.target[0].jui2;var c=this.prepared=this.prepare(b);return c=this.render(c),c[0].jui2=this,this[0]=c[0],this.length=1,this},b.prepare=function(b){return a(jui2.tmpl[this.defaults.template](b))},b.render=function(b){var c=this.defaults;return target=c.target,c.parent&&a(c.parent).append(b)||0 in target&&target.replaceWith(b)||a("body").append(b),this.event(b)},b.event=function(b){return a.each(this.events,function(a,c){"afterdraw"!=a&&(b=c(b))}),b},b.afterDraw=function(){this.events.afterdraw&&this.events.afterdraw(this.prepared)},b.afterRender=function(){this.events.afterrender&&this.events.afterrender(this.prepared)},b.disable=function(){return 0==a(this[0]).children(".jn-mask").length&&a(this[0]).append('<div class="jn-mask"></div>'),this},b.enable=function(){return a(this[0]).children(".jn-mask").remove(),this},b.destroy=function(){a(this[0]).remove()},b.on=function(a,b){this["on"+a.toLowerCase()](b)}})}(jQuery),function(){jui2.util.parseString=function(a,b,c){return b=b||!1,c=c||!0,content_data=b?a.html().trim():a.text().trim(),c&&(content_data=decodeURIComponent(escape(content_data))),content_data}}(jQuery),function(a){jui2.util.export||(jui2.util.export={}),jui2.util.export.csv=function(b,c,d,e){var f="";d=d||[],e=e||[],a(b).find("thead").find("tr").each(function(){f+="\n",a(this).filter(":visible").children().each(function(b){"none"!=a(this).css("display")&&-1==e.indexOf(b)&&-1==d.indexOf(b)&&(f+='"'+jui2.util.parseString(a(this))+'",')}),f=a.trim(f),f=a.trim(f).substring(0,f.length-1)}),a(b).find("tbody").find("tr").each(function(){f+="\n",a(this).filter(":visible").children().each(function(b){"none"!=a(this).css("display")&&-1==e.indexOf(b)&&-1==d.indexOf(b)&&(f+='"'+jui2.util.parseString(a(this))+'",')}),f=a.trim(f).substring(0,f.length-1)});var g="base64,"+a.base64.encode(f),h=a('<a target="_blank"></a>').attr("href","data:application/csv;filename="+c+".csv;"+g).attr("download",c+".csv").appendTo("body");h[0].click(),h.remove()}}(jQuery),function(a){jui2.util.export||(jui2.util.export={}),jui2.util.export.office=function(b,c,d){d=d||"excel";var e=b,f="<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:x='urn:schemas-microsoft-com:office:"+d+"' xmlns='http://www.w3.org/TR/REC-html40'>";f+="<head>",f+="<!--[if gte mso 9]>",f+="<xml>",f+="<x:ExcelWorkbook>",f+="<x:ExcelWorksheets>",f+="<x:ExcelWorksheet>",f+="<x:Name>",f+="{worksheet}",f+="</x:Name>",f+="<x:WorksheetOptions>",f+="<x:DisplayGridlines/>",f+="</x:WorksheetOptions>",f+="</x:ExcelWorksheet>",f+="</x:ExcelWorksheets>",f+="</x:ExcelWorkbook>",f+="</xml>",f+="<![endif]-->",f+="</head>",f+="<body>",f+=e,f+="</body>",f+="</html>";var g="base64,"+a.base64.encode(f),h="xls";switch(d){case"doc":h="doc";break;case"powerpoint":h="ppt"}var i=a('<a target="_blank"></a>').attr("href","data:application/vnd.ms-"+d+";filename="+c+"."+h+g).attr("download",c+"."+h).appendTo("body");i[0].click(),i.remove()},jui2.util.export.fromJTableToOffice=function(b,c,d,e){d=d||"excel",e=e||[];var f="<table border='1px'>";a(b).find(".j-table-head thead").find("tr").each(function(){f+="<tr>",a(this).filter(":visible").children().each(function(b){"none"!=a(this).css("display")&&-1==e.indexOf(b)&&(f+="<td style='background: #F1F1F1;'>"+jui2.util.parseString(a(this),!0,!0)+"</td>")}),f+="</tr>"});var g=1;a(b).find(".j-table-body tbody").find("tr").each(function(){f+="<tr>";var b=0;a(this).filter(":visible").children().each(function(c){"none"!=a(this).css("display")&&-1==e.indexOf(c)&&(f+="<td>"+jui2.util.parseString(a(this),!0,!0)+"</td>"),b++}),g++,f+="</tr>"}),f+="</table>",jui2.util.export.office(f,c,d)}}(jQuery),function(a){var b=function(b){var c={id:"j-no-id"},d=this;a.extend(!0,c,b);var e=a(c.target?"string"==typeof c.target?"#"+c.target:c.target:"#"+c.id);if(e.hasClass("j-body"))return e[0].jui2;b=b||{};var c={id:"j-"+jui2.random(8,"aA#"),disabled:!1,items:[],event:{}};a.extend(!0,c,b);var f=a(jui2.tmpl.tmpl_accordion(c));return 0 in e&&e.replaceWith(f)||c.parent&&a(c.parent).append(f)||a("body").append(f),f.children().click(function(b){c.event.click&&c.event.click(this,a(this).index(),b)}),d[0]=f,d.length=1,d},c=jui2.accordion=function(a){return new b(a)};c.fn=b.prototype,c.fn.disable=function(){var a=this[0];a.hasClass("j-disabled")||(a.addClass("j-disabled"),a.data().events&&(a.data().events._click=a.data().events.click,a.data().events.click=null))},c.fn.enable=function(){var a=this[0];a.hasClass("j-disabled")&&(a.removeClass("j-disabled"),a.data().events&&(a.data().events.click=a.data().events._click,a.data().events._click=null))}}(jQuery),function(a){jui2.bar=jui2.class.bar=P(jui2.class.widget,function(b,c){b.init=function(b,d){return b=a.extend({},this.defaults,{template:"tmpl_bar",disabled:!1,items:[]},b),b.events={afterrender:function(b){var c=b.children(".j-bar-next-item"),e=b.children(".j-bar-prev-item");return c.click(function(){b.scrollLeft(b.scrollLeft()+100),b[0].scrollWidth==b.scrollLeft()+b.outerWidth()&&(c.css("position","relative"),b.scrollLeft(b.scrollLeft()+100))}),e.click(function(){b.scrollLeft(b.scrollLeft()-100),c.css("position","absolute")}),b[0].scrollWidth>b.outerWidth()?(c.appendTo(b).show(),e.prependTo(b).show(),b.css({"padding-right":29,"padding-left":29})):(c.hide(),e.hide(),b.css({"padding-right":5,"padding-left":5})),a(window).on("resize",function(){b[0].scrollWidth>b.outerWidth()?(c.appendTo(b).show(),e.prependTo(b).show(),c.css("position","absolute"),b.css({"padding-right":29,"padding-left":29})):(c.hide(),e.hide(),b.css({"padding-right":5,"padding-left":5}))}),d&&d.afterrender&&d.afterrender(b),b},afterdraw:function(a,b){return d&&d.afterdraw&&d.afterdraw(a,b),a}},c.init.call(this,b)},b.render=function(b){for(var d=this.defaults.items,e=0;e<d.length;e++){var f=d[e];"-"==f?jui2.spacer({parent:b}):f.role?"string"==typeof f?b.append(f):(f.parent=b,"function"==typeof jui2.class[f.role]?jui2.class[f.role](f):jui2[f.role](f)):(f.label=f.text,f.parent=b,jui2.text(f))}return"tab"==this.defaults.type&&(b.addClass("j-tab"),b.click(function(b){-1!=b.target.className.search("j-button")&&a(b.target).addClass("j-active").siblings().removeClass("j-active")})),c.render.call(this,b)}})}(jQuery),function(a){jui2.button=jui2.class.button=P(jui2.class.widget,function(b,c){b.init=function(b){var d=this;return b=a.extend({},this.defaults,{template:"tmpl_button",icon:"",label:"",disabled:!1,color:"normal",formBind:!1,event:{}},b),b.events={click:function(a){return jui2.event.click(d,a,{widget:d}),a},mouseenter:function(a){return jui2.event.mouseenter(d,a,{widget:d}),a},mouseleave:function(a){return jui2.event.mouseleave(d,a,{widget:d}),a}},c.init.call(this,b)},b.setLabel=function(b){a(this[0]).children("span").text(b)},b.setBadges=function(b){a(this[0]).children(".j-badges").remove(),a(this[0]).append('<div class="j-badges">'+b+"</div>")}})}(jQuery),function(a){var b=function(b){var c={id:"j-no-id"},d=this,e="DD-MM-YYYY";a.extend(!0,c,b);var f=a(c.target?"string"==typeof c.target?"#"+c.target:c.target:"#"+c.id);if(f.hasClass("j-body"))return f[0].jui2;b=b||{};var c={id:"j-"+jui2.random(8,"aA#"),disabled:!1,event:{},type:"calendar",lang:"en",date:moment().format(e)};a.extend(!0,c,b),"Invalid date"==moment(c.date,e).format()&&(c.date=moment().format(e)),c.datesOfMonth=jui2.tmpl.tmpl_calendarDate({weeks:d.getDatesOfMonth(moment(c.date,"DD-MM-YYYY").startOf("month").diff(moment().startOf("month"),"month"))}),c.dateName=d.lang[c.lang];var g=a(jui2.tmpl.tmpl_calendar(c)),h=g.find(".j-calendar-top-toolbar");return h.append(a(jui2.tmpl.tmpl_datePickerHeader({}))),h.find(".j-calendar-select-month span").text(moment(c.date,e).format("MMMM YYYY")).parent().click(function(){d.monthPicker()}),h.find("button").eq(0).click(function(){d.changeMonth(-1)}),h.find("button").eq(2).click(function(){d.changeMonth(1)}),g.find(".j-calendar-bottom-toolbar").append(a(jui2.tmpl.tmpl_datePickerFooter({}))).find("button").click(function(){d.month=0,d.changeMonth(0),d.value=moment().format(e),g.find("[value="+d.value+"]").addClass("j-calendar-selected"),d.event.click&&d.event.click(d)}),0 in f&&f.replaceWith(g)||c.parent&&a(c.parent).append(g)||a("body").append(g),d.month=moment(c.date,"DD-MM-YYYY").startOf("month").diff(moment().startOf("month"),"month"),d.value=c.date,d.date=c.date,d.event=c.event,g[0].jui2=d,g.find("[value="+d.value+"]").addClass("j-calendar-selected"),d.event.click=c.event.click&&c.event.click,d.length=1,g.find("tbody td").click(function(){g[0].jui2.value=a(this).attr("value"),g.find("tbody td").removeClass("j-calendar-selected"),a(this).addClass("j-calendar-selected"),g[0].jui2.event.click&&g[0].jui2.event.click(d)}),d[0]=g[0],d.length=1,d},c=jui2.calendar=function(a){return new b(a)};c.fn=b.prototype,c.fn.disable=function(){var a=this[0];a.hasClass("j-disabled")||(a.addClass("j-disabled"),a.data().events&&(a.data().events._click=a.data().events.click,a.data().events.click=null))},c.fn.enable=function(){var a=this[0];a.hasClass("j-disabled")&&(a.removeClass("j-disabled"),a.data().events&&(a.data().events.click=a.data().events._click,a.data().events._click=null))},c.fn.changeMonth=function(b){var c=this,d=a(this[0]);c.month+=b,d.find("tbody").empty().append(jui2.tmpl.tmpl_calendarDate({weeks:c.getDatesOfMonth(c.month)})),d.find(".j-calendar-select-month span").text(moment().add("M",c.month).format("MMMM YYYY")),d.find("tbody td").click(function(){c.value=a(this).attr("value"),d.find("tbody td").removeClass("j-calendar-selected"),a(this).addClass("j-calendar-selected"),c.event.click&&c.event.click(c)})},c.fn.getDatesOfMonth=function(a){a=a||0,this.month=a;for(var b=moment().add("M",a).startOf("month").startOf("week"),c=[],d=0;42>d;d++){var e=~~(d/7);c[e]||(c[e]=[]),c[e].push({text:b.get("D"),value:b.format("DD-MM-YYYY")}),b.add("d",1)}return c},c.fn.monthPicker=function(){var b=this,c=a(this[0]),d=jui2.overlay({id:a(this[0]).attr("id")+"-overlay",overlayTarget:this[0],"class":"j-calendar-overlay",content:'<div style="flex:1;display: flex;"></div>'}),e=jui2.monthPicker({parent:"#"+c.attr("id")+"-overlay div","class":"j-calendar-monthPicker",month:this.value.split("-")[1]}),f=jui2.yearPicker({parent:"#"+c.attr("id")+"-overlay div","class":"j-calendar-yearPicker",year:this.value.split("-")[2]});b.overlay=d,jui2.bar({parent:"#"+a(this[0]).attr("id")+"-overlay",items:["-",{role:"button",label:"OK","class":"j-border-inherit",event:{click:function(){b.changeMonth(moment(e.value+"-"+f.value,"MM-YYYY").diff(moment(a(b[0]).find(".j-calendar-select-month").text(),"MMM-YYYY"),"month")),d.destroy(),b.overlay=!1}}},{role:"button",label:"Cancel","class":"j-border-inherit",event:{click:function(){d.destroy(),b.overlay=!1}}},"-"]})},c.fn.destroy=function(){a(this[0]).remove(),this[0]=null},c.fn.lang={en:{sun:{"short":"Sun","long":"Sunday"},mon:{"short":"Mon","long":"Monday"},tue:{"short":"Tue","long":"Tuesday"},wed:{"short":"Wed","long":"Wednesday"},thu:{"short":"Thu","long":"Thursday"},fri:{"short":"Fri","long":"Friday"},sat:{"short":"Sat","long":"Saturday"}}}}(jQuery),function(a){var b=function(b){var c={id:"j-no-id"},d=this;a.extend(!0,c,b);var e=a(c.target?"string"==typeof c.target?"#"+c.target:c.target:"#"+c.id);if(e.hasClass("j-body"))return e[0].jui2;b=b||{};var c={id:"j-"+jui2.random(8,"aA#"),disabled:!1,event:{},type:"bar",data:[]};a.extend(!0,c,b);var f=a(jui2.tmpl.tmpl_chart(c));return 0 in e&&e.replaceWith(f)||c.parent&&a(c.parent).append(f)||a("body").append(f),$inputs=f.find("input"),jui2.keycodes.bind($inputs,"esc,tab,delete,backspace,[0,9],[96,111]"),c.event.keydown&&$inputs.keydown(function(a){c.event.keydown(a,d)}),$inputs.eq(0).blur(function(){a(this).val()>23&&a(this).val(23),a(this).val()<0&&a(this).val(0),a(this).val(("00"+a(this).val()).substr(2+a(this).val().length-2))}),$inputs.eq(1).blur(function(){(a(this).val()>59||a(this).val()<0)&&a(this).val(0),a(this).val(("00"+a(this).val()).substr(2+a(this).val().length-2))}),f[0].jui2=d,d[0]=f[0],d.length=1,d.defaults=c,d},c=jui2.chart=function(a){return new b(a)};c.fn=b.prototype,c.fn.val=function(b){return $el=a(this[0]).find("input"),b&&($el.eq(0).val(b.split(":")[0]),$el.eq(1).val(b.split(":")[1])),$el.eq(0).val()+":"+$el.eq(1).val()},c.fn.reset=function(){return a(this[0]).find("input").val(""),this},jui2.extend(jui2.component,c,["click"])}(jQuery),function(a){jui2.checkboxField=jui2.class.checkboxField=P(jui2.class.widget,function(b,c){b.init=function(b){var d=this;return b=a.extend({},this.defaults,{template:"tmpl_checkboxField",icon:"",label:"",disabled:!1,required:!1,event:{}},b),b.events=a.extend({},{require:function(a){return 0!=b.required&&!b.disabled,a},afterrender:function(a){return 0==a.find("label").length&&a.css("width","150px"),a},click:function(a){return"function"==typeof b.event.click&&a.find("input").click(function(){b.disabled||b.event.click(this.checked,d.value)}),a}},b.events),c.init.call(this,b)},b.render=function(a){return c.render.call(this,a)},b.val=function(b){return b&&a(this[0]).find("input").val(b),a(this[0]).find("input").val()},b.reset=function(){a(this[0]).find("input").val("")}})}(jQuery),function(a){var b=function(b){var c={id:"j-no-id"},d=this;a.extend(!0,c,b);var e=a(c.target?"string"==typeof c.target?"#"+c.target:c.target:"#"+c.id);if(e.hasClass("j-body"))return e[0].jui2;b=b||{};var c={id:"j-"+jui2.random(8,"aA#"),disabled:!1,event:{},server:!1,display:[1],pk:0,firstload:!0,help:"",labelposition:"left","class":"",datastore:!1,template:!1,datatemplate:!1,length:10,itemsWidth:!1,height:"242px"};a.extend(!0,c,b);var f=c.template&&a(c.template(c))||a(jui2.tmpl.tmpl_comboField(c));if(f.find("input").first().bind("keypress",function(a){a.charCode||a.keyCode;return!0}).keydown(function(a){a.preventDefault()}),f.find(".fa-times").on("click",function(){return f.find("input").val(""),!1}),0 in e&&e.replaceWith(f)||c.parent&&a(c.parent).append(f)||a("body").append(f),f[0].jui2=d,d[0]=f[0],d.length=1,f[0].jui2.defaults=c,"string"==typeof c.items)f[0].jui2.param={sEcho:-1,iDisplayLength:c.length,iDisplayStart:0,iSortCol_0:0,sSearch:c.value||"",sSortDir_0:"",iTotalRecords:0},c.firstload&&d.generateItemList(),a(d[0]).click(function(){d.itemsEl&&d.itemsEl.is(":visible")&&d.itemsEl.hide()||d.generateItemList(!0)||d.generateItemList(!0)}),f[0].jui2.param.sSearch="";else{var g=f.find("input");a.each(c.items,function(a,b){c.value&&c.value.toString()==b.value.toString()&&(g.last().val(b.value),g.first().val(b.label)),c.items[a].label=c.itemsWidth?'<td style="width:100%;width:'+c.itemsWidth+";max-width:"+c.itemsWidth+'">'+b.label+"</td>":'<td style="width:100%;max-width:100%">'+b.label+"</td>"});var h=a(jui2.tmpl.tmpl_listItems({items:c.items,"class":c.class,height:c.height}));c.itemsWidth&&h.find("table").width(c.itemsWidth),h.find(".j-listItems-bottom-toolbar").remove(),h.find(".j-listItems-top-toolbar").remove(),a(c.vr||"body").append(h),h.css("z-index",jui2.findHighestZIndex()+1),f[0].jui2.tether=jui2.pin({element:h,target:f.find("input").first(),attachment:"top left",targetAttachment:"bottom left"}),h.hide(),jui2.oms.remove(c.id,"body"),jui2.oms.append(c.id,function(b){var c=a(b.target);h.is(":visible")&&1^c.closest(".j-listItems").length&&1^c.closest(".j-comboField").length&&h.hide()},"body"),h.click(function(b){var e=b.target,g=f.find("input");"TD"==e.tagName&&(g.last().val(a(e).closest("tr").attr("value")),g.first().val(e.innerHTML),h.hide(),c.event.select&&c.event.select(a(e).closest("tr").attr("value"),e.innerHTML,[a(e).closest("tr").attr("value"),e.innerHTML],d),f.focus())}),f.click(function(){f[0].jui2.tether=jui2.pin({element:h,target:f.find("input").first(),attachment:"top left",targetAttachment:"bottom left"}),"readonly"!=f.find("input").attr("readonly")&&(h.is(":visible")&&h.hide()||(a("[role=listItems]").hide(),h.show()),f[0].jui2.tether.position())}),f.on("remove",function(){h.remove()})}return f.find("input").on("focus",function(){}).on("keydown",function(a){13==a.keyCode&&f.click()}),d};jui2.comboField=function(a){return new b(a)},jui2.comboField.fn=b.prototype,jui2.comboField.fn.disable=function(){return a(this[0]).find("input").attr("readonly",!0),this},jui2.comboField.fn.enable=function(){return a(this[0]).find("input").removeAttr("readonly"),this},jui2.comboField.fn.close=function(){this[0].hide()},jui2.comboField.fn.destroy=function(){a(this[0]).remove(),this[0]=null},jui2.comboField.fn.search=function(){},jui2.comboField.fn.val=function(b){if(b){if(this.param){var c=(this.param.sSearch,this);return c.defaults.value=c.param.sSearch=b||"",c.param.sSearch=b,c.generateItemList(),b||a(c[0]).find("input").last().val()}var c=this;return c.defaults.value=b||"",a.each(c.defaults.items,function(d,e){e.value==b&&(a(c[0]).find("input").first().val(e.label.replace(/(<([^>]+)>)/gi,"")),a(c[0]).find("input").last().val(e.value))}),b||a(c[0]).find("input").last().val()}return a(this[0]).find("input").last().val()},jui2.comboField.fn.reset=function(){var b=a(this[0]).find("input");b.last().val(""),b.first().val("")},jui2.comboField.fn.generateItemList=function(b){var b=b,c=this,d=c.param,e=a(this[0]).find("input"),f=a(c[0]),g=c.defaults;d.sEcho++;var h=function(h){if(d.sEcho==h.sEcho){if(c.items=new Array,c.data={},d.totalPage=h.iTotalRecords-1,h.aaData){jui2.clearNullFromJson(h.aaData);for(var i=0;i<d.iDisplayLength;i++)if(h.aaData[i]){var j=h.aaData[i],k="",l=[];for(z=0;z<g.display.length;z++)k+='<td style="padding-right: 10px;">'+j[g.display[z]]+"</td>",l.push(j[g.display[z]]);g.value&&g.value.toString()==j[g.pk].toString()&&(e.first().val(l.join(", ")),e.last().val(j[g.pk])),c.data[j[g.pk]]=j,c.items.push({label:k,value:j[g.pk]})}}a.each(h,function(a,b){d[a]="aaData"^a&&b}),d.iTotalRecords=h.iTotalRecords;var m=a(jui2.tmpl.tmpl_listItems({items:c.items,displayName:g["display-name"],"class":g.class,valueSearch:d.sSearch}));c.itemsEl&&c.itemsEl.remove(),f.on("remove",function(){c.itemsEl.remove()}),c.itemsEl=m,a(g.vr||"body").append(m),m.find(".j-listItems-top-toolbar input").on("keydown",function(b){13==b.keyCode&&(d.sSearch=a(this).val(),d.iDisplayStart=0,c.generateItemList(!0))});var n=m.find(".j-listItems-bottom-toolbar");n.find(".j-icon:nth-child(1)").click(function(){+d.iDisplayStart>0&&(d.iDisplayStart=+d.iDisplayStart-+d.iDisplayLength,c.generateItemList(!0))}),n.find(".j-icon:nth-child(3)").click(function(){-~(d.iDisplayStart/d.iDisplayLength)<-~(d.iTotalRecords/d.iDisplayLength)&&(d.iDisplayStart=+d.iDisplayStart+ +d.iDisplayLength,c.generateItemList(!0))}),n.find(".j-icon:nth-child(4)").click(function(){c.generateItemList(!0)}),n.find(".j-itemList-pageOf input").on("keydown",function(b){13==b.keyCode&&(d.iDisplayStart=a(this).val()*d.iDisplayLength-d.iDisplayLength,a(this).val()>-~(d.iTotalRecords/d.iDisplayLength)&&(d.iDisplayStart=-~(d.iTotalRecords/d.iDisplayLength)*d.iDisplayLength-d.iDisplayLength),a(this).val()<0&&(d.iDisplayStart=0),c.generateItemList(!0))}).val(-~(d.iDisplayStart/d.iDisplayLength)),n.find(".j-itemList-pageOf span").text(Math.ceil(d.iTotalRecords/d.iDisplayLength)),m.css("z-index",jui2.findHighestZIndex()+1),c.tether=jui2.pin({element:m,target:f.find("input").first(),attachment:"top left",targetAttachment:"bottom left"}),jui2.oms.remove(f.attr("id"),"body"),jui2.oms.append(f.attr("id"),function(b){m.is(":visible")&&1^a(b.target).closest(".j-listItems").length&&1!=a(b.target).closest(".j-comboField").length&&m.remove()},"body"),m.click(function(b){if(1==a(b.target).closest("tr").length&&!a(b.target).closest("tr").hasClass("j-listItems-header")){var d=a(b.target).closest("tr"),e=[],h=f.find("input"),i=g.event;d.find("td").each(function(){e.push(a(this).text())}),h.last().val(d.attr("value")),h.first().val(e.join(", ")),m.hide(),i.select&&i.select(d.attr("value"),e,c.data[d.attr("value")],c),f.focus()}}),f.unbind("click").click(function(){m.is(":visible")&&m.hide()||c.generateItemList(!0)}),m.hide(),"readonly"!=f.find("input").attr("readonly")&&(!b&&m.hide()||(a("[role=listItems]").hide(),m.show(),c.tether.position())),m.find(".j-listItems-searchText input").focus(),m.find(".j-listItems-searchText input").on("blur",function(){a("#"+g.id+"-help").remove()});var o=m.find("thead > tr > td");m.find("tbody tr").eq(0).children().each(function(b,c){o.eq(b).width()>a(c).width()?a(c).css("width",o.eq(b).width()):o.eq(b).css("width",a(c).width())}),m.find("input")[0].setSelectionRange(999,999)}g.event.afterDraw&&g.event.afterDraw()};g.datastore?g.datastore.load(h):a.ajax({dataType:"json",url:g.items,data:d}).done(function(a){h(a)})}}(jQuery),function(a){jui2.class.dataView=P(jui2.class.widget,function(b,c){b.init=function(b){this.defaults=b=a.extend({},this.defaults,{template:"tmpl_dataView",dataTemplate:"tmpl_dataViewData",disabled:!1,totalColumn:999,width:"auto",height:"auto"},b);var d=this;
return b.events=a.extend({},{afterdraw:function(a){return b.event&&b.event.afterdraw&&b.event.afterdraw(d),a},afterrender:function(a){return b.event&&b.event.afterrender&&b.event.afterrender(d),a}},b.events||{}),this.param={sEcho:-1,iDisplayLength:10,iDisplayStart:0,iSortCol_0:0,sSearch:"",sSortDir_0:"",iTotalRecords:0},c.init.call(this,b)},b.render=function(a){return this.generateData(),c.render.call(this,a)},b.getData=function(b,c){var d=this;d.param.sEcho++,a.getJSON(c,d.param).done(function(a){a.sEcho==d.param.sEcho&&d.genDataJson(a)})},b.genDataJson=function(b){var c=this.prepared,d=a(c).find(".jn-body-data"),e=this.defaults;this.param.iTotalRecords=b.iTotalRecords,d.empty(),jui2.clearNullFromJson(f);var f=b.aaData;if(this.aaData=a.extend(!0,b.aaData),null!=f){if(e.custom)for(var g=0;g<f.length;g++)for(j in e.custom)f[g][j]=e.custom[j](this.aaData[g]);a.each(f,function(b,c){var f=c.slice(0,e.totalColumn),g=a(jui2.tmpl[e.dataTemplate]({data:f}));d.append(g)})}return this.afterDraw(c)},b.genDataArray=function(b){var c=this.prepared,d=a(c).find(".jn-body-data"),e=this.defaults;return a.each(b,function(b,c){var f=c.slice(0,e.totalColumn),g="string"==typeof e.dataTemplate?jui2.tmpl[e.dataTemplate]:e.dataTemplate,h=a(g({data:f}));h[0].record=c,console.log(d,"asd",h[0]),d.append(h)}),this.aaData=b,this.afterDraw(c)},b.generateData=function(a){return this.defaults.event.beforedraw&&(this.defaults.event.beforedraw(this.prepared),console.log("asd")),this.defaults.server?this.getData(this.prepared,this.defaults.url):this.genDataArray(a||this.defaults.data),this},b.goToFirst=function(){this.param.iDisplayStart=0,this.generateData()},b.back=function(){this.param.iDisplayStart=this.param.iDisplayStart-1*this.param.iDisplayLength,this.param.iDisplayStart<0&&(this.param.iDisplayStart=0),this.generateData()},b.next=function(){this.defaults.event.beforedraw&&this.defaults.event.beforedraw(this.prepared),this.param.iDisplayStart=this.param.iDisplayStart+1*this.param.iDisplayLength,this.param.iDisplayStart>Math.ceil(this.param.iTotalRecords/this.param.iDisplayLength*this.param.iDisplayLength)&&(this.param.iDisplayStart=Math.floor(this.param.iTotalRecords/this.param.iDisplayLength)*this.param.iDisplayLength),this.generateData()},b.goToLast=function(){this.param.iDisplayStart=Math.ceil(this.param.iTotalRecords/this.param.iDisplayLength-1)*this.param.iDisplayLength,this.generateData()},b.refresh=function(){this.generateData()},b.goTo=function(a){this.param.iDisplayStart=(a-1)*this.param.iDisplayLength,this.generateData()},b.getPage=function(){return~~(this.param.iDisplayStart/this.param.iDisplayLength+1)},b.getTotal=function(){return~~Math.ceil(this.param.iTotalRecords/this.param.iDisplayLength-1)+1},b.afterDraw=function(a){return this.defaults.events.afterdraw(a)},b.getSelected=function(){return this.selected},b.addItems=function(){}}),jui2.dataView=jui2.class.dataView}(jQuery),function(a,b){var c=function(c){var d={id:"j-no-id"},e=this;a.extend(!0,d,c);var f=a(d.target?"string"==typeof d.target?"#"+d.target:d.target:"#"+d.id);if(f.hasClass("j-body"))return f[0].jui2;c=c||{};var d={id:"j-"+b.random(8,"aA#"),disabled:!1,event:{}};a.extend(!0,d,c);var g=a(b.tmpl.tmpl_datePicker(d));return 0 in f&&f.replaceWith(g)||d.parent&&a(d.parent).append(g)||a("body").append(g),g.find("input").click(function(){g[0].jui2.showPicker()}),g.find("i").click(function(){g[0].jui2.showPicker(),g.find("input").focus()}),e.monthPicker=!1,e.defaults=d,g[0].jui2=e,e[0]=g[0],e.length=1,b.oms.remove(g.attr("id"),"body"),b.oms.append(g.attr("id"),function(b){var c=(e[0],a(b.target)),d=e[0].jui2;0 in c.closest(".j-calendar-select-month")&&(d.monthPicker=!0)||d.calendar&&0 in c.closest(d.calendar[0])&&(d.monthPicker=!1),1^c.closest(g).length&&!d.monthPicker&&d.calendar&&1^c.closest(d.calendar[0]).length&&(d.calendar.destroy(),d.calendar=!1),g[0].jui2.calendar&&0==c.closest(g).length&&0==c.closest(g[0].jui2.calendar).length&&0==c.closest(".j-calendar-overlay").length&&(d.calendar.overlay&&d.calendar.overlay.destroy&&d.calendar.overlay.destroy(),d.calendar.destroy(),d.calendar=!1)},"body"),e},d=b.datePicker=function(a){return new c(a)};d.fn=c.prototype,d.fn.disable=function(){},d.fn.enable=function(){},d.fn.close=function(){this[0].hide()},d.fn.val=function(b,c){return c=a(this[0]).find("input"),b&&c.val(b),c.val()},d.fn.reset=function(){a(this[0]).find("input").val("")},d.fn.destroy=function(a){a=this[0],b.oms.remove(a.attr("id"),"body"),a.remove(),a=null},d.fn.showPicker=function(){var c=this[0].jui2,d=a(this[0]).find("input"),e=this.defaults.format,f="DD-MM-YYYY",g=this;c.calendar||(c.calendar=b.calendar({date:e?moment(d.val(),e).format(f):d.val(),event:{click:function(a){d.val(e?moment(a.value,f).format(e):a.value),a.destroy(),c.calendar=null,d.focus(),g.defaults.event.select&&g.defaults.event.select(e?moment(a.value,f).format(e):a.value)}}})),a(c.calendar[0]).css("z-index",b.findHighestZIndex()+1),b.pin({element:c.calendar[0],target:d,attachment:"top left",targetAttachment:"bottom left"})}}(jQuery,jui2),function(a){var b=function(b){var c={id:"j-no-id"},d=this;a.extend(!0,c,b);var e=a(c.target?"string"==typeof c.target?"#"+c.target:c.target:"#"+c.id);if(e.hasClass("j-body"))return e[0].jui2;b=b||{};var c={id:"j-"+jui2.random(8,"aA#"),disabled:!1,items:[],event:{},type:"group"};a.extend(!0,c,b);for(var f=a(jui2.tmpl.tmpl_group(c)),g=0;g<c.items.length;g++){var h=c.items[g];h.parent=f,jui2[h.role](h)}return 0 in e&&e.replaceWith(f)||c.parent&&a(c.parent).append(f)||a("body").append(f),d[0]=f,d.length=1,d},c=jui2.group=function(a){return new b(a)};c.fn=b.prototype,c.fn.disable=function(){var a=this[0];a.hasClass("j-disabled")||(a.addClass("j-disabled"),a.data().events&&(a.data().events._click=a.data().events.click,a.data().events.click=null))},c.fn.enable=function(){var a=this[0];a.hasClass("j-disabled")&&(a.removeClass("j-disabled"),a.data().events&&(a.data().events.click=a.data().events._click,a.data().events._click=null))}}(jQuery),function(a){var b=function(b){var c={id:"j-no-id"},d=this;a.extend(!0,c,b);var e=a(c.target?"string"==typeof c.target?"#"+c.target:c.target:"#"+c.id);if(e.hasClass("j-body"))return e[0].jui2;b=b||{};var c={id:"j-"+jui2.random(8,"aA#"),disabled:!1,event:{}};a.extend(!0,c,b);var f=a(jui2.tmpl.tmpl_icon(c));return 0 in e&&e.replaceWith(f)||c.parent&&a(c.parent).append(f)||a("body").append(f),d.defaults=c,d.ev={},"function"==typeof c.event.click&&(d.ev.click=function(){c.disabled||c.event.click(d)},f.on("click",function(a){a.preventDefault,d.ev.click()})),d[0]=f,d.length=1,d},c=jui2.icon=function(a){return new b(a)};c.fn=b.prototype,c.fn.disable=function(){var a=this[0],b="j-disabled";a.hasClass(b)||(a.addClass(b),a.data().events&&(a.data().events._click=a.data().events.click,a.data().events.click=null))},c.fn.enable=function(){var a=this[0],b="j-disabled";a.hasClass(b)&&(a.removeClass(b),a.data().events&&(a.data().events.click=a.data().events._click,a.data().events._click=null))}}(jQuery),function(a){jui2.class.layout=P(jui2.class.widget,function(b,c){b.init=function(b,d){return b=a.extend(!0,{},this.defaults,{template:"tmpl_layout_",layout:"horizontal",items:[],width:"auto",height:"auto"},b),b.events={afterRender:function(c){c.parent().hasClass("jn-layout-content")&&c.css({height:"100%"}).parent().css({border:"0px"}),c.find(".jn-layout-content").each(function(c,d){"horizontal"==b.layout?a(d).outerWidth(a(d).outerWidth()):a(d).outerHeight(a(d).outerHeight())});var e=c.find(".jn-layout-border-vertical");e.each(function(b,c){new Draggabilly(c,{axis:"x"}).on("dragStart",function(){}).on("dragEnd",function(){var b=parseInt(a(this.element).prev().outerWidth())+parseInt(this.dragPoint.x),c=parseInt(a(this.element).next().outerWidth())-parseInt(this.dragPoint.x);a(this.element).prev().outerWidth(b),a(this.element).next().outerWidth(c),a(this.element).css("left",0)})});var e=c.find(".jn-layout-border-horizontal");e.each(function(b,c){new Draggabilly(c,{axis:"y"}).on("dragStart",function(){}).on("dragEnd",function(){var b=parseInt(a(this.element).prev().outerHeight())+parseInt(this.dragPoint.y),c=parseInt(a(this.element).next().outerHeight())-parseInt(this.dragPoint.y);a(this.element).prev().outerHeight(b),a(this.element).next().outerHeight(c),a(this.element).css("top",0)})});for(var f=b.items,g=0;g<f.length;g++)if(f[g].child){f[g].child.parent="#"+f[g].id;var h=a.extend(!0,f[g].child);jui2.class.layout(h)}return d&&d.afterrender&&d.afterrender(c),c}},b.template+=b.layout,c.init.call(this,b)},b.render=function(a){return c.render.call(this,a)}})}(jQuery),function(a){jui2.loadingMask=function(b){return jui2.overlay({overlayTarget:b,"class":"j-background-transparent j-textCenter",content:jui2.tmpl.tmpl_loadingMask(),event:{afterRender:function(b){a(b[0]).find("div").center()}}})}}(jQuery),function(a){jui2.loadingMaskProgress=function(b){var c=jui2.overlay({overlayTarget:b,"class":"j-background-transparent j-textCenter",content:jui2.tmpl.tmpl_loadingMaskProgress({width:"250px"}),event:{afterRender:function(b){a(b[0]).find("div").center()}}});return c.setProgress=function(b){a(c).find(".j-progress-bar div").width(b+"%")},c}}(jQuery),function(a){var b=function(b){var c=this,d={id:"j-no-id"};a.extend(!0,d,b);var e=a(d.target?"string"==typeof d.target?"#"+d.target:d.target:"#"+d.id);if(e.hasClass("j-body"))return e[0].jui2;b=b||{};var d={id:"j-"+jui2.random(8,"aA#"),parent:"body",menu:[]};a.extend(!0,d,b);var f=a(jui2.tmpl.tmpl_menu(d));0 in e&&e.replaceWith(f)||a("body").append(f);for(var g=f.find(".j-menu-item").not('[items="undefined"]'),h=g.length;h--;){a(g[h]).attr("parent",!0).removeAttr("items");var i=d.menu[a(g[h]).index()].menu;jui2.menu({parent:a(g[h]),menu:i,child:!0,parentId:d.id})}f.hide(),f[0].jui2=c;var j=d.child?"top right":"bottom left";if(a("#"+f.attr("id")).length>0&&(f[0].jui2.tether=jui2.pin({element:f,target:a(d.parent),attachment:"top left",targetAttachment:j})),d.child){var k=a(".j-menu-"+d.parentId);a(d.parent).mouseover(function(){k.hide(),f[0].jui2.showMenu()}).siblings().not("[parent=true]").mouseover(function(){k.hide()})}return c.length=1,f.click(function(b){var c=d.menu[a(b.target).closest(".j-menu-item").index()];c.event&&c.event.click&&c.event.click()}),jui2.oms.append(f.attr("id"),function(b){var c=a(b.target).closest(".j-menu-item");1==!a(b.target).closest(f).length&&0==a(b.target).closest(a(d.parent)).length?(c.attr("parent")||f.hide(),f.css("z-index",0)):f.is(":visible")?c.attr("parent")||(f.hide(),f.css("z-index",0)):f[0].jui2.showMenu()},"body"),c[0]=f[0],c},c=jui2.menu=function(a){return new b(a)};c.fn=b.prototype,c.fn.showMenu=function(){var b=a(this[0]),c=a(this[0].jui2.tether.target),d=a(this[0].jui2.tether.element),e=this[0].jui2.tether;b.is(":visible")||b.show(),c.attr("parent")&&(c.parent().position().left+c.parent().width()+d.width()>=a(document).width()?(e.setOptions({element:d,target:c,attachment:"top right",targetAttachment:"top left"}),e.position()):"right"==e.attachment.left&&(e.setOptions({element:d,target:c,attachment:"top left",targetAttachment:"top right"}),e.position())),e.position(),b.css("z-index",jui2.findHighestZIndex()+1)}}(jQuery),function(a){var b=function(b){var c=this,d={id:"j-no-id"};a.extend(!0,d,b);var e=a(d.target?"string"==typeof d.target?"#"+d.target:d.target:"#"+d.id);if(e.hasClass("j-body"))return e[0].jui2;b=b||{};var d={id:"j-"+jui2.random(8,"aA#"),label:"",icon:"",disabled:!1,menu:[]};a.extend(!0,d,b);var f=a(jui2.tmpl.tmpl_menuButton(d));return 0 in e&&e.replaceWith(f)||d.parent&&a(d.parent).append(f)||a("body").append(f),jui2.menu({parent:f,menu:d.menu}),c[0]=f,c[0].jui2={},c.length=1,c},c=jui2.menuButton=function(a){return new b(a)};c.fn=b.prototype,jui2.extend(jui2.button,c,["click"]),jui2.modul.menuButton=c}(jQuery),function(a){var b=function(b){var c={id:"j-no-id"},d=this;a.extend(!0,c,b);var e=a(c.target?"string"==typeof c.target?"#"+c.target:c.target:"#"+c.id);if(e.hasClass("j-body"))return e[0].jui2;b=b||{};var c={id:"j-"+jui2.random(8,"aA#"),content:"",event:{},overlay:!0};a.extend(!0,c,b);var f=jui2.tmpl.tmpl_modal(c);if(0==c.overlay){var g=a(f);a("body").append(g)}else var g=jui2.overlay({event:c.event,overlayTarget:"body","class":"j-background-transparent j-modal-overlay",id:c.id,content:f});return jui2.bar({parent:a(g[0]).find(".j-modal-top-toolbar"),"class":"j-color-toolbar-white j-title-bar",items:[{text:c.title},"-",{role:"button",icon:"fa-times",event:{click:function(){d.destroy()}}}]}),1==c.overlay?(drag(a(g[0]).find(".j-modal")[0]).handle(a(g[0]).find(".j-modal-top-toolbar")[0]).bind(),a(g[0]).children().center()):(drag(g[0]).handle(g.find(".j-modal-top-toolbar")[0]).bind(),g.center()),a.ajax({url:c.content}).done(function(b){a(g[0]).find(".j-modal-content").append(b),1==c.overlay?a(g[0]).children().center():g.center()}),g[0].jui2=d,d[0]=g[0],d.length=1,d},c=jui2.modal=function(a){return new b(a)};c.fn=b.prototype,c.fn.disable=function(){},c.fn.enable=function(){},c.fn.close=function(){a(this[0]).hide()},c.fn.destroy=function(){a(this[0]).find(".j-modal").remove(),a(this[0]).remove(),this[0]=null}}(jQuery),function(a){var b=function(b){var c={id:"j-no-id"},d=this;a.extend(!0,c,b);var e=a(c.target?"string"==typeof c.target?"#"+c.target:c.target:"#"+c.id);if(e.hasClass("j-body"))return e[0].jui2;b=b||{};var c={id:"j-"+jui2.random(8,"aA#"),disabled:!1,event:{},parent:"body",lang:"en",month:moment().format("MM")};a.extend(!0,c,b),c.monthsName=jui2.lang.monthPicker[c.lang];var f=a(jui2.tmpl.tmpl_monthPicker(c));return 0 in e&&e.replaceWith(f)||c.parent&&a(c.parent).append(f)||a("body").append(f),f.find("tbody td:contains("+jui2.lang.monthPicker[c.lang][moment(c.month+"-2000","MM-YYYY").format("MMM").toLowerCase()].short+")").addClass("j-monthPicker-selected"),d[0]=f,d.length=1,f[0].jui2=d,d.value=c.month,f.find("tbody td").click(function(){var b=a(this).index(),c=a(this),d="j-monthPicker-selected";1==b&&(b=6),f[0].jui2.value=c.parent().index()+1+b,f.find("tbody td").removeClass(d),c.addClass(d)}),d},c=jui2.monthPicker=function(a){return new b(a)};c.fn=b.prototype,c.fn.disable=function(){var a=this[0];a.hasClass("j-disabled")||(a.addClass("j-disabled"),a.data().events&&(a.data().events._click=a.data().events.click,a.data().events.click=null))},c.fn.enable=function(){var a=this[0];a.hasClass("j-disabled")&&(a.removeClass("j-disabled"),a.data().events&&(a.data().events.click=a.data().events._click,a.data().events._click=null))},c.fn.close=function(){this[0].hide()},c.fn.destroy=function(){a(this[0]).remove()}}(jQuery),function(a){var b=function(b){var c={id:"j-no-id"},d=this;a.extend(!0,c,b);var e=a(c.target?"string"==typeof c.target?"#"+c.target:c.target:"#"+c.id);if(e.hasClass("j-body"))return e[0].jui2;b=b||{};var c={id:"j-"+jui2.random(8,"aA#"),disabled:!1,event:{},overlayTarget:"body"};a.extend(!0,c,b),c.top=c.top||a(c.overlayTarget).offset().top,c.left=c.left||a(c.overlayTarget).offset().left,c.width=c.width||a(c.overlayTarget).width(),c.height=c.height||a(c.overlayTarget).height();var f=a(jui2.tmpl.tmpl_overlay(c));return a("body").append(f),f.css("z-index",jui2.findHighestZIndex()+1),f[0].jui2=this,d[0]=f[0],d.length=1,c.event.afterRender&&c.event.afterRender(this),f.children(".j-modal").center(),d},c=jui2.overlay=function(a){return new b(a)};c.fn=b.prototype,c.fn.disable=function(){},c.fn.enable=function(){},c.fn.close=function(){this[0].hide()},c.fn.destroy=function(){a(this[0]).remove(),this[0]=null},c.fn.center=function(){a(self[0]).children(".j-modal").center()}}(jQuery),function(a){var b=function(b){var c={id:"j-no-id"},d=this;a.extend(!0,c,b);var e=a(c.target?"string"==typeof c.target?"#"+c.target:c.target:"#"+c.id);if(e.hasClass("j-body"))return e[0].jui2;b=b||{};var c={id:"j-"+jui2.random(8,"aA#"),prev:!1,next:!1,refresh:!1,changepage:!1,disabled:!1,event:{},targetel:!1,template:!1};a.extend(!0,c,b);var f=c.template&&a(c.template(c))||a(jui2.tmpl.tmpl_pagination(c));return c.targetel&&(c.parent=a(c.targetel).find(".j-toolbar-header")),0 in e&&e.replaceWith(f)||c.parent&&a(c.parent).append(f)||a("body").append(f),d.defaults=c,f[0].jui2=d,d[0]=f[0],d.length=1,c.targetel&&(jui2(c.targetel)[0].pagination=f,f.find(".j-pagination-prev").click(function(){jui2(c.targetel)[0].prev()}),f.find(".j-pagination-next").click(function(){jui2(c.targetel)[0].next()}),f.find(".j-pagination-page input").keydown(function(b){jui2(c.targetel)[0].goTo(b,a(this))}),f.find(".j-pagination-refresh").click(function(){jui2(c.targetel)[0].defaults.server&&jui2(c.targetel)[0].generateData()})),d},c=jui2.pagination=function(a){return new b(a)};c.fn=b.prototype,c.fn.setTargetEl=function(b){this.defaults.targetel&&jui2(this.defaults.targetel)[0]&&(jui2(this.defaults.targetel)[0].pagination=!1),this.defaults.targetel=b,jui2(this.defaults.targetel)[0].pagination=a(this[0])},jui2.extend(jui2.component,c),jui2.modul.pagination=c}(jQuery),function(a){var b=function(b){var c={id:"j-no-id"},d=this;a.extend(!0,c,b);var e=a(c.target?"string"==typeof c.target?"#"+c.target:c.target:"#"+c.id);if(e.hasClass("j-body"))return e[0].jui2;b=b||{};var c={id:"j-"+jui2.random(8,"aA#"),event:{},type:"popover",position:"top",on:!1,pin:!0};switch(a.extend(!0,c,b),c.position){case"top":c.arrow="bottom";break;case"bottom":c.arrow="top";break;case"left":c.arrow="right";break;case"right":c.arrow="left"}var f=a(jui2.tmpl.tmpl_popover(c));if(a("body").append(f),d[0]=f,d.length=1,c.pin)switch(c.position){case"top":f.tether=jui2.pin({element:f,target:a(c.parent),attachment:"bottom horizontalcenter",targetAttachment:"top horizontalcenter"}),c.arrow="bottom";break;case"bottom":f.tether=jui2.pin({element:f,target:a(c.parent),attachment:"top horizontalcenter",targetAttachment:"bottom horizontalcenter"}),c.arrow="top";break;case"left":f.tether=jui2.pin({element:f,target:a(c.parent),attachment:"right verticalcenter",targetAttachment:"left verticalcenter"}),c.arrow="right";break;case"right":f.tether=jui2.pin({element:f,target:a(c.parent),attachment:"left verticalcenter",targetAttachment:"right verticalcenter"}),c.arrow="left"}return f.hide(),c.on?c.on(c.parent,f):a(c.parent).on("mouseover",function(){f.show()}).on("mouseout",function(){f.hide()}),d},c=jui2.popover=function(a){return new b(a)};c.fn=b.prototype,c.fn.show=function(){var a=this[0];a.show()},c.fn.hide=function(){var a=this[0];a.hide()},c.fn.destroy=function(){a(this[0]).remove(),this[0]=null}}(jQuery),function(a){jui2.radioField=jui2.class.radioField=P(jui2.class.widget,function(b,c){b.init=function(b){var d=this;return b=a.extend({},this.defaults,{template:"tmpl_radioField",icon:"",label:"",disabled:!1,required:!1,name:"j-"+jui2.random(8,"aA#"),event:{}},b),b.events=a.extend({},{require:function(a){return 0!=b.required&&!b.disabled,a},afterrender:function(a){return 0==a.find("label").length&&a.css("width","150px"),a},click:function(a){return"function"==typeof b.event.select&&a.find("input").click(function(){b.disabled||b.event.select(d.val())}),a}},b.events),c.init.call(this,b)},b.render=function(a){return c.render.call(this,a)},b.val=function(b){return b&&a(this[0]).find("input[value="+b+"]").prop("checked",!0),a(this[0]).find("input:checked").val()},b.reset=function(){}})}(jQuery),function(a){var b=function(b){var c={id:"j-no-id"},d=this;a.extend(!0,c,b);var e=a(c.target?"string"==typeof c.target?"#"+c.target:c.target:"#"+c.id);if(e.hasClass("j-body"))return e[0].jui2;b=b||{};var c={id:"j-"+jui2.random(8,"aA#"),disabled:!1,event:{},rightMenuTarget:"body","class":"j-right-menu"};a.extend(!0,c,b);var f=a(jui2.tmpl.tmpl_menu(c));return a(c.rightMenuTarget).append(f).bind("mousedown",function(b){switch(b=b||window.event,b.which){case 3:c.event.beforeshow&&c.event.beforeshow(d,b),a(".j-right-menu").hide(),a(d[0]).show().offset({top:b.pageY,left:b.pageX})}}).bind("contextmenu",function(){return!1}).click(function(b){if(a(b.target).hasClass("j-tree-head")){var d=c.menu[a(b.target).closest(".j-menu-item").index()];d&&d.event&&d.event.click&&d.event.click(),a(b.target).parents(".j-right-menu").hide()}}),f.hide(),f.css("z-index",jui2.findHighestZIndex()+1),f[0].jui2=this,d[0]=f[0],d.length=1,d.defaults=c,d.output=f,d},c=jui2.rightMenu=function(a){return new b(a)};c.fn=b.prototype,c.fn.disable=function(){},c.fn.enable=function(){},c.fn.close=function(){this[0].hide()},c.fn.destroy=function(){a(this[0]).remove(),this[0]=null},c.fn.center=function(){a(self[0]).children(".j-modal").center()},c.fn.items=function(b){var c=this;c.defaults.menu=b,c[0].remove(),c.output=a(jui2.tmpl.tmpl_menu(c.defaults)),a(c.defaults.rightMenuTarget).append(c.output).click(function(b){var d=c.defaults.menu[a(b.target).closest(".j-menu-item").index()];d.event&&d.event.click&&d.event.click(),a(b.target).parents(".j-right-menu").hide()}),c.output.css("z-index",jui2.findHighestZIndex()+1),c.output[0].jui2=this,c[0]=c.output[0]}}(jQuery),function(a){jui2.slider=jui2.class.slider=P(jui2.class.widget,function(b,c){b.init=function(b){var d=this;return b=a.extend({},this.defaults,{template:"tmpl_slider",disabled:!1,snap:!1,items:[],event:{}},b),b.events={afterRender:function(c){return d.grid=d.defaults.snap?(parseInt(c.width())-15)/(b.items.length-1):(parseInt(c.width())-15)/d.defaults.items[d.defaults.items.length-1][0],new Draggabilly(c.find(".jn-slider-cursor")[0],{containment:c[0],axis:"x",grid:[d.grid,0]}).on("dragStart",function(){}).on("dragMove",function(){b.event.move&&(d.value=d.defaults.snap?b.items[Math.round(this.position.x/d.grid)][0]:Math.round(this.position.x/d.grid),b.event.move(d))}).on("dragEnd",function(){d.value=d.defaults.snap?b.items[Math.round(this.position.x/d.grid)][0]:Math.round(this.position.x/d.grid)}),d.value=b.items[0][0],c.find(".jn-slider-bar").click(function(c){a(c.target).hasClass("jn-slider-bar")&&(relX=c.pageX-a(this).offset().left,d.defaults.snap?(d.value=b.items[Math.round(relX/d.grid)][0],relX=Math.round(relX/d.grid)*d.grid):d.value=Math.round(relX/d.grid),a(this).find(".jn-slider-cursor").css("left",relX),b.event.move&&b.event.move(d))}),c}},c.init.call(this,b)},b.val=function(b){var c=this;if(b)if(c.defaults.snap){var d=0,e=0;a.each(c.defaults.items,function(a,b){b[1]!=b&&d++}),e=d*c.grid,a(c[0]).find(".jn-slider-cursor").css("left",e),c.value=b}else e=b*c.grid,a(c[0]).find(".jn-slider-cursor").css("left",e),c.value=b;return c.value}})}(jQuery),function(a){jui2.class.pagination=P(jui2.class.bar,function(b,c){b.events=b.init=function(b){var d=this;return b=a.extend({},this.defaults,{template:"tmpl_slimPagination",targetId:!1,disabled:!1,event:{}},b),events={afterrender:function(c){if(0!=b.targetId||0!=b.jui2Object){var e=jui2(b.targetId)[0]||b.jui2Object,f=c.find(".jn-pagination-page"),g=c.find(".jn-pagination-text-of");c.find(".jn-pagination-first").click(function(){e.goToFirst(),f.val(e.getPage()),g.text(" of "+e.getTotal())}),c.find(".jn-pagination-back").click(function(){e.back(),f.val(e.getPage()),g.text(" of "+e.getTotal())}),c.find(".jn-pagination-next").click(function(){e.next(),f.val(e.getPage()),g.text(" of "+e.getTotal())}),c.find(".jn-pagination-last").click(function(){e.goToLast(),f.val(e.getPage()),g.text(" of "+e.getTotal())}),c.find(".jn-pagination-refresh").click(function(){e.refresh(),f.val(e.getPage()),g.text(" of "+e.getTotal())}),c.find(".jn-pagination-page").keyup(function(b){13==b.keyCode&&(e.goTo(a(this).val()),g.text(" of "+e.getTotal()))})}return"function"==typeof b.event.afterrender&&b.event.afterrender(d),c},afterdraw:function(a,c){return a.find(".jn-pagination-text-of").text(" of "+c.getTotal()),"function"==typeof b.event.afterdraw&&b.event.afterdraw(d),a}},c.init.call(this,b,events)}})}(jQuery),function(a){jui2.slimTable=jui2.class.slimTable=P(jui2.class.dataView,function(b,c){b.init=function(b){var d=this;return b=a.extend({},this.defaults,{template:"tmpl_slimTable",dataTemplate:"tmpl_slimTableData",headerTemplate:"tmpl_tableHeader",editableTemplate:"tmpl_tableEditable",editablemode:"single",editable:{},drop:[0]},b),this.tmp={},b.totalColumn=b.columns[b.columns.length-1].length,b.events={afterrender:function(c){var e=a(jui2.tmpl[b.headerTemplate]({columns:d.defaults.columns}));if(c.find(".jn-header-data").append(e),a(c.children()[2]).scroll(function(){a(c.children()[1]).scrollLeft(a(this).scrollLeft())}),d.defaults.topbar){var f=jui2.class.bar({items:d.defaults.topbar,target:d.prepared.children(".jn-header"),"class":"j-color-toolbar-white"});a(f[0]).css("border-bottom","1px")}return d.defaults.server&&(d.pagination=jui2.class.pagination({jui2Object:d,target:d.prepared.find(".jn-footer")})),c.find(".jn-body-data tr td").dblclick(function(){d.editable(a(this).index())}),d.defaults.event.afterrender&&d.defaults.event.afterrender(d),c},beforedraw:function(a){return jui2.mask2(a),a},afterdraw:function(b){var c=b.find(".jn-header-data tr:last-child td > div"),e=d.defaults;if(a.each(e.drop,function(c,e){b.find(".jn-body-data tr td:nth-child("+(e+1)+") div").click(function(){d.drop(d,a(this).parent().parent(),a(this).parent().index())}).empty().append('<i class="fa fa-plus-square-o"></i>')}),c.each(function(c,d){b.find(".jn-body-data td:nth-child("+(c+1)+") > div").css("width",a(d).css("width"))}),b.find(".jn-body-data").scroll(function(){if(b.find(".jn-header-data").scrollLeft(this.scrollLeft),b.find(".jn-header-data")[0].scrollWidth-this.scrollWidth>20){var a=b.find(".jn-header-data td:last-child").width()+20;b.find(".jn-header-data td:last-child").outerWidth(a),b.find(".jn-header-data td:last-child div").outerWidth(a)}if(this.scrollWidth>b.find(".jn-header-data")[0].scrollWidth){var a=b.find(".jn-header-data td:last-child").width()-20;b.find(".jn-header-data td:last-child").outerWidth(a)}}),b.find(".jn-body-data tr").click(function(){a(this).siblings().children().removeClass("jn-active"),a(this).children().addClass("jn-active"),a(this).find("[name=select]").prop("checked",!0);var b={};a.each(d.aaData[a(this).index()],function(a,c){b[a]=c}),d.selected=b}),b.find(".jn-body-data tr > td").dblclick(function(){var b=a(this),c=a(this).index(),f=b.parent();if(e.editable[c]){f[0].defaultInnerHTML=f.children().clone(!0);var g=f.children().length-1;if("single"==e.editablemode)var h="function"==typeof e.editable[c]?e.editable[c](d.aaData[f.index()]):e.editable[c];else{var h="";a.each(e.editable,function(a,b){h+="function"==typeof b?b(d.aaData[f.index()]):b,h+="<br/>"})}f.empty().append('<td></td><td colspan="'+g+'"><div>'+h+"</div></td>").addClass("j-editable"),jui2.button({label:"Save",event:{click:function(){var b=a(f).jui2Serialize();for(i in b)value=b[i];"single"==e.editablemode?e.save(d,value,c,b[a(this).parent().index()],f.index()):e.save(d,b,c,b[a(this).parent().index()],f.index()),f.empty().empty().append(f[0].defaultInnerHTML).removeClass("j-editable")}},parent:f.children().children()[0]}),jui2.button({label:"Cancel",event:{click:function(){f.empty().empty().append(f[0].defaultInnerHTML).removeClass("j-editable")}},parent:f.children().children()[0]}),jui2.create(e.vr.substring(1).trim()),a(a(f.children().children()[0]).children()[0]).attr("tabindex",1).keydown(function(b){return 13==b.which?(a(f.children().children()[0]).find("button:contains(Save)").click(),!1):void 0})}}),b.find(".jn-body-data > tr > td:first-child, .jn-header-data > tr > td:first-child").css("border-left","0px"),b.find(".jn-body-data > tr > td:last-child, .jn-header-data > tr > td:last-child").css("border-right","0px"),"auto"!=e.height){var f=0;b.children().not(".jn-table-body").each(function(b,c){f+=a(c).outerHeight()}),f+=b.children(".jn-table-body").find(".jn-header-data").outerHeight(),b.find(".jn-body-data").outerHeight(b.height()-f+"px")}return d.defaults.server&&d.pagination.defaults.events.afterdraw(a(d.pagination[0]),d),jui2.unmask(b),b}},c.init.call(this,b)},b.editable=function(b){var c=this[0].children().children(".jn-body-data").children().children().eq(b),d=this.defaults.editable;c[0].editable=this[0].children().children(".jn-body-data").children().children().eq(b),d[b]&&c.replaceWith(a(jui2.tmpl[self.defaults.editableTemplate](d[b])))},b.editableCancel=function(){var a=this[0].children().children(".jn-body-data").children().children().eq(index);a.replaceWith(a[0].editable)},b.drop=function(b,c,d){if(b.defaults.event.drop)if(c.next().hasClass("jn-table-drop"))c.children().eq(0).children().empty().append('<i class="fa fa-plus-square-o"></i>'),c.next().remove(),c.siblings().show();else{c.siblings().hide(),c.children().eq(0).children().empty().append('<i class="fa fa-minus-square-o"></i>');var e=c.children().length,f=a(jui2.tmpl.tmpl_tableDrop({colspan:e}));f.insertAfter(c),b.defaults.event.drop(f,[b.aaData[c.index()]],d)}}})}(jQuery),function(a){var b=function(b){var c={id:"j-no-id"},d=this;a.extend(!0,c,b);var e=a(c.target?"string"==typeof c.target?"#"+c.target:c.target:"#"+c.id);if(e.hasClass("j-body"))return d[0]=e,d.length=1,d;b=b||{};var c={id:"j-"+jui2.random(8,"aA#"),disabled:!1,event:{}};a.extend(!0,c,b);var f=a(jui2.tmpl.tmpl_spacer(c));return 0 in e&&e.replaceWith(f)||c.parent&&a(c.parent).append(f)||a("body").append(f),d[0]=f,d.length=1,d},c=jui2.spacer=function(a){return new b(a)};c.fn=b.prototype}(jQuery),function(a){var b=function(b){var c=this,d={id:"j-no-id"};a.extend(!0,d,b);var e=a(d.target?"string"==typeof d.target?"#"+d.target:d.target:"#"+d.id);if(e.hasClass("j-body"))return e[0].jui2;b=b||{};var d={id:"j-"+jui2.random(8,"aA#"),label:"",icon:"",disabled:!1,menu:[],event:{}};a.extend(!0,d,b);var f=a(jui2.tmpl.tmpl_splitButton(d));return 0 in e&&e.replaceWith(f)||d.parent&&a(d.parent).append(f)||a("body").append(f),jui2.menu({parent:f.find("i")[1],menu:d.menu}),c[0]=f,c[0].jui2={},c.length=1,c.ev={},"function"==typeof d.event.click&&(c.ev.click=function(){d.disabled||d.event.click(c)},f.find("i").last().siblings().on("click",function(a){a.preventDefault,c.ev.click()})),c},c=jui2.splitButton=function(a){return new b(a)};c.fn=b.prototype,jui2.extend(jui2.button,c),jui2.modul.splitButton=c}(jQuery),function(a){var b=function(b){var c={id:"j-no-id"},d=this;a.extend(!0,c,b);var e=a(c.target?"string"==typeof c.target?"#"+c.target:c.target:"#"+c.id);if(e.hasClass("j-body"))return e[0].jui2;b=b||{};var c={id:"j-"+jui2.random(8,"aA#"),disabled:!1,event:{},width:"auto",height:"auto",columns:[],server:!1,hidden:[],custom:!1,drop:[],editable:{},editablemode:"single",vr:"",merge:[],stickycolumn:[],followhead:jui2.data.followHead,autorefresh:!1,preload:!1,initial:!1};a.extend(!0,c,b);var f=a(jui2.tmpl.tmpl_table(c)),g=f.children(".j-table-head"),h=f.children(".j-table-body");f[0].jui2=d,d[0]=f[0],d.length=1,f[0].jui2.defaults=c,0 in e&&e.replaceWith(f)||c.parent&&a(c.parent).append(f)||a("body").append(f),f.nodoubletapzoom(),c.topbar=[].concat(c.topbar),c.topbar[0]&&jui2.bar({parent:f.find(".j-table-top-toolbar"),"class":"j-color-toolbar-white",items:c.topbar}),f.children(".j-table-preview").on("dblclick doubletap",function(b){b.preventDefault(),a(this).empty()});var i=f[0].jui2.param={};if(i.iSortCol=0,i.sSortDir="asc",f[0].jui2.defaults.param&&a.each(f[0].jui2.defaults.param,function(a,b){i[a]=b}),"string"==typeof c.data){var j=[{role:"icon",icon:"fa-angle-left",event:{click:function(){var a=d.param;a.iDisplayStart/a.iDisplayLength+1>1&&(a.iDisplayStart=+a.iDisplayStart-+a.iDisplayLength),a.iDisplayStart<0&&(a.iDisplayStart=0),d.generateData()}}},{role:"textField",label:"Page","class":c.id+"goto j-table-textfield",event:{keydown:function(a,b){if(13==a.keyCode){var c=d.param;return c.iDisplayStart=Math.abs((b.find("input").val()-1)*c.iDisplayLength),d.generateData(),!1}}}},{text:"","class":"j-table-pageOf"},{role:"icon",icon:"fa-angle-right",event:{click:function(){var a=d.param;a.iDisplayStart/a.iDisplayLength+1<-~(a.iTotalRecords/a.iDisplayLength)&&(a.iDisplayStart=+a.iDisplayStart+ +a.iDisplayLength),d.generateData()}}},{role:"comboField",label:"items per page","class":"j-table-combo",labelposition:"right",items:[{label:"10",value:10},{label:"25",value:25},{label:"50",value:50},{label:"100",value:100},{label:"200",value:200}],event:{select:function(a){var b=d.param;
b.iDisplayLength=a,b.iDisplayStart=0,d.generateData()}}},{role:"icon",icon:"fa-repeat","class":"j-table-refresh",event:{click:function(){d.generateData()}}},"-",{text:"","class":"j-table-items"}];if(c.bottombar)for(var k=0;k<c.bottombar.length;k++)j.splice(5,0,c.bottombar[k]);jui2.bar({parent:a(d[0]).find(".j-table-bottom-toolbar"),"class":"j-status-bar",items:j}),i.sEcho=-1,i.iDisplayLength=c.loadlength||10,i.iDisplayStart=0,i.sSearch="",f.find(".j-table-head thead td .j-table-header-menu").click(function(b){if("j-table-header-resize"!=a(b.target).attr("class")){var c;c=a(b.target).parents(".j-table-header-menu").length>0?a(b.target).parents(".j-table-header-menu").parent().parent():a(b.target).parent().parent(),f[0].jui2.param.sSortDir=i.iSortCol==c.index()&&"asc"==f[0].jui2.param.sSortDir?"desc":"asc",f[0].jui2.param.iSortCol=c.index(),f[0].jui2.generateData()}}),f[0].jui2.generateData()}else{var l=a(jui2.tmpl.tmpl_tableData({data:c.data,columns:c.columns}));h.empty().append(l);var m=0;f.find(".j-table-head tbody td").each(function(b,c){h.children("table").children("colgroup:nth-child("+(b+1)+")").children("col").width(a(c).outerWidth(!0)),m+=parseFloat(a(c).outerWidth(!0))}),d.resizeTable(),h.children("table").width(m),f.find(".j-table-head thead td .j-table-header-menu").click(function(b){if("j-table-header-resize"!=a(b.target).attr("class")){var c;c=a(b.target).parents(".j-table-header-menu").length>0?a(b.target).parents(".j-table-header-menu").parent().parent():a(b.target).parent().parent(),f[0].jui2.param.sSortDir=i.iSortCol==c.index()&&"asc"==f[0].jui2.param.sSortDir?"desc":"asc",f[0].jui2.param.iSortCol=c.index();var d=f.find("> .j-table-body > table > tbody > tr");sortCol=f[0].jui2.param.iSortCol,sortDesc=f[0].jui2.param.sSortDir;var e=!0;d.each(function(b,c){(isNaN(a(c).children().eq(sortCol).text())||""==a(c).children().eq(sortCol).text().trim())&&(e=!1)}),d.sort(function(b,c){var d=a(b).children().eq(sortCol).text(),f=a(c).children().eq(sortCol).text();return d=e?parseFloat(d):d.trim(),f=e?parseFloat(f):f.trim(),0==e?f>d?"asc"==sortDesc?-1:1:d>f?"asc"==sortDesc?1:-1:0:"asc"==sortDesc?d-f:f-d});var g=f.find("> .j-table-body > table > tbody").eq(0);d.each(function(b,c){a(c).appendTo(g)})}})}return c.event.afterRender&&c.event.afterRender(this),h.scroll(function(){g.scrollLeft(this.scrollLeft),h.find(".j-table-sticky").css("left",this.scrollLeft)}),f.find(".j-table-head thead td .j-table-header-menu").each(function(){var b=a(a(this).parents("td")[0]),c=a(this),d=0,e=0,i=f.children(".j-table-ruler");drag(this).axis("x").handle(a(this).children(".j-table-header-resize")[0]).dragging(function(){i.css("left",b.position().left+this.pos.x+f.position().left+13),c.show()}).start(function(){i.height(f.height()).show().css("left",f.position().left+b.position().left+c.position().left+13),d=parseFloat(i.css("left")),e=g.scrollLeft()}).end(function(){c.css("left",""),a(b.parents("table")[0]).width(parseFloat(a(b.parents("table")[0]).width())+(parseFloat(i.css("left"))-d));var j=b.width()+(parseFloat(i.css("left"))-d);b.width(j).children("div").width(j),f[0].jui2.resizeTable(),g.scrollLeft(e),h.scrollLeft(e),i.hide()}).bind()}),0!=c.autorefresh&&(f[0].jui2.interval=window.setInterval(function(){a(f[0]).is(":visible")?f[0].jui2.generateData():window.clearInterval(f[0].jui2.interval)},c.autorefresh)),d},c=jui2.table=function(a){return new b(a)};c.fn=b.prototype,c.fn.disable=function(){},c.fn.enable=function(){},c.fn.close=function(){this[0].hide()},c.fn.destroy=function(){a(this[0]).remove(),this[0]=null},c.fn.resizeTable=function(){var b=this,c=0,d=a(b[0]).children(".j-table-body").children("table");a(b[0]).find(".j-table-head tbody td:not(:last-child)").each(function(b,e){var f=d.children("colgroup:nth-child("+(b+1)+")").children("col"),g=a(e).outerWidth(!0);if(a(e).hasClass("j-table-last-td")){var h=g>=20?parseFloat(g)-20:0;f.width(h),c+=h}else f.width(g),c+=parseFloat(g)}),d.width(c),"auto"!=b.defaults.height&&a(b[0]).children(".j-table-body").height(a(b[0]).height()-a(b[0]).children(".j-table-head").height()-a(b[0]).children(".j-table-top-toolbar").height()-a(b[0]).children(".j-table-bottom-toolbar").height()),a(b[0]).children(".j-table-head").find("thead tr:nth-child(1) td").each(function(c,d){a(b[0]).children(".j-table-body").find("table colgroup:nth-child("+(c+1)+") col").width(a(d).outerWidth())})},c.fn.generateData=function(b){function c(b){if(f.sEcho==b.sEcho){if(g.items=new Array,f.totalPage=+b.iTotalRecords-1,jui2.clearNullFromJson(b.aaData),null!=b.aaData){var c=[];if(b.aaData.length>0){for(zz=0;zz<b.aaData[0].length;zz++)c.push(zz);b.aaData.unshift(c)}}else b.aaData=[];d.aaData=TAFFY(b.aaData);for(l in b)"aaData"!=l&&(f[l]=b[l]);var i=[],k=[];if(a.extend(!0,i,1==g.server?d.aaData().start(0).limit(f.iDisplayLength).get():d.aaData().start(f.iDisplayStart).limit(f.iDisplayLength).get()),a.extend(!0,k,i),g.custom)for(var l=0;l<i.length;l++)for(j in g.custom)k[l][j]=g.custom[j](i[l]);var b=a(jui2.tmpl.tmpl_tableData({id:e.attr("id"),data:k,colCount:g.colCount,drop:g.drop})).width("100%");h.empty().append(b),jui2.create(g.vr.substring(1)),h.children().children().children("tr").children("td").on("dblclick doubletap",function(b){b.preventDefault();var c=a(this),f=a(this).index(),h=c.parent();if(g.editable[f]){h[0].defaultInnerHTML=h.children().clone(!0);var i=h.children().length-1;if("single"==g.editablemode)var j="function"==typeof g.editable[f]?g.editable[f](d.aaData({___id:a(this).parent().attr("pk")}).get()[0]):g.editable[f];else{var j="",k=a(this).parent().attr("pk");a.each(g.editable,function(a,b){j+="function"==typeof b?b(d.aaData({___id:k}).get()[0]):b,j+="<br/>"})}h.empty().append('<td></td><td colspan="'+i+'" style="background:#fff3a1"><div>'+j+"</div></td>").addClass("j-editable"),jui2.button({label:"Save",event:{click:function(){var b=a(h).jui2Serialize();for(l in b)value=b[l];"single"==g.editablemode?g.save(value,f,d.aaData({___id:h.attr("pk")}).get()[0]):g.save(b,f,d.aaData({___id:h.attr("pk")}).get()[0]),h.empty().empty().append(h[0].defaultInnerHTML).removeClass("j-editable")}},parent:h.children().children()[0]}),jui2.button({label:"Cancel",event:{click:function(){h.empty().empty().append(h[0].defaultInnerHTML).removeClass("j-editable")}},parent:h.children().children()[0]}),jui2.create(g.vr.substring(1).trim()),a(a(h.children().children()[0]).children()[0]).attr("tabindex",1).keydown(function(b){return 13==b.which?(a(h.children().children()[0]).children("button:contains(Save)").click(),!1):void 0})}else"function"==typeof g.preview&&e.children(".j-table-preview").html(g.preview(d.aaData[h.index()]))}),h.children().children().children("tr").bind("click",function(){if(!a(this).hasClass("j-editable")){var b=a(this),c=b.find("[type=radio]"),f="j-table-active";b.addClass(f).siblings().removeClass(f),0 in c&&(c[0].checked=!0),g.event.selected&&g.event.selected(d.aaData({___id:b.attr("pk")}).get()[0],b),e.children(".j-table-preview").empty()}}),d.resizeTable(),e.children(".j-table-bottom-toolbar").find(".j-table-textfield input").val(f.iDisplayStart/f.iDisplayLength+1),e.children(".j-table-bottom-toolbar").find(".j-table-pageOf").html("&nbsp;of "+Math.ceil(f.iTotalRecords/f.iDisplayLength)).css("color","#000 !important"),e.children(".j-table-bottom-toolbar").find(".j-table-items").html(f.iTotalRecords+" items"),e.find(".j-table-head thead td div").css("height","auto"),e.find(".j-table-head thead td div .j-table-header-menu div").outerHeight("100%"),e.find(".j-table-head thead td div .j-table-header-menu").outerHeight(e.find(".j-table-head thead td div").height()).css("height","").hide(),d.merge(),g.event.afterdraw&&g.event.afterdraw(d),e.children(".j-table-head").find("thead tr:first-child td").each(function(b,c){a(c).is(":visible")||(e.children(".j-table-head").find("thead tr:first-child td:nth-child("+(a(this).index()+1)+")").hide(),e.children(".j-table-body").find("tbody tr td:nth-child("+(a(this).index()+1)+")").hide(),e.children(".j-table-body").find("colgroup:nth-child("+(a(this).index()+1)+")").hide())}),e.children(".j-table-head").find("thead tr:first-child td").each(function(b,c){e.children(".j-table-body").find("colgroup:nth-child("+(b+1)+")").children("col").outerWidth(a(c).outerWidth(!0))}),e.children(".j-table-body > table:nth-child(1)").width(e.children(".j-table-head").outerWidth()),a.each(g.stickycolumn,function(b,c){e.find(".j-table-body > table:nth-child(1) colgroup:nth-child("+(c+1)+")").clone().appendTo(e.find(".j-table-body > table:nth-child(2)")),e.find(".j-table-body > table:nth-child(1) tr").each(function(b){var d=0 in e.find(".j-table-body > table:nth-child(2) tr:nth-child("+(b+1)+")")&&e.find(".j-table-body > table:nth-child(2) tr:nth-child("+(b+1)+")")||a("<tr></tr>");d.css("height",a(this).outerHeight()),e.find(".j-table-body > table:nth-child(1) tr:nth-child("+(b+1)+") td:nth-child("+(c+1)+")").clone().appendTo(d),0==e.find(".j-table-body > table:nth-child(2) tr:nth-child("+(b+1)+")").length&&d.appendTo(e.find(".j-table-body > table:nth-child(2) tbody"))})});var m=0;e.find(".j-table-body > table:nth-child(2) colgroup col").each(function(){m+=parseInt(a(this)[0].style.width)}),e.find(".j-table-body > table:nth-child(2)").css("width",m),a.each(g.hidden,function(a,b){e.find(".j-table-body > table > tbody > tr > td:nth-child("+(b+1)+")").hide(),e.find(".j-table-head > table > thead > tr > td:nth-child("+(b+1)+")").hide(),e.find(".j-table-body > table > colgroup:nth-child("+(b+1)+")").hide()}),d.resizeTable()}}var d=this,e=a(this[0]),f=d.param,g=d.defaults,h=e.children(".j-table-body");if(b){d.aaData=b;var b=a(jui2.tmpl.tmpl_tableData({data:b,columns:g.columns,colCount:g.colCount,id:e.attr("id"),drop:g.drop}));h.empty().append(b),h.children().children().children("tr").bind("click",function(){if(!a(this).hasClass("j-editable")){var b=a(this),c=b.find("[type=radio]"),f="j-table-active";b.addClass(f).siblings().removeClass(f),0 in c&&(c[0].checked=!0),g.event.selected&&g.event.selected(d.aaData[a(this).children().eq(0).text()],b),e.children(".j-table-preview").empty()}}),h.children().children().children("tr").children("td").on("dblclick doubletap",function(b){b.preventDefault();var c=a(this),f=a(this).index(),h=c.parent();if(g.editable[f]){h[0].defaultInnerHTML=h.children().clone(!0);var j=h.children().length-1;if("single"==g.editablemode)var k="function"==typeof g.editable[f]?g.editable[f](d.aaData[h.index()]):g.editable[f];else{var k="";a.each(g.editable,function(a,b){k+="function"==typeof b?b(d.aaData[h.index()]):b,k+="<br/>"})}h.empty().append('<td></td><td colspan="'+j+'"><div>'+k+"</div></td>").addClass("j-editable"),jui2.button({label:"Save",event:{click:function(){var b=a(h).jui2Serialize();for(i in b)value=b[i];"single"==g.editablemode?g.save(d,value,f,b[a(this).parent().index()],h.index()):g.save(d,b,f,b[a(this).parent().index()],h.index()),h.empty().empty().append(h[0].defaultInnerHTML).removeClass("j-editable")}},parent:h.children().children()[0]}),jui2.button({label:"Cancel",event:{click:function(){h.empty().empty().append(h[0].defaultInnerHTML).removeClass("j-editable")}},parent:h.children().children()[0]}),jui2.create(g.vr.substring(1).trim()),a(a(h.children().children()[0]).children()[0]).attr("tabindex",1).keydown(function(b){return 13==b.which?(a(h.children().children()[0]).find("button:contains(Save)").click(),!1):void 0})}else"function"==typeof g.preview&&e.children(".j-table-preview").html(g.preview(d.aaData[h.index()]))}),d.resizeTable(),g.event.afterdraw&&g.event.afterdraw(d)}else d.loadingMask&&d.loadingMask.destroy&&d.loadingMask.destroy(),d.loadingMask=jui2.loadingMask(d[0]),d.param.sEcho++,g.initial&&0==d.param.sEcho?(f.iDisplayLength=g.initial.iTotalDisplayRecords,c(g.initial),d.loadingMask.destroy()):(f.rand=jui2.random(8,"aA#"),a.getJSON(g.data,f).done(function(a){c(a)}).always(function(){d.loadingMask.destroy()}))},c.fn.showDrop=function(b){var c=this,d=a(b).parent(),e=a(b).find("i"),f="fa-plus-square-o",g="fa-minus-square-o",h=a(b).parent().attr("pk");if(e.hasClass(f)){d.next().attr("pk")||""==d.next().attr("pk")||(d.next().remove(),d.children().find("div > i").removeClass(g).addClass(f)),e.removeClass(f).addClass(g);var i=c.defaults.event,j=a('<tr class="j-table-field-drop-tr"><td colspan="'+d.children().length+'" class="j-table-field-drop">&nbsp;</td></tr>').insertAfter(d);i.drop&&("function"==typeof c.aaData?i.drop(j,c.aaData({___id:h}).get(),a(b).index()):i.drop(j,[c.aaData[d.index()-d.prevAll(".j-table-field-drop-tr").length]],a(b).index()))}else{e.removeClass(g).addClass(f);var i=c.defaults.event;i.hidedrop?"function"==typeof c.aaData&&i.hidedrop(d.next(),c.aaData({___id:h}).get(),a(b).index()):d.next().remove()}c.merge()},c.fn.recreate=function(){var b=this;a(b[0]).removeClass("j-body"),b.defaults.target=b[0],jui2.table(b.defaults)},c.fn.getSelected=function(){var b=this;return"function"==typeof b.aaData?b.aaData({___id:a(b[0]).children(".j-table-body").children().children().children("tr.j-table-active").attr("pk")}).get()[0]:b.aaData[a(b[0]).children(".j-table-body").children().children().children("tr.j-table-active").children().eq(0).text()]},c.fn.merge=function(){var b=this,c=b.defaults.merge,d=a(b[0]).children(".j-table-body").children().children().children("tr");if(d.find(".j-table-merge").removeAttr("rowspan"),c.length>0)for(i in c){var e="",f=0,g="",h=i;d.children("td:nth-child("+(parseInt(c[i])+1)+")").each(function(){e!=a(this).text()?(g.attr&&(d.children("td:nth-child("+(parseInt(c[h])+1)+")").filter(function(){return a(this).text()==e}).not(g).hide().addClass("j-table-merge"),g.attr("rowspan",f).show()),f=1,g=a(this)):f++,e=a(this).text(),a(this).parent().next().children().hasClass("j-table-field-drop")&&(g.attr&&(d.children("td:nth-child("+(parseInt(c[h])+1)+")").filter(function(){return a(this).text()==e}).not(g).hide().addClass("j-table-merge"),g.attr("rowspan",f).show(),g=a(this).parent().next().next().children("td:nth-child("+(parseInt(c[h])+1)+")")),f=1,e="")}),f>1&&(d.children("td:nth-child("+(parseInt(c[h])+1)+")").filter(function(){return a(this).text()==e}).not(g).hide().addClass("j-table-merge"),g.attr("rowspan",f).show())}d.find(".j-table-merge").each(function(b,c){a(c).attr("rowspan")>0&&a(c).show()})},c.fn.settings=function(){var b=this,c=a(b[0]);if(0 in c.children(".j-table-body").children(".j-table-settings"))c.children(".j-table-body").velocity({properties:{height:c.children(".j-table-body").children("table").outerHeight()},options:{duration:250}}),c.children(".j-table-body").children(".j-table-settings").velocity("transition.slideDownOut",{complete:function(){a(this).remove()}}),c.children(".j-table-body").children().velocity("transition.slideUpIn",{complete:function(){c.children(".j-table-body").find("table tr:first-child > td > div").each(function(b,d){c.children(".j-table-head").find("table tr:first-child td:nth-child("+(b+1)+") > div").outerWidth(a(d).width())}),c.children(".j-table-body").children().width(c.children(".j-table-head").width()-c.children(".j-table-head").find("thead tr:first-child td:last-child").width()),c.find(".j-table-body table.j-body").outerWidth(c.find(".j-table-head table").outerWidth())}});else{var d="";c.children(".j-table-head").find("thead tr:first-child td:not(:last-child)").each(function(b,c){if(a(c).is(":visible"))var e="checked";d+='<input type="checkbox" class="j-table-setting-column" id="check'+b+'" name="check'+b+'" value="'+a(c).text()+'" '+e+'><label for="check'+b+'">'+a(c).text()+"</label>"}),c.children(".j-table-body").append('<div class="j-table-settings" style="position:absolute;top:0px;">'+d+"</div>").velocity("transition.slideUpIn"),c.children(".j-table-body").height(c.children(".j-table-body").outerHeight()),c.children(".j-table-body").velocity({properties:{height:c.children(".j-table-body").children(".j-table-settings").outerHeight()},options:{duration:250}}),c.children(".j-table-body").children(".j-table-settings").find(".j-table-setting-column").on("change",function(){a(this).is(":checked")?(c.children(".j-table-head").find("thead tr:first-child td:nth-child("+(Math.floor(a(this).index()/2)+1)+")").show(),c.children(".j-table-body").find("tbody tr td:nth-child("+(Math.floor(a(this).index()/2)+1)+")").show(),c.children(".j-table-body").find("colgroup:nth-child("+(Math.floor(a(this).index()/2)+1)+")").show()):(c.children(".j-table-head").find("thead tr:first-child td:nth-child("+(Math.floor(a(this).index()/2)+1)+")").hide(),c.children(".j-table-body").find("tbody tr td:nth-child("+(Math.floor(a(this).index()/2)+1)+")").hide(),c.children(".j-table-body").find("colgroup:nth-child("+(Math.floor(a(this).index()/2)+1)+")").hide())}),c.children(".j-table-body").children("table").velocity("transition.slideDownOut")}},c.fn.expand=function(){var b=a(this[0]),c=this;"fixed"!=b.css("position")?(c.tmp={width:b.css("width"),height:b.css("height"),top:b.offset().top,left:b.offset().left},b.css({background:"rgba(0, 0, 0, 0.3)","z-index":jui2.findHighestZIndex()+1,position:"fixed",width:b.css("width"),height:b.css("height")}).velocity({properties:{width:"100%",height:"100%",top:0,left:0},options:{duration:250}}),b.find(".fa-expand").removeClass("fa-expand").addClass("fa-compress"),c.generateData()):(b.velocity({properties:{width:c.tmp.width,height:c.tmp.height,top:c.tmp.top,left:c.tmp.left},options:{duration:250,complete:function(){a(this).attr("style","width:auto;height:auto;")}}}),b.find(".fa-compress").removeClass("fa-compress").addClass("fa-expand"),c.generateData())},a(window).scroll(function(){a('[role="table"] > .j-table-body').each(function(){var b=a(this);if(0!=jui2.data.followHeadShow)if(b.offset().top-a(window).scrollTop()<jui2.data.followHeadShow&&!jui2.isInView(b.next())){if("fixed"!=b.prev().css("position")){var c=b.prev();c.css({width:c.outerWidth(),top:jui2.data.followHeadShow,position:"fixed","z-index":jui2.findHighestZIndex()+1,"overflow-x":"auto"}),c.on("scroll",function(){b.scrollLeft(c[0].scrollLeft)})}}else if(b.next().offset().top-a(window).scrollTop()<jui2.data.followHeadShow||b.prev().prev().offset().top-a(window).scrollTop()>jui2.data.followHeadShow){var c=b.prev();c.css({width:c.prev().outerWidth(),top:"",position:"relative","z-index":"","overflow-x":"hidden"})}})})}(jQuery),function(a){jui2.tableExport=jui2.class.tableExport=P(jui2.class.button,function(b,c){b.init=function(b){return b=a.extend({},this.defaults,{targetTable:"",filename:"Export",type:"excel",ignoreColumn:[],ignoreRow:[],event:{}},b),b.event={click:function(a){return ignoreColumn="function"==typeof b.ignoreColumn?b.ignoreColumn():b.ignoreColumn,ignoreRow="function"==typeof b.ignoreRow?b.ignoreRow():b.ignoreRow,jui2.util.export.office(b.targetTable,b.filename,b.type,ignoreColumn,ignoreRow),a}},c.init.call(this,b)}})}(jQuery),function(a){var b=function(b){var c={id:"j-no-id"},d=this;a.extend(!0,c,b);var e=a(c.target?"string"==typeof c.target?"#"+c.target:c.target:"#"+c.id);if(e.hasClass("j-body"))return e[0].jui2;b=b||{};var c={id:"j-"+jui2.random(8,"aA#"),disabled:!1,event:{}};a.extend(!0,c,b);var f=a(jui2.tmpl.tmpl_text(c));return 0 in e&&e.replaceWith(f)||c.parent&&a(c.parent).append(f)||a("body").append(f),d[0]=f,d.length=1,d},c=jui2.text=function(a){return new b(a)};c.fn=b.prototype,c.fn.disable=function(){var a=this[0],b="j-disabled";a.hasClass(b)||(a.addClass(b),a.data().events&&(a.data().events._click=a.data().events.click,a.data().events.click=null))},c.fn.enable=function(){var a=this[0],b="j-disabled";a.hasClass(b)&&(a.removeClass(b),a.data().events&&(a.data().events.click=a.data().events._click,a.data().events._click=null))}}(jQuery),function(a){var b=function(b){var c={id:"j-no-id"},d=this;a.extend(!0,c,b);var e=a(c.target?"string"==typeof c.target?"#"+c.target:c.target:"#"+c.id);if(e.hasClass("j-body"))return e[0].jui2;b=b||{};var c={id:"j-"+jui2.random(8,"aA#"),disabled:!1,event:{},width:232,height:102,wysiwyg:!0};a.extend(!0,c,b);var f=a(jui2.tmpl.tmpl_textArea(c));if(0 in e&&e.replaceWith(f)||c.parent&&a(c.parent).append(f)||a("body").append(f),f[0].jui2=d,d.editor=f.find("iframe")[0].contentWindow,d.editor.document.open(),d.editor.document.close(),d.editor.document.designMode="on",c.wysiwyg){var g=a("<div>"),h=["fa-bold","fa-italic","fa-underline","fa-superscript","fa-subscript","fa-strikethrough","fa-list-ol","fa-list"],j=["B","I","U","SUP","SUB","STRIKE","OL","UL"],k=[["bold",!1,""],["italic",!1,""],["underline",!1,""],["superscript",0,0],["subscript",0,0],["strikethrough",0,0],["insertorderedlist",0,0],["insertunorderedlist",0,0]],l=a("<div>"),m=f.find(".j-textArea-symbols");for(i in h)"function"!=typeof h[i]&&a('<button role="button" class="j-button j-body j-border j-button-grey j-editor-'+j[i]+'" onclick="jui2(\'#'+c.id+"')[0].command('"+k[i][0]+"', "+k[i][1]+", '"+k[i][2]+'\')"><i class="fa '+h[i]+'"></i><span></span></button>').appendTo(g);a('<button role="button" class="j-button j-body j-border j-button-grey j-editor-LINK"><i class="fa fa-link"></i><span></span></button>').click(function(){var a=prompt("Enter URL:","http://");d.editor.document.execCommand("CreateLink",!1,a),d.editor.focus()}).appendTo(g),a('<button role="button" class="j-button j-body j-border j-button-grey j-editor-UNLINK"><i class="fa fa-unlink"></i><span></span></button>').click(function(){d.editor.document.execCommand("unlink"),d.editor.focus()}).appendTo(g),a('<button role="button" class="j-button j-body j-border j-button-grey j-textArea-button-symbols"><i class="fa fa-dollar"></i><span></span></button>').click(function(){m.is(":visible")?m.hide():(m.show(),f[0].jui2.tether.position())}).appendTo(g),a('<button role="button" class="j-button j-body j-border j-button-grey"><span>&deg;</span></button>').click(function(){d.command("insertHTML",!1,"&deg;"),m.hide()}).appendTo(l),a('<button role="button" class="j-button j-body j-border j-button-grey"><span>&#937;</span></button>').click(function(){d.command("insertHTML",!1,"&Omega;"),m.hide()}).appendTo(l),a('<button role="button" class="j-button j-body j-border j-button-grey"><span>&#956;</span></button>').click(function(){d.command("insertHTML",!1,"&mu;"),m.hide()}).appendTo(l),a('<button role="button" class="j-button j-body j-border j-button-grey"><span>&#8805;</span></button>').click(function(){d.command("insertHTML",!1,"&ge;"),m.hide()}).appendTo(l),a('<button role="button" class="j-button j-body j-border j-button-grey"><span>&#8804;</span></button>').click(function(){d.command("insertHTML",!1,"&le;"),m.hide()}).appendTo(l),a('<button role="button" class="j-button j-body j-border j-button-grey"><span>&#8734;</span></button>').click(function(){d.command("insertHTML",!1,"&infin;"),m.hide()}).appendTo(l),a('<button role="button" class="j-button j-body j-border j-button-grey"><span>&#177;</span></button>').click(function(){d.command("insertHTML",!1,"&#177;"),m.hide()}).appendTo(l),a('<button role="button" class="j-button j-body j-border j-button-grey"><span>&Sigma;</span></button>').click(function(){d.command("insertHTML",!1,"&#931;"),m.hide()}).appendTo(l),a('<button role="button" class="j-button j-body j-border j-button-grey"><span>&euro;</span></button>').click(function(){d.command("insertHTML",!1,"&#8364;"),m.hide()}).appendTo(l),a('<button role="button" class="j-button j-body j-border j-button-grey"><span>&oslash;</span></button>').click(function(){d.command("insertHTML",!1,"&oslash;"),m.hide()}).appendTo(l),l.children().unwrap().appendTo(m),g.children().unwrap().appendTo(f.find(".j-textArea-top-toolbar"))}return f.find(".j-textArea-top-toolbar").find(".j-editor-B, .j-editor-I, .j-editor-U, .j-editor-STRIKE").wrapAll('<div class="j-group"></div>'),f.find(".j-textArea-top-toolbar").find(".j-editor-SUP, .j-editor-SUB").wrapAll('<div class="j-group"></div>'),f.find(".j-textArea-top-toolbar").find(".j-editor-OL, .j-editor-UL").wrapAll('<div class="j-group"></div>'),f.find(".j-textArea-top-toolbar").find(".j-editor-LINK, .j-editor-UNLINK").wrapAll('<div class="j-group"></div>'),f[0].jui2.tether=jui2.pin({element:m,target:f.find(".j-textArea-button-symbols"),attachment:"top left",targetAttachment:"bottom left"}),m.hide(),a(f.find("iframe")[0].contentWindow.document.body).on("click",function(){d.editor.document.getSelection&&(f.sel=d.editor.document.getSelection(),f.sel.getRangeAt&&f.sel.rangeCount&&(f.range=f.sel.getRangeAt(0))),f.find(".j-textArea-top-toolbar button").addClass("j-button-grey").removeClass("j-buton-blue"),f.find(".j-editor-"+f.sel.anchorNode.parentElement.tagName).removeClass("j-button-grey").addClass("j-buton-blue"),a(f.sel.anchorNode.parentElement).parents().each(function(){f.find(".j-editor-"+this.tagName).removeClass("j-button-grey").addClass("j-buton-blue")})}).on("keyup",function(){d.editor.document.getSelection&&(f.sel=d.editor.document.getSelection(),f.sel.getRangeAt&&f.sel.rangeCount&&(f.range=f.sel.getRangeAt(0))),f.find(".j-textArea-top-toolbar button").addClass("j-button-grey").removeClass("j-buton-blue"),f.find(".j-editor-"+f.sel.anchorNode.parentElement.tagName).removeClass("j-button-grey").addClass("j-buton-blue"),a(f.sel.anchorNode.parentElement).parents().each(function(){f.find(".j-editor-"+this.tagName).removeClass("j-button-grey").addClass("j-buton-blue")})}).append(c.value),f.find(".j-textArea-editor").on("mouseup",function(){var b=f.parent(),c=0;b.children().each(function(b,d){c=c<parseInt(a(d).outerWidth(!0))?parseInt(a(d).outerWidth(!0)):c}),b.width(c)}),d[0]=f[0],d.length=1,a(d.editor.document.body).css("overflow","auto"),a(d.editor.document.body).on("paste",function(){setTimeout(function(){var b=d.editor.document.getSelection().getRangeAt(0),c=b.startContainer,e=b.endContainer,f=b.startOffset,g=b.endOffset;a(d.editor.document.body).html(a(d.editor.document.body).html().replace(/<table(?:.|\n)*?>/gi,"").replace(/<\/table>/gi,"").replace(/<tr(?:.|\n)*?>/gi,"").replace(/<\/tr>/gi,"<br/>").replace(/<td(?:.|\n)*?>/gi,"").replace(/<\/td>/gi,"").replace(/<thead(?:.|\n)*?>/gi,"").replace(/<\/thead>/gi,"").replace(/<span(?:.|\n)*?>/gi,"").replace(/<\/span>/gi,"").replace(/<colgroup(?:.|\n)*?>/gi,"").replace(/<\/colgroup>/gi,"").replace(/<col(?:.|\n)*?>/gi,"").replace(/<\/col>/gi,"").replace(/<h(?:.|\n)*?>/gi,"").replace(/<\/h(?:.|\n)*?>/gi,"").replace(/<style(?:.|\n)*?>/gi,"").replace(/<\/style(?:.|\n)*?>/gi,"").replace(/<p(?:.|\n)*?>/gi,"").replace(/<\/p(?:.|\n)*?>/gi,"<br/>").replace(/<ul(?:.|\n)*?>/gi,"").replace(/<\/ul(?:.|\n)*?>/gi,"").replace(/<li(?:.|\n)*?>/gi,"").replace(/<\/li(?:.|\n)*?>/gi,"").replace(/<tbody(?:.|\n)*?>/gi,"").replace(/<\/tbody>/gi,"").replace(/&nbsp;/g," ").replace(/\s\s+/g," ").replace(/(^<br>|<br>$)/g,"")),b.setStart(c,f),b.setEnd(e,g)},250)}),d},c=jui2.textArea=function(a){return new b(a)};c.fn=b.prototype,c.fn.command=function(a,b,c){this.editor.document.execCommand(a,b||!1,c||""),this.editor.focus()},c.fn.disable=function(){a(this[0]).find(".j-textArea-editor").find("iframe")[0].contentWindow.document.designMode="off"},c.fn.enable=function(){a(this[0]).find(".j-textArea-editor").find("iframe")[0].contentWindow.document.designMode="on"},c.fn.val=function(b){a(this[0]).find(".j-textArea-editor");return b&&a(this.editor.document.body).html(b),he.encode(""!=a(this.editor.document.body).html().trim()&&"<br>"!=a(this.editor.document.body).html().trim()?jui2.cleanWordPaste(a(this.editor.document.body).html().trim()):"",{allowUnsafeSymbols:!1}).replace("&#x2010;","-").replace("&#x2013;","-").replace("&#x9;","").replace(/&nbsp;/g," ").replace(/\s\s+/g," ").replace(/(^<br>|<br>$)/g,"")},c.fn.reset=function(){a(this.editor.document.body).html("")},c.fn.close=function(){this[0].hide()},c.fn.destroy=function(){a(this[0]).remove(),this[0]=null}}(jQuery),function(a){jui2.class.textField=P(jui2.class.widget,function(b,c){b.init=function(b){return b=a.extend({},this.defaults,{template:"tmpl_textField",icon:"",label:"",disabled:!1,required:!1},b),b.events=a.extend({},{keydown:function(a){return b.event&&b.event.keydown&&a.keydown(function(c){b.event.keydown(c,a)}),a},require:function(a){return 0!=b.required&&(b.disabled||a.find("input:first-child").blur(function(){""==a.find("input:last-child").val()?a.find("input:last-child").parent().addClass("jn-border-danger"):a.find("input:last-child").parent().removeClass("jn-border-danger")})),a},afterrender:function(a){return 0==a.find("label").length&&a.css("width","150px"),a}},b.events),c.init.call(this,b)},b.render=function(a){return this.defaults.format&&jui2.keycodes.bind(a.find("input"),this.defaults.format),c.render.call(this,a)},b.val=function(b){return b&&a(this[0]).find("input").val(b),a(this[0]).find("input").val()},b.reset=function(){a(this[0]).find("input").val("")}}),jui2.textField=jui2.class.textField}(jQuery),function(a){jui2.numberField=jui2.class.numberField=P(jui2.class.textField,function(b,c){b.init=function(b){return b=a.extend({},this.defaults,{format:"tab,backspace,escape,.,[0,9],delete,[96,111],enter"},b),c.init.call(this,b)}})}(jQuery),function(a){jui2.passwordField=jui2.class.passwordField=P(jui2.class.textField,function(b,c){b.init=function(b){return b=a.extend({},this.defaults,{template:"tmpl_passwordField"},b),c.init.call(this,b)}})}(jQuery),function(a){jui2.timeField=jui2.class.timeField=P(jui2.class.textField,function(b,c){b.init=function(b){b=a.extend({},this.defaults,{template:"tmpl_timeField",event:{}},b);var d=this;return b.events=a.extend({},{require:function(a){return 0!=b.required&&!b.disabled,a},afterrender:function(b){return jui2.keycodes.bind(b.find("input"),"esc,tab,delete,backspace,[0,9],[96,111]"),b.find("input").eq(0).blur(function(){a(this).val()>23&&a(this).val(23),a(this).val()<0&&a(this).val(0),a(this).val(("00"+a(this).val()).substr(2+a(this).val().length-2))}),b.find("input").eq(1).blur(function(){(a(this).val()>59||a(this).val()<0)&&a(this).val(0),a(this).val(("00"+a(this).val()).substr(2+a(this).val().length-2))}),b},keydown:function(a){return b.event.keydown&&a.find("input").keydown(function(a){b.event.keydown(a,d)}),a}},b.events),c.init.call(this,b)},b.val=function(b){return $el=a(this[0]).find("input"),b&&($el.eq(0).val(b.split(":")[0]),$el.eq(1).val(b.split(":")[1])),$el.eq(0).val()+":"+$el.eq(1).val()}})}(jQuery),function(a){var b=function(b){var c={id:"j-no-id"},d=this;a.extend(!0,c,b);var e=a(c.target?"string"==typeof c.target?"#"+c.target:c.target:"#"+c.id);if(e.hasClass("j-body"))return e[0].jui2;b=b||{};var c={id:"j-"+jui2.random(8,"aA#"),label:"",data:"",disabled:!1,event:{},scaleWidth:100,labelWidth:100,param:{}};a.extend(!0,c,b);var f=a(jui2.tmpl.tmpl_timeLine(c));return 0 in e&&e.replaceWith(f)||c.parent&&a(c.parent).append(f)||a("body").append(f),d.defaults=c,d.ev={},f[0].jui2=d,d[0]=f[0],d.length=1,d.loadData(),d},c=jui2.timeLine=function(a){return new b(a)};c.fn=b.prototype,c.fn.loadData=function(){var b=this;b.loadingMask=jui2.loadingMask(b[0]);b.defaults.param;a.getJSON(b.defaults.data).done(function(c){c.scaleWidth=b.defaults.scaleWidth,c.labelWidth=b.defaults.labelWidth,c.id=b.defaults.id,c.title=b.defaults.title,c.label=b.defaults.label;var d=a(jui2.tmpl.tmpl_timeLine(c));a(b[0]).replaceWith(d),b[0]=d[0],a(d[0]).find(".j-timeline-bar").css("top",a(d[0]).find(".j-timeline-title").outerHeight()+a(d[0]).find(".j-timeline-scale").outerHeight()),a(d[0]).find(".j-timeline-data span.j-button").filter(function(){return""==a(this).text().trim()}).remove();a(d[0]).find(".j-timeline-data span").each(function(b,c){var d=a(c);jui2.popover({body:d.attr("data-body"),title:d.text(),parent:c})}),a(d[0]).find(".j-timeline-scale section").each(function(b,c){a(c).css("height",24+a(c).parent().next().outerHeight(!0))}),d[0].jui2=b}).always(function(){b.loadingMask.destroy()})},jui2.extend(jui2.component,c),jui2.modul.timeLine=c,c.fn.showTaskName=function(b){a(b).parent().prev().toggle(),a(b).parent().next().toggle(),a(this[0]).find(".j-timeline-scale section").each(function(b,c){a(c).css("height",24+a(c).parent().next().outerHeight(!0))})}}(jQuery),function(a){var b=function(b){var c={id:"j-no-id"},d=this;
a.extend(!0,c,b);a(c.target?"string"==typeof c.target?"#"+c.target:c.target:"#"+c.id);b=b||{};var c={id:"j-"+jui2.random(8,"aA#"),disabled:!1,event:{},server:!1};a.extend(!0,c,b),c.server&&(c.url=c.content,c.content=""),d.defaults=c,d.defaults.show="",a(c.target).each(function(b,e){a(e)[0].jui2=a(e)[0].jui2||{},a(e).bind("mouseover",function(){setTimeout(function(){a(e).is(":hover")&&(a(e)[0].jui2.show||(d.output=a(jui2.tmpl.tmpl_tooltip(c)),c.event.onshow&&c.event.onshow(d,a(e)),a("body").append(d.output),c.server?a.ajax({url:c.url}).done(function(a){d.output.find(".j-tooltip-content").empty().append(a),d.output[0].tether.position()}):d.output.find(".j-tooltip-content").empty().append(c.content),d.output[0].tether=jui2.pin({element:d.output,target:a(e),attachment:"bottom horizontalcenter",targetAttachment:"top horizontalcenter"}),d.output.css("z-index",jui2.findHighestZIndex()+1),a(e).bind("mouseout",function(){setTimeout(function(){a(e).is(":hover")||(d.output.remove(),a(e)[0].jui2.show=!1)},250)})),a(e)[0].jui2.show=!0)},250)})})},c=jui2.tooltip=function(a){return new b(a)};c.fn=b.prototype,c.fn.setContent=function(a,b){b=this.defaults,b.content=a,b.server&&(b.url=a,b.content="Loading...")}}(jQuery),function(a){var b=function(b){var c={id:"j-no-id"},d=this;a.extend(!0,c,b);var e=a(c.target?"string"==typeof c.target?"#"+c.target:c.target:"#"+c.id);if(e.hasClass("j-body"))return e[0].jui2;b=b||{};var c={id:"j-"+jui2.random(8,"aA#"),disabled:!1,event:{},width:"150px",columns:[],server:!1,hidden:[],data:"",root:!1};a.extend(!0,c,b);var f=a(jui2.tmpl.tmpl_tree(c));f[0].jui2=d,d[0]=f[0],d.length=1,f[0].jui2.defaults=c,0 in e&&e.replaceWith(f)||c.parent&&a(c.parent).append(f)||a("body").append(f);var g=f[0].jui2.param={};if(g.sEcho=-1,g.iDisplayLength=10,g.iDisplayStart=0,g.iSortCol_0=0,g.sSearch="",g.sSortDir_0="",c.root){var h=a(jui2.tmpl.tmpl_treeData({data:[[c.rootname,c.data]]}));f.empty().append(h),h.children("i").click(function(){""==a(this).next().next().text()?(a(this).removeClass("fa-plus-square-o").addClass("fa-minus-square-o"),jui2.tree({"class":"j-tree-children",data:a(this).attr("data"),server:!0,parent:a(this).next().next(),event:c.event})):(a(this).removeClass("fa-minus-square-o").addClass("fa-plus-square-o"),a(this).next().next().text(""))}),h.children(".j-tree-head").click(function(){c.event.click&&c.event.click()})}else f[0].jui2.generateData();return d},c=jui2.tree=function(a){return new b(a)};c.fn=b.prototype,c.fn.disable=function(){},c.fn.enable=function(){},c.fn.close=function(){this[0].hide()},c.fn.destroy=function(){a(this[0]).remove(),this[0]=null},c.fn.generateData=function(){var b=this,c=a(this[0]),d=b.param,e=b.defaults;b.loadingMask=jui2.loadingMask(b[0]),b.param.sEcho++,a.getJSON(e.data,d).done(function(f){if(d.sEcho==f.sEcho){e.items=new Array,d.totalPage=+f.iTotalRecords-1,jui2.clearNullFromJson(f.aaData),f.aaData=jui2.arrayToJson(f.aaData),b.aaData=TAFFY(f.aaData);for(i in f)"aaData"!=i&&(d[i]=f[i]);var g=[],h=[];if(a.extend(!0,g,b.aaData().get()),a.extend(!0,h,g),e.custom)for(var i=0;i<g.length;i++)for(j in e.custom)h[i][j]=e.custom[j](g[i]);var f=a(jui2.tmpl.tmpl_treeData({data:h}));c.empty().append(f),f.children(".j-tree-head").click(function(){e.event.click&&e.event.click(b,b.aaData({___id:a(this).attr("data")}).get()[0])}),f.children("i").click(function(){var c=this,d=a(c);if(""==d.next().next().text()){d.removeClass("fa-plus-square-o").addClass("fa-minus-square-o");{e.childrenurl?e.childrenurl(b.aaData({___id:d.next().attr("pk")}).get()[0]):d.attr("data")}jui2.tree({"class":"j-tree-children",data:d.attr("data"),server:!0,parent:d.next().next(),event:e.event})}else d.removeClass("fa-minus-square-o").addClass("fa-plus-square-o"),d.next().next().text("")})}}).always(function(){b.loadingMask.destroy()})}}(jQuery),function(a){var b=function(b){var c={id:"j-no-id"},d=this;a.extend(!0,c,b);var e=a(c.target?"string"==typeof c.target?"#"+c.target:c.target:"#"+c.id);if(e.hasClass("j-body"))return e[0].jui2;b=b||{};var c={id:"j-"+jui2.random(8,"aA#"),disabled:!1,event:{}};a.extend(!0,c,b);var f=a(jui2.tmpl.tmpl_uploadField(c));return 0 in e&&e.replaceWith(f)||c.parent&&a(c.parent).append(f)||a("body").append(f),c.format&&jui2.keycodes.bind(f.find("input"),c.format),c.event.keydown&&f.find("input").keydown(function(a){c.event.keydown(a,d)}),f[0].jui2=d,d[0]=f[0],d.length=1,d.defaults=c,d},c=jui2.uploadField=function(a){return new b(a)};c.fn=b.prototype,c.fn.val=function(b){return $el=a(this[0]).find("input"),b&&$el.val(b),$el.val()},c.fn.val=function(){return $el=a(this[0]).find("input"),$el[0].files},c.fn.reset=function(){return a(this[0]).find("input").val(""),this},jui2.extend(jui2.component,c,["click"])}(jQuery),function(a){jui2.class.window=P(jui2.class.widget,function(b,c){b.init=function(b){var d=this;return b=a.extend({},this.defaults,{template:"tmpl_window",disabled:!1,title:"",width:"500px",height:"200px",position:!1},b),b.events={afterrender:function(c){return d.defaults.topbar?jui2.class.bar({items:d.defaults.topbar,target:d.prepared.children(".jn-header"),"class":"jn-header"}):d.prepared.children(".jn-header").hide(),d.defaults.event.afterrender&&d.defaults.event.afterrender(d),d.drag=new Draggabilly(c[0],{handle:".jn-title"}).on("dragMove",function(b,c){a(b.element).hasClass("jn-window-max")&&(a(b.element).css("z-index",jui2.findHighestZIndex()),a(b.element).removeClass("jn-window-max")[0].style.top=c.clientY-40,b.element.style.left=c.clientX-a(b.element).prop("data-width")/2+"px",d.drag.startPosition.x=c.clientX-a(b.element).prop("data-width")/2,d.drag.startPosition.y=c.clientY-40)}),c.children(".jn-title").dblclick(function(b){a(b.target).hasClass("jn-pointer")||0!=a(b.target).parents(".jn-pointer").length||a(this).parent().hasClass("jn-window-max")?a(this).parent().removeClass("jn-window-max").css({top:a(this).parent().prop("data-y"),left:a(this).parent().prop("data-x")}):d.maximize(c)}),c.children(".jn-title").children(".jn-window-close").click(function(){d.destroy()}),c.children(".jn-title").children(".jn-window-minimize").click(function(){0==a(".jn-main-footer").length&&(c.children(".jn-window-body").hide(),c.children(".jn-header").hide(),c.removeClass("jn-window-max"),c.width("150px").height("auto").css({bottom:0,top:""}),d.drag.disable())}),c.children(".jn-title").children(".jn-window-expand").click(function(){a(this).parent().parent().hasClass("jn-window-max")?c.removeClass("jn-window-max").css({top:c.prop("data-y"),left:c.prop("data-x")}):d.maximize(c)}),b.position?c.css({top:b.position.top,left:b.position.left}):c.center(),c}},c.init.call(this,b)},b.maximize=function(a){a.hasClass("jn-window-minimize")?a.removeClass("jn-window-minimize"):(a.prop("data-x",a.css("left")),a.prop("data-y",a.css("top")),a.prop("data-width",a.outerWidth()),a.prop("data-height",a.outerHeight())),a.addClass("jn-window-max"),a.css("z-index",jui2.findHighestZIndex()),a.children(".jn-window-body").show(),this.drag.enable(),a.css("bottom","")}})}(jQuery),function(a){var b=function(b){var c={id:"j-no-id"},d=this;a.extend(!0,c,b);var e=a(c.target?"string"==typeof c.target?"#"+c.target:c.target:"#"+c.id);if(e.hasClass("j-body"))return e[0].jui2;b=b||{};var c={id:"j-"+jui2.random(8,"aA#"),title:"",icon:"",disabled:!1,event:{},taskbar:!1};a.extend(!0,c,b);var f=a(jui2.tmpl.tmpl_windowPanel(c));return 0 in e&&e.replaceWith(f)||c.parent&&a(c.parent).append(f)||a("body").append(f),"function"==typeof c.event.click&&f.click(c.event.click),d.defaults=c,f[0].jui2=d,d[0]=f[0],d.length=1,d},c=jui2.windowPanel=function(a){return new b(a)};c.fn=b.prototype,c.fn.minimize=function(){var b=this,c=this[0].jui2.defaults;c.taskbar&&(jui2.button({label:c.title,parent:a(c.taskbar),event:{click:function(c){a(b[0]).show(),c.destroy()}}}),a(this[0]).hide())},c.fn.destroy=function(){a(this[0]).remove(),this[0]=null}}(jQuery),function(a){var b=function(b){var c={id:"j-no-id"},d=this;a.extend(!0,c,b);var e=a(c.target?"string"==typeof c.target?"#"+c.target:c.target:"#"+c.id);if(e.hasClass("j-body"))return e[0].jui2;b=b||{};var c={id:"j-"+jui2.random(8,"aA#"),disabled:!1,event:{},parent:"body",year:+moment().format("YYYY")};a.extend(!0,c,b);var f=a(jui2.tmpl.tmpl_yearPicker(c));return jui2.bar({parent:f.find(".j-yearPicker-top-toolbar"),"class":"j-bg-inherit",items:["-",{role:"button",icon:"fa-chevron-left","class":"j-bg-inherit j-border-inherit",event:{click:function(){f[0].jui2.changeYear(-10)}}},"-",{role:"button",icon:"fa-chevron-right","class":"j-bg-inherit j-border-inherit",event:{click:function(){f[0].jui2.changeYear(10)}}},"-"]}),d.value=c.year,f[0].jui2=d,$td=f.find("tbody td"),$td.click(function(){var b=a(this),c="j-yearPicker-selected";f[0].jui2.value=b.text(),$td.removeClass(c),b.addClass(c)}),0 in e&&e.replaceWith(f)||c.parent&&a(c.parent).append(f)||a("body").append(f),d[0]=f[0],d.length=1,d},c=jui2.yearPicker=function(a){return new b(a)};c.fn=b.prototype,c.fn.disable=function(a){a=this,a.overlay=!a.overlay&&jui2.overlay({overlayTarget:a[0]})},c.fn.enable=function(a){a=this,a.overlay&&(a.overlay.destroy(),a.overlay=null)},c.fn.changeYear=function(b){var c=a(this[0]).find("tbody td"),d=this,e="j-yearPicker-selected";c.removeClass(e),c.each(function(){var c=a(this);c.text(+c.text()+b),c.text()==d.value&&c.addClass(e)})},c.fn.close=function(){a(this[0]).hide()},c.fn.destroy=function(){a(this[0]).remove()}}(jQuery),function($){jui2.adapter={};var adp=jui2.adapter;adp.panel=function(a,b){$(b+"[jui2=true][role=panel]").each(function(){var c={};c.content=$(this).html(),$.each(this.attributes,function(b,d){c[d.name]="event"==d.name?a[d.value]:d.value}),c.vr=b,c.target=this,jui2.panel(c)})},adp.table=function(vr,selector){$(selector+"table[jui2=true][role=table]").each(function(){var data={};$.each(this.attributes,function(i,val){data[val.name]=["drop","server","jui2","hidden","merge","stickycolumn"].indexOf(val.name)>-1?eval(val.value):["event","bottombar","topbar","custom","preview","editable","save","param","initial"].indexOf(val.name)>-1?vr[val.value]:val.value}),data.server||(data.data=eval(data.data)),data.vr=selector,data.colCount=$(this).find("tbody td").length,data.columns=[],$(this).find("thead tr").each(function(a){data.columns[a]=[],$(this).find("td").each(function(){var b=$(this);data.columns[a].push({text:b.html(),colspan:b.attr("colspan")?b.attr("colspan"):0,rowspan:b.attr("rowspan")?b.attr("rowspan"):0,width:b.attr("width")?b.attr("width"):"auto"})})}),data.target=this,jui2.table(data)})},adp.slimTable=function(vr,selector){$(selector+"table[jui2=true][role=slimTable]").each(function(){var data={};$.each(this.attributes,function(i,val){data[val.name]=["drop","server","jui2","hidden","merge","stickycolumn"].indexOf(val.name)>-1?eval(val.value):["event","bottombar","topbar","custom","preview","editable","save"].indexOf(val.name)>-1?vr[val.value]:val.value}),data.server?data.url=data.data:data.data=eval(data.data),data.vr=selector,data.colCount=$(this).find("tbody td").length,data.columns=[],$(this).find("thead tr").each(function(a){data.columns[a]=[],$(this).find("td").each(function(){var b=$(this);data.columns[a].push({text:b.html(),colspan:b.attr("colspan")?b.attr("colspan"):0,rowspan:b.attr("rowspan")?b.attr("rowspan"):0,width:b.attr("width")?b.attr("width"):"auto"})})}),data.target=this,jui2.slimTable(data)})},adp.tree=function(vr,selector){$(selector+"ul[jui2=true][role=tree]").each(function(){var data={};$.each(this.attributes,function(i,val){data[val.name]=["server","jui2","root"].indexOf(val.name)>-1?eval(val.value):["event"].indexOf(val.name)>-1?vr[val.value]:val.value}),data.vr=selector,data.target=this,jui2.tree(data)})},adp.textField=function(vr,selector){$(selector+"[jui2=true][role=textField]").each(function(){var data={};$.each(this.attributes,function(i,val){data[val.name]="event"==val.name?vr[val.value]:val.value,"required"==val.name&&(data[val.name]=eval(val.value))}),data.vr=selector,data.target=this,jui2.textField(data)})},adp.numberField=function(vr,selector){$(selector+"[jui2=true][role=numberField]").each(function(){var data={};$.each(this.attributes,function(i,val){data[val.name]="event"==val.name?vr[val.value]:val.value,"required"==val.name&&(data[val.name]=eval(val.value))}),data.vr=selector,data.target=this,jui2.numberField(data)})},adp.timeField=function(a,b){$(b+"[jui2=true][role=timeField]").each(function(){var c={};$.each(this.attributes,function(b,d){c[d.name]="event"==d.name?a[d.value]:d.value}),c.vr=b,c.target=this,jui2.timeField(c)})},adp.uploadField=function(a,b){$(b+"[jui2=true][role=uploadField]").each(function(){var c={};$.each(this.attributes,function(b,d){c[d.name]="event"==d.name?a[d.value]:d.value}),c.vr=b,c.target=this,jui2.uploadField(c)})},adp.textArea=function(a,b){$(b+"[jui2=true][role=textArea]").each(function(){var c={};$.each(this.attributes,function(b,d){c[d.name]="event"==d.name?a[d.value]:d.value}),c.vr=b,c.target=this,jui2.textArea(c)})},adp.passwordField=function(a,b){$(b+"[jui2=true][role=passwordField]").each(function(){var c={};$.each(this.attributes,function(b,d){c[d.name]="event"==d.name?a[d.value]:d.value}),c.vr=b,c.target=this,jui2.passwordField(c)})},adp.datePicker=function(a,b){$(b+"[jui2=true][role=datePicker]").each(function(){var c={};$.each(this.attributes,function(b,d){c[d.name]="event"==d.name?a[d.value]:d.value}),c.vr=b,c.target=this,jui2.datePicker(c)})},adp.comboField=function(vr,selector){$(selector+"[jui2=true][role=comboField]").each(function(){for(var data={},i=this.attributes.length,attr=this.attributes;i--;)val=attr[i],"data"==val.name&&(data.items=val.value)||(data[val.name]=-1^["items","display","display-name","firstload"].indexOf(val.name)&&eval(val.value)||"data"==val.name&&val.value||"event"==val.name&&vr[val.value]||"length"==val.name&&parseInt(val.value)||val.value),"firstload"==val.name&&(data[val.name]=eval(val.value));data.vr=selector,data.target=this,jui2.comboField(data)})},adp.radioField=function(vr,selector){$(selector+"[jui2=true][role=radioField]").each(function(){var data={};$.each(this.attributes,function(i,val){switch(val.name){case"items":data.items=eval(val.value);break;case"items-from-var":data.items=vr[val.value];break;case"event":data[val.name]=vr[val.value];break;default:data[val.name]=val.value}}),data.vr=selector,data.target=this,jui2.radioField(data)})},adp.checkboxField=function(vr,selector){$(selector+"[jui2=true][role=checkboxField]").each(function(){var data={};$.each(this.attributes,function(i,val){switch(val.name){case"items":data.items=eval(val.value);break;case"items-from-var":data.items=vr[val.value];break;case"event":data[val.name]=vr[val.value];break;default:data[val.name]=val.value}}),data.vr=selector,data.target=this,jui2.checkboxField(data)})},adp.button=function(a,b){$(b+"[jui2=true][role=button]").each(function(){var c={};$.each(this.attributes,function(b,d){c[d.name]="event"==d.name?a[d.value]:d.value}),c.vr=b,c.target=this,jui2.button(c)})},adp.menuButton=function(a,b){$(b+"[jui2=true][role=menuButton]").each(function(){var c={};$.each(this.attributes,function(b,d){c[d.name]="event"==d.name||"menu"==d.name?a[d.value]:d.value}),c.vr=b,c.target=this,jui2.menuButton(c)})},adp.splitButton=function(a,b){$(b+"[jui2=true][role=menuButton]").each(function(){var c={};$.each(this.attributes,function(b,d){c[d.name]="event"==d.name||"menu"==d.name?a[d.value]:d.value}),c.vr=b,c.target=this,jui2.menuButton(c)})},adp.bar=function(a,b){$(b+"[jui2=true][role=bar]").each(function(){var c={};$.each(this.attributes,function(b,d){c[d.name]="event"==d.name||"items"==d.name?a[d.value]:d.value}),c.vr=b,c.target=this,jui2.bar(c)})},adp.timeLine=function(a,b){$(b+"[jui2=true][role=timeLine]").each(function(){var c={};$.each(this.attributes,function(b,d){c[d.name]="event"==d.name?a[d.value]:d.value}),c.vr=b,c.target=this,jui2.bar(c)})},jui2.create=function(a){var b=window[a]||window,c=a?"#"+a+" ":"";$.each(adp,function(a){adp[a](b,c)})}}(jQuery);
//# sourceMappingURL=jui2.min.map